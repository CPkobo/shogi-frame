'use strict';const _0x2c7a=['center','%HIKIWAKE','Time\x20up','##\x20clientHeight=','12px','持駒：','#\x20StopAutoUpdate\x20','log','300px','button_next','\u3000Kifu\x20for\x20JavaScript\x20Pro\x20Version\x20','motigoma_pn_use','\u3000\u3000変化なし','fillText','overrideMimeType','開始局面\x20消費時間（１手/累積）','lastIndexOf','fillStyle','button_backr','store_move_set\x20f=','▽未定','fontSize','strokeRect','hirate','#\x20====\x20TopInfo\x20======','onload','sente_name','jump_back','<br>','shohi_jikan','button_nextr','store','set_modify_kp','<a\x20href=\x22h','substr','\x20COM_WIDTH','is_syuukyoku','block','is_chess_clock','selectedIndex','\x20canY=','***\x20先後未定\x20error','Start\x20','出典：','canvas','\x22\x20target=\x22_blank\x22','clr_bd_data','motijikan','%SENNICHITE','is_bunki_n','indexOf','手数---','comment_str_size','切れ負け','***\x20move_data_from_moti\x20error\x20n=','click','hasChildNodes','pageX','mov_strm_sub','overflowWrap','ShohiGraph\x20COMM_LEFT=','undefined','checkbox','right_img\x20onload','先後未定：','happyou_nengetu','#\x20COM_WIDTH=','get_comment','text','toLowerCase','promote','***\x20back','black','body','80px','</a></FONT></U>','http','***\x20駒の名前が違います。\x20','get_kifu_size','***\x20ERROR\x20202:\x20消費時間:','img','***\x20ban3.jpg\x20load\x20error','resize','next','height','先手持駒：','site','###\x20html_kj_div\x20==\x20null','手まで','text/plain;\x20charset=Shift_JIS','13px\x20\x27メイリオ\x27','move_data_to_moti','href','###\x20comment_str_size=','手番：先手','cookie','ontouchend','20px','Draw','start','search','###\x20Window.focus\x20###','comment_p','***\x20ExecMove\x20','rgb(242,\x20192,\x20119)','fill','is_henka_kp','開始日時：','KIF\x20onload','手番：上手','http:','100px','2px\x20solid\x20#0000ff','###\x20touchDown\x20','場所：','V0.97β','FileList','6442SFHtCU','0px','rgb(204,\x20158,\x20111)','11RPquRj','#\x20Komaoto\x20','top','千日手','clear_kifu','#\x20canvas\x20top=','###\x20window\x20\x20resize','残り時間：','Stop.gif','comment_textarea','border','\x20pt=','square','current_p','#\x20komaotoOnChange\x20\x20\x20','左五枚落ち','scrollTop','text/plain;\x20charset=UTF-8','\x20t=','iPad','<U><FONT\x20color=\x22#0000ff\x22><a\x20href=\x22','消費時間','四枚落ち','checked','modify','rgb(224,\x20178,\x20131)','getTime','set_modify_sub','66685rMPyiB','下手持駒：','入玉宣言勝ち','駒の名前が違います。','740428rkuqkR','150px','className','setk','#\x20mokumeoOnChange\x20\x20\x20','#\x20file_url=','move_no','open','branch','8bHpHoa','rgb(85,\x2085,\x2085)','offsetHeight','11px','終了日時：','***\x20盤面読み込みエラー\x20','\x22\x20target=\x22_blank\x22>','三枚落ち','##\x20cbd.teai=','22px','%KACHI','back_move','下手の持駒：','***\x20自分の駒を取る\x20kt=','flip_teban','1KonWIS','##\x20set_button_positions\x20canvas_top=','genmovq','#\x20OnUpdateChange\x20\x20val\x20=\x20','#\x20kifu_line','作者：','createElement','exec_move','15px','isFirefox=','type',';secure;\x20samesite=None;','erak','右香落ち','***\x20caldir\x20error\x20t=','リーグ成績：','disabled','onerror\x20','modal-content','自動更新しない','left','removeChild','残り時間','mousedown','at\x20','rgb(0,\x200,\x20255)','find_oya','##\x20onloadend\x20readyState=','Y\x20盤内','BackMove','#\x20piece_img.onload','発表年月：','NextB.gif','下手：','move_data_from_moti','ban3.jpg?','Back.gif','motigoma','can_susumeru','***\x20piece_4g.png\x20load\x20error','createTextNode','46px','終了\x20','error\x20moves=','先手反則負け','onloadend','teai','get_koma_2posi','set_modify','absolute','***\x20駒がない\x20f=','teban','get_main_all_time','?te=','**\x20UPDATE_TIME\x20設定エラー:','free_help.html','\x20/\x20','15px\x20\x27メイリオ\x27','ke-22c.mp3','手反則負け','init_teai','store_kifu','＊開始局面','host','###\x20TopInfo\x20canvas_top=','BackR.gif','length','ルールエラー\x20','\u3000\u3000☗','addEventListener','style','***\x20get_kifup\x20error\x20n=','***\x20exec_move\x20error\x20f=','debug_show','kifu_root','\x20f=','2393LIFRml','rgb(255,\x20255,\x20200)','#\x20元\x20body.scrollTop=','sakuhinmei','textContent','DrawPiece\x20s=','自動更新：３分毎','上手番','syutten','event','#\x20OnKifuSelectChange\x20val=','\x20\x20canvas.offsetLeft=','gen_kiki','###\x20START_TESUU=','Blob','userAgent','motigoma_pn','documentElement','modal','get_motijikan','先手：','statusText','substring','send','#\x20Jump_henka\x20n=','650229RTTHOV','src','作品名：','Kifu\x20','lineHeight','change','lineTo','piece','anywhere','iPhone','options','下手番','gote_name','mov_strm_kp','add_comment','14px\x20\x27メイリオ\x27','userAgent=','##\x20ks_h=','button_last','170px','\x20scroll_top=','エラー\x20001：棋譜ファイル名\x20KIF_FILE_NAME\x20の指定がありません。','help.html','###\x20set_button_positions\x20scroll_top2=','apply','firstChild','%TIME_UP','8JmMRFJ','1px\x20solid\x20#888','onUp','反則勝ち','move_data','手番：後手','offsetTop','getElementById','backgroundColor','kifu_array[0]:f=','79571IhJkJE','%JISHOGI','interactive','draw_board\x20onload','margin','clear_info','\x20file_url=','棋譜保存','setTransform','11pt','strokeStyle','localhost','some','button_back','setAttribute','copy_from_board','komaoto=','###\x20cssText=','get_last_move','手番：下手','***\x20空白なし\x20url=\x27','#\x20Not\x20Modified','五枚落ち','current_bunki','127.0.0.1','true','back','#\x20url=','split','手の勝ち','118px','八枚落ち','trim','div','2px','後手の持駒：','二枚落ち','label','rgb(255,\x20255,\x20255)','#EEF5DD','arc','閉じる','slice','none','消費時間：','#fefefe','###\x20html_kj_div\x20!=\x20null','font','clear_sq\x20s=','kisen','*\x20top_label3\x20===\x20\x27undefined\x27','397SICWxJ','%+ILLEGAL_ACTION','\x20move_no2=','komaoto_flg=','end_date','手合割：','current_p_susumeru','error','scroll','***current_p_susumeru\x20next=NULL','left_img\x20onload','#\x20documentElement.scrollTop=','moveTo','Copyright\x20(C)\x202020,\x20Yoshikazu\x20Kakinoki','#\x20komaotoOnChange2\x20\x20\x20','24px','その他','***current_p_susumeru\x20current=NULL','Last.gif','先手の持駒：','kifu_array','time','開始局面','##\x20onClick\x20scroll_top2=','***load_bod_sub2\x20error\x20','$START_TIME:','fillRect','add','*\x20env_div\x20===\x20\x27undefined\x27','===\x20load_kifu\x20===','muji=','Nyugyoku\x20Win','comment_hight=','**\x20f=','13px\x20\x27ＭＳ\x20Ｐゴシック\x27','onerror','get_total_time_kp','%ILLEGAL_MOVE','#\x20csa_load\x20call_tesuu=','status','readyState','innerHTML','option','muji','End\x20','padding','caldir','target','\u3000\u3000☖','***\x20set_kifu_list\x20i=','onclick','https:','position','持ち時間：','readOnly','###\x20touchUp\x20','上手持駒：','protocol','\x20ポイント','targetTouches','store_move\x20','error\x20tos=','beginPath','後手番','false','#\x20OnButtonSaveClick\x20\x20\x20','.kifu','readystatechange','select','BackMove\x20移動元の駒を描く\x20','開始\x20','charAt','button_top','offsetLeft','bunki_flg','残り時間：終局まで','function','飛香落ち','info','#\x20先後未定=','六枚落ち','responseText','<A\x20href=\x22http://kakinoki.o.oo7.jp/js/kifujs.html\x22\x20target=\x22_blank\x22>Kifu\x20for\x20JavaScript\x20Free</A>','###\x20sente_shohi=','value','#\x20onreadystatechange\x20readyState=','500px','lineWidth','get_new_kp','rgb(128,\x20128,\x20128)','rgb(255,\x200,\x200)','\x20h=','drawImage','**\x20store\x20move.k\x20===\x20\x27undefined\x27\x0a','size','blur','変化：','input','KJ_DIV','後手：','***\x20ERROR\x20201:\x20消費時間の手数:','反則負け','***\x20get_new_kp\x20error','12px\x20\x27メイリオ\x27','sakusya','140%','FromToK','***\x20move_data\x20error\x20k=0\x20f=','pageY','11px\x20\x27メイリオ\x27','後手持駒：','rgb(','Illegal\x20Lose','##\x20cookies','button_stop','\x20k=','getBoundingClientRect','button','board','seiseki','rgb(0,\x200,\x200)','textAlign','上手の持駒：','date','##\x20------\x20load_kifu_sub\x20call_tesuu=','stroke','komaoto','_blank','####\x20loading\x20','get_kifup','飛車落ち','sengo_mitei_flg','\x20\x20９','.csa','FileReader','RATE=','角落ち','uniq','\x20kf=','min','display','上手：','Help\x20file_url=','#\x20OnComSizeChange\x20\x20val\x20=\x20','appendChild','###\x20button_env.onclick\x20設定','エラー\x20002：ディレクトリィ\x20KJ_DIR\x20の指定がありません。','abnormal_flg','play','＊開始局面\x20消費時間（１手/累積）','Repetition','mouseup','15px\x20\x27ＭＳ\x20Ｐゴシック\x27','komadaikage.jpg?','###\x20document\x20complete','cssText','rgb(255,\x20255,\x20153)','\u3000Version\x20','width','***\x20mov_strm_kp\x20error\x20k=','709876KLchEd','1px','\x27**','clientHeight','#\x20body.scrollTop=','Firefox','File','***current_p_susumeru\x20branch=NULL','香落ち','button_flip','#\x20canX=','hour\x20','get_next_move','持将棋','replace','01S007.mp3','comment','先手持ち駒','自動更新：60秒毎'];const _0x51cc=function(_0x16f4dd,_0x98584d){_0x16f4dd=_0x16f4dd-0x1ab;let _0x2c7aa8=_0x2c7a[_0x16f4dd];return _0x2c7aa8;};const _0x163623=_0x51cc;(function(_0x212cd1,_0x7e2994){const _0x4dc026=_0x51cc;while(!![]){try{const _0xb86ab4=parseInt(_0x4dc026(0x28f))*-parseInt(_0x4dc026(0x2f4))+parseInt(_0x4dc026(0x277))+-parseInt(_0x4dc026(0x34c))*-parseInt(_0x4dc026(0x2db))+-parseInt(_0x4dc026(0x254))*-parseInt(_0x4dc026(0x280))+-parseInt(_0x4dc026(0x30f))*parseInt(_0x4dc026(0x319))+parseInt(_0x4dc026(0x273))*parseInt(_0x4dc026(0x257))+-parseInt(_0x4dc026(0x1cc));if(_0xb86ab4===_0x7e2994)break;else _0x212cd1['push'](_0x212cd1['shift']());}catch(_0x23a8af){_0x212cd1['push'](_0x212cd1['shift']());}}}(_0x2c7a,0x74e7f));const FREE=!![],HTML_COMMENT=!![];(function(){const _0x5527ee=_0x51cc;var _0x484dd3=location,_0x59a8fd=_0x484dd3[_0x5527ee(0x2ce)],_0x4317aa=[_0x5527ee(0x324),_0x5527ee(0x331)];function _0x213266(){const _0x4863ed=_0x5527ee;if(_0x484dd3[_0x4863ed(0x385)]==='file:')return!![];if(typeof SHOW_LOG!==_0x4863ed(0x21c))return!![];var _0x27c6a0=![];return _0x4317aa[_0x4863ed(0x325)](function(_0x537c26){const _0x1d2772=_0x4863ed;if(_0x59a8fd[_0x1d2772(0x343)](-_0x537c26[_0x1d2772(0x2d1)])===_0x537c26)return _0x27c6a0=!![],!![];}),_0x27c6a0;}for(var _0x5a483d in console){typeof console[_0x5a483d]===_0x5527ee(0x398)&&_0x494e6f(_0x5a483d);}function _0x494e6f(_0x2f2d87){var _0x4c6b60=console[_0x2f2d87];console[_0x2f2d87]=function(){const _0x562cda=_0x51cc;_0x213266()&&_0x4c6b60[_0x562cda(0x30c)](this,arguments);};}}());const SENTE=0x80,GOTE=0x0,FF=0xff,FU=0x1,KY=0x2,KE=0x3,GI=0x4,KI=0x5,KA=0x6,HI=0x7,GY=0x8,TO=0x9,NY=0xa,NE=0xb,NG=0xc,UM=0xe,RY=0xf,SFU=0x81,SKY=0x82,SKE=0x83,SGI=0x84,SKI=0x85,SKA=0x86,SHI=0x87,SGY=0x88,HIRATE=0x0,KYOTI=0x1,UKYOTI=0x2,KAOTI=0x3,HIOTI=0x4,HIKYOTI=0x5,NIMAIOTI=0x6,SANMAIOTI=0x7,YOMAIOTI=0x8,GOMAIOTI=0x9,GOMAIOTI_HIDARI=0xa,ROKUMAIOTI=0xb,HATIMAIOTI=0xc,JYUUMAIOTI=0xd,SONOTA=0xe,hirate_board=[FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,KY,0x0,FU,0x0,0x0,0x0,SFU,0x0,SKY,FF,KE,KA,FU,0x0,0x0,0x0,SFU,SHI,SKE,FF,GI,0x0,FU,0x0,0x0,0x0,SFU,0x0,SGI,FF,KI,0x0,FU,0x0,0x0,0x0,SFU,0x0,SKI,FF,GY,0x0,FU,0x0,0x0,0x0,SFU,0x0,SGY,FF,KI,0x0,FU,0x0,0x0,0x0,SFU,0x0,SKI,FF,GI,0x0,FU,0x0,0x0,0x0,SFU,0x0,SGI,FF,KE,HI,FU,0x0,0x0,0x0,SFU,SKA,SKE,FF,KY,0x0,FU,0x0,0x0,0x0,SFU,0x0,SKY],hirate_sqr=[0x0,0x11,0x5d,0x61,0xd,0x1b,0x53,0x57,0x17,0x25,0x49,0x4d,0x21,0x2f,0x3f,0x43,0x2b,0x39,0x35,0x13,0x5b,0x63,0xb,0x1d,0x51,0x59,0x15,0x27,0x47,0x4f,0x1f,0x31,0x3d,0x45,0x29,0x58,0x16,0x1c,0x52,0x3b,0x33],kiki_n=[0x0,0x1,0x1,0x2,0x5,0x6,0x4,0x4,0x8,0x6,0x6,0x6,0x6,0x6,0x8,0x8],kiki_vec=[[0x0],[0x1],[0x1],[-0x8,0xc],[-0xb,-0x9,0x1,0x9,0xb],[-0xa,-0x9,-0x1,0x1,0xa,0xb],[-0xb,-0x9,0x9,0xb],[-0xa,-0x1,0x1,0xa],[-0xb,-0xa,-0x9,-0x1,0x1,0x9,0xa,0xb],[-0xa,-0x9,-0x1,0x1,0xa,0xb],[-0xa,-0x9,-0x1,0x1,0xa,0xb],[-0xa,-0x9,-0x1,0x1,0xa,0xb],[-0xa,-0x9,-0x1,0x1,0xa,0xb],[-0xa,-0x9,-0x1,0x1,0xa,0xb],[-0xb,-0xa,-0x9,-0x1,0x1,0x9,0xa,0xb],[-0xb,-0xa,-0x9,-0x1,0x1,0x9,0xa,0xb]],kiki_long=[[0x0],[0x0],[0x1],[0x0,0x0],[0x0,0x0,0x0,0x0,0x0],[0x0,0x0,0x0,0x0,0x0,0x0],[0x1,0x1,0x1,0x1],[0x1,0x1,0x1,0x1],[0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0],[0x0,0x0,0x0,0x0,0x0,0x0],[0x0,0x0,0x0,0x0,0x0,0x0],[0x0,0x0,0x0,0x0,0x0,0x0],[0x0,0x0,0x0,0x0,0x0,0x0],[0x0,0x0,0x0,0x0,0x0,0x0],[0x1,0x0,0x1,0x0,0x0,0x1,0x0,0x1],[0x0,0x1,0x0,0x1,0x1,0x0,0x1,0x0]],pice_no=[[0x0,0x0],[0x1,0x12],[0x13,0x16],[0x17,0x1a],[0x1b,0x1e],[0x1f,0x22],[0x23,0x24],[0x25,0x26],[0x27,0x28]];class Board{constructor(){const _0x404f6e=_0x51cc;this[_0x404f6e(0x3c2)]=new Array(0x6f),this[_0x404f6e(0x2fb)]=new Array(0x6f),this['square']=new Array(0x29),this[_0x404f6e(0x2b4)]=new Array(0x2);for(var _0x369595=0x0;_0x369595<0x2;_0x369595++){this[_0x404f6e(0x2b4)][_0x369595]=new Array(0x8);}this[_0x404f6e(0x1ea)]=new Array(0x8),this[_0x404f6e(0x2eb)]=new Array(0x8);for(_0x369595=0x0;_0x369595<0x8;_0x369595++){this[_0x404f6e(0x2eb)][_0x369595]=new Array(0x12);}this['hirate']();}['log'](){const _0x7d2a12=_0x51cc;console[_0x7d2a12(0x1e6)](_0x7d2a12(0x1dd));for(let _0x4fbccf=0x0;_0x4fbccf<0x8;_0x4fbccf++){console[_0x7d2a12(0x1e6)]('k='+_0x4fbccf+'\x20'+this[_0x7d2a12(0x2b4)][0x1][_0x4fbccf]);}}[_0x163623(0x28e)](){const _0x5347e6=_0x163623;this[_0x5347e6(0x2c2)]=0x80-this['teban'];}['hirate'](){const _0x72517f=_0x163623;for(var _0x1ed9dd=0x0;_0x1ed9dd<=0x63;_0x1ed9dd++)this[_0x72517f(0x3c2)][_0x1ed9dd]=hirate_board[_0x1ed9dd];for(_0x1ed9dd=0x64;_0x1ed9dd<=0x6e;_0x1ed9dd++)this[_0x72517f(0x3c2)][_0x1ed9dd]=FF;for(var _0x211c92=0x0;_0x211c92<0x2;_0x211c92++){for(let _0x2edac3=0x0;_0x2edac3<0x8;_0x2edac3++)this[_0x72517f(0x2b4)][_0x211c92][_0x2edac3]=0x0;}this[_0x72517f(0x2c2)]=SENTE;for(var _0x5f27fc=0x1;_0x5f27fc<=0x28;_0x5f27fc++){_0x1ed9dd=this[_0x72517f(0x263)][_0x5f27fc]=hirate_sqr[_0x5f27fc],this[_0x72517f(0x2fb)][_0x1ed9dd]=_0x5f27fc;}for(var _0x2e082b=0x0;_0x2e082b<0x8;_0x2e082b++)this[_0x72517f(0x1ea)][_0x2e082b]=0x0;for(_0x2e082b=0x0;_0x2e082b<0x8;_0x2e082b++){for(_0x211c92=0x0;_0x211c92<0x12;_0x211c92++){this['motigoma_pn'][_0x2e082b][_0x211c92]=0x0;}}this[_0x72517f(0x2bd)]=HIRATE;}[_0x163623(0x29b)](_0x4723ca){const _0x24be42=_0x163623;let _0x5ab9dc=this[_0x24be42(0x2fb)][_0x4723ca];this['square'][_0x5ab9dc]=0x0,this[_0x24be42(0x2fb)][_0x4723ca]=this['board'][_0x4723ca]=0x0;}[_0x163623(0x2cb)](_0x4e7c2e){const _0x1dd36c=_0x163623;if(_0x4e7c2e>=SONOTA)return;this[_0x1dd36c(0x1f6)](),this[_0x1dd36c(0x2bd)]=_0x4e7c2e;if(_0x4e7c2e!=HIRATE)this[_0x1dd36c(0x2c2)]=GOTE;if(_0x4e7c2e==KYOTI)this[_0x1dd36c(0x29b)](0xb);else{if(_0x4e7c2e==UKYOTI)this[_0x1dd36c(0x29b)](0x5b);else{if(_0x4e7c2e==KAOTI)this[_0x1dd36c(0x29b)](0x16);else{if(_0x4e7c2e==HIOTI)this[_0x1dd36c(0x29b)](0x52);else{if(_0x4e7c2e==HIKYOTI)this['erak'](0x52),this[_0x1dd36c(0x29b)](0xb);else{if(_0x4e7c2e>=NIMAIOTI){this[_0x1dd36c(0x29b)](0x16),this[_0x1dd36c(0x29b)](0x52);if(_0x4e7c2e>=SANMAIOTI){this[_0x1dd36c(0x29b)](0x5b);if(_0x4e7c2e>=YOMAIOTI){this['erak'](0xb);if(_0x4e7c2e==GOMAIOTI)this[_0x1dd36c(0x29b)](0x51);else{if(_0x4e7c2e==GOMAIOTI_HIDARI)this[_0x1dd36c(0x29b)](0x15);else _0x4e7c2e>=ROKUMAIOTI&&(this[_0x1dd36c(0x29b)](0x15),this[_0x1dd36c(0x29b)](0x51),_0x4e7c2e>=HATIMAIOTI&&(this['erak'](0x1f),this[_0x1dd36c(0x29b)](0x47),_0x4e7c2e==JYUUMAIOTI&&(this[_0x1dd36c(0x29b)](0x29),this['erak'](0x3d))));}}}}}}}}}}[_0x163623(0x20d)](){const _0x55d62d=_0x163623;for(let _0x234728=0x1;_0x234728<=0x9;_0x234728++)for(let _0x36e636=0x1;_0x36e636<=0x9;_0x36e636++){this[_0x55d62d(0x3c2)][_0x36e636*0xa+_0x234728]=0x0;}for(let _0x522a3d=0x0;_0x522a3d<0x2;_0x522a3d++){for(let _0x41352d=0x0;_0x41352d<0x8;_0x41352d++)this[_0x55d62d(0x2b4)][_0x522a3d][_0x41352d]=0x0;}}['copy_from_board'](_0x339872){const _0x390e6a=_0x163623;let _0x3feca7;for(_0x3feca7=0x0;_0x3feca7<=0x63;_0x3feca7++){this['board'][_0x3feca7]=_0x339872[_0x390e6a(0x3c2)][_0x3feca7],this['piece'][_0x3feca7]=_0x339872[_0x390e6a(0x2fb)][_0x3feca7];}for(_0x3feca7=0x0;_0x3feca7<0x29;_0x3feca7++)this[_0x390e6a(0x263)][_0x3feca7]=_0x339872[_0x390e6a(0x263)][_0x3feca7];for(_0x3feca7=0x0;_0x3feca7<0x2;_0x3feca7++){for(let _0x358a7c=0x0;_0x358a7c<0x8;_0x358a7c++){this[_0x390e6a(0x2b4)][_0x3feca7][_0x358a7c]=_0x339872['motigoma'][_0x3feca7][_0x358a7c];}}this['teban']=_0x339872[_0x390e6a(0x2c2)],this[_0x390e6a(0x2bd)]=_0x339872[_0x390e6a(0x2bd)];}[_0x163623(0x3b6)](_0x2a8789){const _0x13bb78=_0x163623;_0x2a8789<0x0&&console[_0x13bb78(0x353)](_0x13bb78(0x36d)+_0x2a8789);let _0x3be188;if(_0x2a8789>0x63){if((_0x2a8789&0x10)!=0x0)_0x3be188=SENTE|_0x2a8789&0x7;else _0x3be188=_0x2a8789&0x7;}else _0x3be188=this[_0x13bb78(0x3c2)][_0x2a8789];return _0x3be188;}['setk'](_0x24e3fa){const _0x14e4c0=_0x163623;let _0x360d32,_0x270612,_0x2ef57e,_0x3cbc77;_0x360d32=pice_no[_0x24e3fa&0x7][0x0],_0x270612=pice_no[_0x24e3fa&0x7][0x1];for(_0x2ef57e=_0x360d32,_0x3cbc77=0xb;_0x2ef57e<=_0x270612&&_0x3cbc77<=0x63;_0x3cbc77++){(this[_0x14e4c0(0x3c2)][_0x3cbc77]&0x7)==_0x24e3fa&&this[_0x14e4c0(0x3c2)][_0x3cbc77]!=0xff&&(this['square'][_0x2ef57e]=_0x3cbc77,this[_0x14e4c0(0x2fb)][_0x3cbc77]=_0x2ef57e,_0x2ef57e++);}let _0x1ebbf2,_0x3e3bf2;this['motigoma_pn_use'][_0x24e3fa]=0x0;for(_0x1ebbf2=0x0;_0x1ebbf2<this[_0x14e4c0(0x2b4)][0x0][_0x24e3fa];_0x1ebbf2++){this[_0x14e4c0(0x263)][_0x2ef57e]=0x0,_0x3e3bf2=this['motigoma_pn_use'][_0x24e3fa]++,this[_0x14e4c0(0x2eb)][_0x24e3fa][_0x3e3bf2]=_0x2ef57e++;}for(_0x1ebbf2=0x0;_0x1ebbf2<this[_0x14e4c0(0x2b4)][0x1][_0x24e3fa];_0x1ebbf2++){this[_0x14e4c0(0x263)][_0x2ef57e]=0x0,_0x3e3bf2=this['motigoma_pn_use'][_0x24e3fa]++,this[_0x14e4c0(0x2eb)][_0x24e3fa][_0x3e3bf2]=_0x2ef57e++;}for(;_0x2ef57e<=_0x270612;_0x2ef57e++)this[_0x14e4c0(0x263)][_0x2ef57e]=0x0;}['setbd'](){const _0x36a728=_0x163623;let _0x1719eb;for(_0x1719eb=0x0;_0x1719eb<=0x63;_0x1719eb++)this[_0x36a728(0x2fb)][_0x1719eb]=0x0;for(let _0x15bc76=FU;_0x15bc76<=HI;_0x15bc76++)this[_0x36a728(0x27a)](_0x15bc76);this[_0x36a728(0x263)][0x27]=0x0;for(_0x1719eb=0xb;_0x1719eb<=0x63;_0x1719eb++)if(this[_0x36a728(0x3c2)][_0x1719eb]==SGY){this[_0x36a728(0x263)][0x27]=_0x1719eb,this[_0x36a728(0x2fb)][_0x1719eb]=0x27;break;}this[_0x36a728(0x263)][0x28]=0x0;for(_0x1719eb=0xb;_0x1719eb<=0x63;_0x1719eb++)if(this[_0x36a728(0x3c2)][_0x1719eb]==GY){this[_0x36a728(0x263)][0x28]=_0x1719eb,this[_0x36a728(0x2fb)][_0x1719eb]=0x28;break;}}[_0x163623(0x23a)](_0xffd9f3){const _0x4cac1c=_0x163623;let _0x39bef7=this[_0x4cac1c(0x2fb)][_0xffd9f3];this[_0x4cac1c(0x2fb)][_0xffd9f3]=0x0;let _0xef7a4d=this[_0x4cac1c(0x3c2)][_0xffd9f3];this[_0x4cac1c(0x263)][_0x39bef7]=0x0;if((_0xef7a4d&0xf)!=GY){let _0x1a83dd=(_0xef7a4d&0x80)!=0x0?0x0:0x1,_0x5495e2=_0xef7a4d&0x7;this[_0x4cac1c(0x2b4)][_0x1a83dd][0x0]++,this[_0x4cac1c(0x2b4)][_0x1a83dd][_0x5495e2]++;let _0x36f871=this[_0x4cac1c(0x1ea)][_0x5495e2]++;this[_0x4cac1c(0x2eb)][_0x5495e2][_0x36f871]=_0x39bef7;}this[_0x4cac1c(0x3c2)][_0xffd9f3]=0x0;}[_0x163623(0x2b1)](_0x1015d0,_0x51a9b7){const _0x439936=_0x163623;this[_0x439936(0x3c2)][_0x51a9b7]=_0x1015d0;let _0x192a94=_0x1015d0&0x7,_0x57622f=(_0x1015d0&0x80)!=0x0?0x1:0x0;if(this['motigoma'][_0x57622f][0x0]<=0x0){console[_0x439936(0x353)](_0x439936(0x215)+this[_0x439936(0x2b4)][_0x57622f][0x0]);return;}this[_0x439936(0x2b4)][_0x57622f][0x0]--,this[_0x439936(0x2b4)][_0x57622f][_0x192a94]--;var _0x2aab77=--this[_0x439936(0x1ea)][_0x192a94],_0x53a32f=this['motigoma_pn'][_0x192a94][_0x2aab77];this[_0x439936(0x2fb)][_0x51a9b7]=_0x53a32f,this[_0x439936(0x263)][_0x53a32f]=_0x51a9b7;}[_0x163623(0x313)](_0x11c274,_0x49698b){const _0x1f456a=_0x163623;this[_0x1f456a(0x3c2)][_0x11c274]==0x0&&console[_0x1f456a(0x353)](_0x1f456a(0x3b7)+_0x11c274);let _0x27d88d=this['piece'][_0x11c274];this['square'][_0x27d88d]=_0x49698b,this[_0x1f456a(0x3c2)][_0x49698b]=this['board'][_0x11c274],this[_0x1f456a(0x3c2)][_0x11c274]=0x0,this['piece'][_0x11c274]=0x0,this[_0x1f456a(0x2fb)][_0x49698b]=_0x27d88d;}[_0x163623(0x296)](_0x2d3efe){const _0x502771=_0x163623;if(_0x2d3efe['t']<=0xa)return;_0x2d3efe['k']=this[_0x502771(0x3b6)](_0x2d3efe['f']);(_0x2d3efe['k']==0xff||_0x2d3efe['k']==0x0)&&console[_0x502771(0x353)](_0x502771(0x2d7)+_0x2d3efe['f']+_0x502771(0x269)+_0x2d3efe['t']+'\x20k='+_0x2d3efe['k']);let _0x2bcf33=_0x2d3efe['t'];(_0x2d3efe['t']&0x80)!=0x0&&(_0x2bcf33&=0x7f,this[_0x502771(0x3c2)][_0x2d3efe['f']]|=0x8);this[_0x502771(0x3c2)][_0x2bcf33]>0x0&&this[_0x502771(0x23a)](_0x2bcf33);if(_0x2d3efe['f']>0x63)this[_0x502771(0x2b1)](_0x2d3efe['k'],_0x2bcf33);else this[_0x502771(0x313)](_0x2d3efe['f'],_0x2bcf33);}[_0x163623(0x2ac)](_0x32f203){const _0x12255d=_0x163623;if(_0x32f203['t']<=0xa)return;let _0x39a1f8=_0x32f203['t'],_0x463de1=_0x32f203['k'];(_0x32f203['t']&0x80)!=0x0&&(_0x39a1f8&=0x7f,_0x463de1&=0x87);_0x32f203['f']<0x64&&(this['board'][_0x32f203['f']]=_0x463de1);this['board'][_0x39a1f8]=_0x32f203['c'];let _0xd96f17=0x0;if(_0x32f203['c']!=0x0){let _0x4576cb=(_0x32f203['c']&0x80)!=0x0?0x0:0x1,_0x44b482=_0x32f203['c']&0x7;this['motigoma'][_0x4576cb][0x0]--,this[_0x12255d(0x2b4)][_0x4576cb][_0x44b482]--;let _0x9bc43a=--this[_0x12255d(0x1ea)][_0x44b482];_0xd96f17=this[_0x12255d(0x2eb)][_0x44b482][_0x9bc43a],this[_0x12255d(0x263)][_0xd96f17]=_0x39a1f8;}if(_0x32f203['f']>0x63){let _0x228ccf=(_0x32f203['k']&0x80)!=0x0?0x1:0x0,_0x344be4=_0x32f203['k']&0x7;this['motigoma'][_0x228ccf][0x0]++,this[_0x12255d(0x2b4)][_0x228ccf][_0x344be4]++;let _0x4b82b2=this[_0x12255d(0x1ea)][_0x344be4]++,_0x25a3f4=this[_0x12255d(0x2eb)][_0x344be4][_0x4b82b2]=this[_0x12255d(0x2fb)][_0x32f203['t']];this[_0x12255d(0x2fb)][_0x39a1f8]=_0xd96f17,this[_0x12255d(0x263)][_0x25a3f4]=0x0;}else{let _0x102f03=this[_0x12255d(0x2fb)][_0x32f203['f']]=this[_0x12255d(0x2fb)][_0x39a1f8];this['piece'][_0x39a1f8]=_0xd96f17,this['square'][_0x102f03]=_0x32f203['f'];}}[_0x163623(0x28b)](_0x34cfb0){const _0x5c7347=_0x163623;if(_0x34cfb0[_0x5c7347(0x27d)]<=0x0)return;let _0xf59823=_0x34cfb0[_0x5c7347(0x1ad)](_0x34cfb0[_0x5c7347(0x27d)]);if(_0xf59823==null){console[_0x5c7347(0x353)]('***\x20back_move\x20error\x20kp=null\x20move_no='+_0x34cfb0['move_no']);return;}if(_0xf59823['t']>=0xb)this[_0x5c7347(0x28e)]();let _0x5df806=new Kifup();_0x5df806['f']=_0xf59823['f'],_0x5df806['t']=_0xf59823['t'],_0x5df806['k']=_0xf59823['k'],_0x5df806['c']=_0xf59823['c'],this[_0x5c7347(0x2ac)](_0x5df806),_0x34cfb0['back']();return;}[_0x163623(0x1fa)](_0x18354b,_0x554609){const _0xf91278=_0x163623;while(_0x18354b[_0xf91278(0x27d)]>_0x554609&&_0x18354b[_0xf91278(0x27d)]>0x0){this[_0xf91278(0x28b)](_0x18354b);}}[_0x163623(0x291)](_0x11f04e,_0x2ed799){const _0x10e8b9=_0x163623;if(_0x11f04e>0x63)return console[_0x10e8b9(0x1e6)]('genmovq\x20f='+_0x11f04e),0x0;let _0x35478c=this[_0x10e8b9(0x3c2)][_0x11f04e],_0x490f17=_0x35478c&0x80,_0x28c923=_0x35478c&0xf,_0x5f534c=kiki_n[_0x28c923];for(var _0x5201bc=0x0;_0x5201bc<_0x5f534c;_0x5201bc++){let _0x8bb5cd=kiki_vec[_0x28c923][_0x5201bc];if(_0x490f17!=0x0)_0x8bb5cd=-_0x8bb5cd;let _0x32191f=_0x11f04e+_0x8bb5cd;if(_0x32191f==_0x2ed799)return 0x1;if(kiki_long[_0x28c923][_0x5201bc]!=0x0&&this[_0x10e8b9(0x3c2)][_0x32191f]==0x0)for(_0x32191f+=_0x8bb5cd;;_0x32191f+=_0x8bb5cd){if(_0x32191f>0x63||_0x32191f<0xb)break;if(_0x32191f==_0x2ed799)return 0x1;if(this['board'][_0x32191f]!=0x0)break;}}return 0x0;}[_0x163623(0x2e7)](_0x9322b,_0x29f136,_0x534362,_0x42832b){const _0xabe7af=_0x163623;let _0x3217e3=0x0;for(let _0x43d425=0x1;_0x43d425<=0x28;_0x43d425++){let _0x468fb6=this['square'][_0x43d425];if(_0x468fb6==0x0||_0x468fb6==_0x9322b)continue;let _0x1e0d85=this['board'][_0x468fb6];if((_0x1e0d85&0x80)!=_0x29f136)continue;if(this[_0xabe7af(0x291)](_0x468fb6,_0x9322b)!=0x0){_0x42832b[++_0x3217e3]=_0x468fb6;if(_0x3217e3>=_0x534362)break;}}return _0x42832b[0x0]=_0x3217e3;}['caldir'](_0x4772cf,_0x447873){const _0x5e07fb=_0x163623;_0x447873&=0x7f;_0x447873>0x63&&console[_0x5e07fb(0x353)](_0x5e07fb(0x29d)+_0x447873);let _0x4bf57a=_0x447873-_0x4772cf,_0x30b38e;if(_0x4bf57a>=0x0)_0x30b38e=_0x4bf57a;else _0x30b38e=-_0x4bf57a;if(_0x30b38e==0xc)return _0x4bf57a;if(_0x30b38e==0x8)return _0x4bf57a;let _0x3ba0bb=parseInt(_0x4772cf/0xa),_0x4e2ecc=parseInt(_0x447873/0xa);if(_0x3ba0bb==_0x4e2ecc){if(_0x4bf57a>0x0)return 0x1;else return-0x1;}let _0x33f999=_0x4772cf%0xa,_0x10d06b=_0x447873%0xa;if(_0x33f999==_0x10d06b){if(_0x4bf57a>0x0)return 0xa;else return-0xa;}if(_0x3ba0bb+_0x33f999==_0x4e2ecc+_0x10d06b){if(_0x4bf57a>0x0)return 0x9;else return-0x9;}if(_0x3ba0bb-_0x33f999==_0x4e2ecc-_0x10d06b){if(_0x4bf57a>0x0)return 0xb;else return-0xb;}return 0x64;}['promote'](_0x423aea,_0x105bb7,_0x52d75c){if(_0x423aea>0x63||(_0x105bb7&0x80)!=0x0)return 0x0;let _0x18fd0b=_0x52d75c&0xf;if(_0x18fd0b>=GY||_0x18fd0b==KI)return 0x0;var _0x4a59fb=_0x105bb7%0xa;let _0x4b6dee=_0x423aea%0xa;if((_0x52d75c&0x80)==0x0){if(_0x4a59fb<0x7&&_0x4b6dee<0x7)return 0x0;if(_0x18fd0b<=KY){if(_0x4a59fb==0x9)return 0x2;}else{if(_0x18fd0b==KE){if(_0x4a59fb>0x7)return 0x2;}}}else{if(_0x4a59fb>0x3&&_0x4b6dee>0x3)return 0x0;if(_0x18fd0b<=KY){if(_0x4a59fb==0x1)return 0x2;}else{if(_0x18fd0b==KE){if(_0x4a59fb<0x3)return 0x2;}}}return 0x1;}}const KIFU_MAX=0x640,TORYO=0x0,CHUDAN=0x1,HANSOKU_MAKE=0x2,HANSOKU_KACHI=0x3,JISHOGI=0x4,KACHI=0x5,SENNITITE=0x6,KIREMAKE=0x7,SENTE_HANSOKU=0x8,GOTE_HANSOKU=0x9,TUMI=0xa,IKU=0x2,AGARU=0x3,HIKI=0x4,SUGU=0x5,YORI=0x6,MIGI=0x7,HIDARI=0x8,MIGIHIKI=0x9,MIGIYORI=0xa,MIGIAGARU=0xb,HIDARIHIKI=0xc,HIDARIYORI=0xd,HIDARIAGARU=0xe,kdirs=[[-0xc,-0xb,-0xa,-0x9,-0x1,0x1,0x8,0x9,0xa,0xb],[0x0],[-0xb,-0x1,0x9,0x0],[-0xb,-0x1,0x9,0x0],[+0xb,0x1,-0x9,0x0],[-0x1,0x0],[-0xa,0xa,0x0],[0x8,0x9,0xa,0xb,-0x1,0x1,0x0],[-0x9,-0xa,-0xb,-0xc,-0x1,0x1,0x0],[0xb,0x0],[0xa,0x0],[0x9,0x0],[-0x9,0x0],[-0xa,0x0],[-0xb,0x0]];class Kifup{constructor(){const _0x1b4e63=_0x163623;this['f']=0x0,this['t']=0x0,this['c']=0x0,this[_0x1b4e63(0x1dc)]=null,this[_0x1b4e63(0x232)]=null,this[_0x1b4e63(0x27f)]=null;}}class KifuData{constructor(){const _0x15b60c=_0x163623;this[_0x15b60c(0x360)]=new Array(KIFU_MAX),this[_0x15b60c(0x27d)]=0x0,this[_0x15b60c(0x25b)](),this[_0x15b60c(0x31e)](),this[_0x15b60c(0x1bf)]=0x0,this[_0x15b60c(0x396)]=0x0;}[_0x163623(0x242)](){const _0x169ce5=_0x163623;this['move_no']=0x0,this[_0x169ce5(0x264)]=this[_0x169ce5(0x2d9)];}['back'](){const _0xd11447=_0x163623;this[_0xd11447(0x27d)]>0x0&&(this['move_no']--,this[_0xd11447(0x264)]=this[_0xd11447(0x2a9)](this['current_p']));}['clear_kifu'](){const _0x120108=_0x163623;for(let _0x1b7f69=0x0;_0x1b7f69<KIFU_MAX;_0x1b7f69++){let _0x18818f=new Kifup();this[_0x120108(0x360)][_0x1b7f69]=_0x18818f;}this[_0x120108(0x2d9)]=this[_0x120108(0x264)]=this[_0x120108(0x360)][0x0],this[_0x120108(0x242)]();}[_0x163623(0x2d8)](){const _0x1aa2da=_0x163623;console[_0x1aa2da(0x1e6)](_0x1aa2da(0x318)+this[_0x1aa2da(0x360)][0x0]['f']+_0x1aa2da(0x269)+this[_0x1aa2da(0x360)][0x0]['t']),console['log']('kifu_array[1]:f='+this[_0x1aa2da(0x360)][0x1]['f']+'\x20t='+this['kifu_array'][0x1]['t']);}[_0x163623(0x31e)](){const _0x4d128b=_0x163623;this['sengo_mitei_flg']=0x0,this[_0x4d128b(0x1f9)]='',this['gote_name']='',this[_0x4d128b(0x34a)]='',this['site']='',this[_0x4d128b(0x3c7)]='',this[_0x4d128b(0x350)]='',this[_0x4d128b(0x3c3)]='',this[_0x4d128b(0x1fc)]='',this[_0x4d128b(0x20e)]='',this[_0x4d128b(0x3b4)]='',this[_0x4d128b(0x2de)]='',this[_0x4d128b(0x2e3)]='',this[_0x4d128b(0x220)]='';}[_0x163623(0x2a9)](_0x2ef3a5){const _0x135c87=_0x163623;if(_0x2ef3a5==this[_0x135c87(0x2d9)]||_0x2ef3a5==null)return null;for(let _0x49f055=0x0;_0x49f055<KIFU_MAX;_0x49f055++){let _0x248113=this[_0x135c87(0x360)][_0x49f055];if(_0x248113[_0x135c87(0x232)]==_0x2ef3a5)return _0x248113;if(_0x248113[_0x135c87(0x27f)]==_0x2ef3a5)return this['find_oya'](_0x248113);}return null;}[_0x163623(0x22d)](){const _0x2dd274=_0x163623;if(this[_0x2dd274(0x264)]==null)return 0x0;let _0x1395c6=0x0,_0x400070;for(_0x400070=this['current_p'];;_0x1395c6++){_0x400070=this[_0x2dd274(0x2a9)](_0x400070);if(_0x400070==null)break;}for(_0x400070=this[_0x2dd274(0x264)];;_0x1395c6++){_0x400070=_0x400070['next'];if(_0x400070==null)break;}return _0x1395c6;}[_0x163623(0x370)](_0x209fc1){const _0x196622=_0x163623;if(_0x209fc1==null)return 0x0;let _0x365df4=0x0,_0x37c246=0x0;for(;;){if(_0x209fc1==null||_0x209fc1==this[_0x196622(0x2d9)])break;if((_0x37c246&0x1)==0x0)_0x365df4+=_0x209fc1[_0x196622(0x361)];_0x209fc1=this[_0x196622(0x2a9)](_0x209fc1),_0x37c246++;}return _0x365df4;}[_0x163623(0x205)](){const _0x2442a8=_0x163623;for(let _0x369dcf=this['kifu_root'];;){if(_0x369dcf==null)break;if(_0x369dcf!=this[_0x2442a8(0x2d9)]){if(_0x369dcf['f']==0x0&&_0x369dcf['t']==0x0)break;if(_0x369dcf[_0x2442a8(0x361)]%0x3c!=0x0)return 0x1;}_0x369dcf=_0x369dcf[_0x2442a8(0x232)];}return 0x0;}[_0x163623(0x2c3)](){const _0x4d97aa=_0x163623;let _0x3fa082=0x0;for(let _0x3f72f9=this[_0x4d97aa(0x2d9)];;){if(_0x3f72f9==null)break;if(_0x3f72f9!=this[_0x4d97aa(0x2d9)]){if(_0x3f72f9['f']==0x0&&_0x3f72f9['t']==0x0)break;_0x3fa082+=_0x3f72f9['time'];}_0x3f72f9=_0x3f72f9[_0x4d97aa(0x232)];}return _0x3fa082;}[_0x163623(0x1ad)](_0x1b39da){const _0x48f46c=_0x163623;if(_0x1b39da<0x0)return console['log'](_0x48f46c(0x2d6)+_0x1b39da),null;if(_0x1b39da==0x0)return this[_0x48f46c(0x2d9)];if(_0x1b39da==this[_0x48f46c(0x27d)])return this['current_p'];if(this[_0x48f46c(0x264)]==null)return null;let _0x551c0f=this[_0x48f46c(0x264)],_0x2394ab=this['move_no'];if(_0x1b39da>this[_0x48f46c(0x27d)])for(;;){_0x551c0f=_0x551c0f[_0x48f46c(0x232)];if(_0x551c0f==null)return console[_0x48f46c(0x353)](_0x48f46c(0x2d6)+_0x1b39da+_0x48f46c(0x34e)+_0x2394ab),null;_0x2394ab++;if(_0x1b39da==_0x2394ab)return _0x551c0f;}else for(;;){_0x551c0f=this[_0x48f46c(0x2a9)](_0x551c0f);if(_0x551c0f==null)return console[_0x48f46c(0x353)]('***\x20get_kifup\x20error\x20n='+_0x1b39da+'\x20move_no2='+_0x2394ab),null;_0x2394ab--;if(_0x1b39da==_0x2394ab)return _0x551c0f;}return null;}[_0x163623(0x1d8)](){const _0x2dd2bc=_0x163623;let _0x2edfc1=new Kifup();if(this[_0x2dd2bc(0x264)]==null)return _0x2edfc1['f']=_0x2edfc1['t']=0x0,_0x2edfc1;let _0xcffc4e=this[_0x2dd2bc(0x264)][_0x2dd2bc(0x232)];if(_0xcffc4e==null)return _0x2edfc1['f']=_0x2edfc1['t']=0x0,_0x2edfc1;return _0x2edfc1['f']=_0xcffc4e['f'],_0x2edfc1['t']=_0xcffc4e['t'],_0x2edfc1;}[_0x163623(0x32b)](){const _0x1e63b9=_0x163623;let _0x566faf=new Kifup();if(this['current_p']==null||this['current_p']==this['kifu_root'])_0x566faf['f']=_0x566faf['t']=0x0;else{_0x566faf['f']=this[_0x1e63b9(0x264)]['f'],_0x566faf['t']=this[_0x1e63b9(0x264)]['t'];if(_0x566faf['t']<0xb){let _0x432fdf=this[_0x1e63b9(0x2a9)](this['current_p']);_0x432fdf==null||_0x432fdf==this[_0x1e63b9(0x2d9)]?_0x566faf['f']=_0x566faf['t']=0x0:(_0x566faf['f']=_0x432fdf['f'],_0x566faf['t']=_0x432fdf['t']);}}return _0x566faf;}[_0x163623(0x333)](){const _0x38506b=_0x163623;if(this[_0x38506b(0x27d)]<=0x0){console[_0x38506b(0x353)](_0x38506b(0x226));return;}this[_0x38506b(0x27d)]--,this[_0x38506b(0x264)]=this[_0x38506b(0x2a9)](this[_0x38506b(0x264)]);}[_0x163623(0x352)](_0x45b534){const _0x3c02e6=_0x163623;if(this[_0x3c02e6(0x264)]==null)return console[_0x3c02e6(0x353)](_0x3c02e6(0x35d)),-0x1;var _0x5a4c3c=this[_0x3c02e6(0x264)]['next'];if(_0x5a4c3c==null)return console[_0x3c02e6(0x353)](_0x3c02e6(0x355)),-0x1;if(_0x45b534['f']==_0x5a4c3c['f']&&_0x45b534['t']==_0x5a4c3c['t'])return this[_0x3c02e6(0x264)]=_0x5a4c3c,0x0;_0x5a4c3c=_0x5a4c3c['branch'];for(;;){if(_0x5a4c3c==null)return console[_0x3c02e6(0x353)](_0x3c02e6(0x1d3)),-0x1;if(_0x45b534['f']==_0x5a4c3c['f']&&_0x45b534['t']==_0x5a4c3c['t'])return this['current_p']=_0x5a4c3c,0x0;_0x5a4c3c=_0x5a4c3c[_0x3c02e6(0x27f)];}return-0x1;}['can_susumeru'](){const _0x454faa=_0x163623;var _0x44a029=this[_0x454faa(0x1d8)]();if(_0x44a029['t']<0xb)return 0x0;if(_0x44a029['f']!=0x0)return 0x1;return 0x0;}['is_syuukyoku'](){const _0x20942e=_0x163623;for(let _0x5ba0c4=this[_0x20942e(0x2d9)];;){if(_0x5ba0c4==null)break;if(_0x5ba0c4!=this[_0x20942e(0x2d9)]){if(_0x5ba0c4['f']==0x0&&_0x5ba0c4['t']==0x0)break;if(_0x5ba0c4['f']!=0x0&&_0x5ba0c4['t']<0xb)return 0x1;}_0x5ba0c4=_0x5ba0c4[_0x20942e(0x232)];}return 0x0;}['BRANCH_______________'](){}[_0x163623(0x330)](){const _0x594db2=_0x163623;if(this['bunki_flg']==0x0)return 0x0;if(this['current_p']==null)return 0x0;let _0x2bdd7b=this[_0x594db2(0x264)][_0x594db2(0x232)];if(_0x2bdd7b==null)return 0x0;if(_0x2bdd7b[_0x594db2(0x27f)]!=null)return 0x1;return 0x0;}[_0x163623(0x210)](_0x1901ee){const _0x29af71=_0x163623;if(this[_0x29af71(0x396)]==0x0)return 0x0;let _0x410025=this[_0x29af71(0x1ad)](_0x1901ee);if(_0x410025==null)return 0x0;if(_0x410025[_0x29af71(0x27f)]!=null)return 0x1;let _0x57ca15=this[_0x29af71(0x2a9)](_0x410025);if(_0x57ca15==null)return 0x0;if(_0x57ca15[_0x29af71(0x232)]==_0x410025)return 0x0;if(_0x57ca15[_0x29af71(0x232)]['branch']!=null)return 0x1;return 0x0;}[_0x163623(0x249)](_0x5d5134){const _0x41b0f9=_0x163623;if(_0x5d5134==null)return 0x0;let _0x421b90;for(_0x421b90=_0x5d5134;;){let _0x46374c=this['find_oya'](_0x421b90);if(_0x46374c==null)break;if(_0x46374c[_0x41b0f9(0x232)]!=_0x421b90)return 0x1;if(_0x46374c==this[_0x41b0f9(0x2d9)])break;_0x421b90=_0x46374c;}return 0x0;}['get_comment'](_0x43c656){const _0x11aed7=_0x163623;let _0x3e47f5=this[_0x11aed7(0x1ad)](_0x43c656);if(_0x3e47f5==null)return null;return _0x3e47f5[_0x11aed7(0x1dc)];}[_0x163623(0x302)](_0x274381,_0x40a14d){const _0x34d072=_0x163623;let _0x29aabe=this[_0x34d072(0x1ad)](_0x274381);if(_0x29aabe==null)return-0x4;let _0xe888c6=_0x29aabe[_0x34d072(0x1dc)];return _0xe888c6==null?_0x29aabe[_0x34d072(0x1dc)]=_0x40a14d:_0x29aabe[_0x34d072(0x1dc)]+='\x0a'+_0x40a14d,0x0;}[_0x163623(0x2ee)](){const _0x3dac02=_0x163623;let _0x33f4a4=this[_0x3dac02(0x20e)];if(_0x33f4a4==null)return 0x0;if(_0x33f4a4[_0x3dac02(0x211)]('各')==0x0){_0x33f4a4=_0x33f4a4[_0x3dac02(0x2f1)](0x1);if(_0x33f4a4==null)return 0x0;}let _0x5b7d44;if(_0x33f4a4[_0x3dac02(0x393)](0x0)>='0'&&_0x33f4a4[_0x3dac02(0x393)](0x0)<='9')_0x5b7d44=parseInt(_0x33f4a4['charAt'](0x0));else _0x5b7d44=get_zen_num(_0x33f4a4);let _0x351785=0x0,_0x1b4cb1=_0x33f4a4[_0x3dac02(0x211)]('分');if(_0x1b4cb1>=0x0){let _0x59f862=_0x33f4a4[_0x3dac02(0x211)]('時間');if(_0x59f862>=0x0){if(_0x33f4a4['charAt'](_0x59f862+0x2)>='0'&&_0x33f4a4[_0x3dac02(0x393)](_0x59f862+0x2)<='9'){let _0x593828=parseInt(_0x33f4a4[_0x3dac02(0x393)](_0x59f862+0x2));if(isNaN(_0x593828))return 0x0;if(_0x33f4a4[_0x3dac02(0x393)](_0x59f862+0x3)>='0'&&_0x33f4a4[_0x3dac02(0x393)](_0x59f862+0x3)<='9'){let _0x1642a2=parseInt(_0x33f4a4[_0x3dac02(0x393)](_0x59f862+0x3));if(isNaN(_0x1642a2))return 0x0;_0x351785=_0x593828*0xa+_0x1642a2;}else _0x351785=_0x593828;}}else _0x5b7d44=0x0,_0x351785=parseInt(_0x33f4a4);}return _0x5b7d44*0x3c+_0x351785;}[_0x163623(0x2be)](_0x489bd4,_0x1d8bdd){let _0x548a7f=0x0,_0x5b2e08=0x0;for(var _0x4fe403=0xb;_0x4fe403<=0x63;_0x4fe403++){if(_0x489bd4['board'][_0x4fe403]==_0x1d8bdd){if(_0x548a7f==0x0)_0x548a7f=_0x4fe403;else _0x5b2e08=_0x4fe403;}}let _0x366c34=new Point();return _0x366c34['x']=_0x548a7f,_0x366c34['y']=_0x5b2e08,_0x366c34;}[_0x163623(0x1b5)](_0x1d1a32,_0x37a1eb,_0x1df996,_0x511ac7,_0x15a6d4,_0x4a1ce3,_0x2f55d1,_0x2eec6a){const _0x5455af=_0x163623;let _0x5393ce=_0x15a6d4&0xf;if((_0x5393ce==RY||_0x5393ce==UM)&&(_0x4a1ce3==MIGI||_0x4a1ce3==HIDARI)){let _0x52175c=this[_0x5455af(0x2be)](_0x1d1a32,_0x15a6d4),_0x183721=parseInt(_0x52175c['x']/0xa),_0x40a9fa=parseInt(_0x52175c['y']/0xa);if(_0x52175c['y']>0x0&&_0x183721!=_0x40a9fa)return _0x4a1ce3;}let _0x512a3d=_0x2f55d1[0x0];for(let _0x188000=0x1;_0x188000<=_0x512a3d;_0x188000++){let _0x2a7f95=_0x2f55d1[_0x188000];if(_0x2a7f95==_0x1df996)continue;if(_0x1d1a32['board'][_0x2a7f95]==_0x15a6d4){let _0x46d885=_0x1d1a32['caldir'](_0x2a7f95,_0x511ac7);for(let _0x54ca6d=0x0;_0x54ca6d<0xa;_0x54ca6d++){let _0x511ab4=kdirs[_0x4a1ce3][_0x54ca6d];if(_0x511ab4==0x0)break;if(_0x2eec6a==0x0&&(_0x4a1ce3==MIGI||_0x4a1ce3==HIDARI)&&_0x511ab4==-0x1)break;if(_0x37a1eb==GOTE)_0x511ab4=-_0x511ab4;if(_0x511ab4==_0x46d885)return 0x0;}}}return _0x4a1ce3;}[_0x163623(0x272)](_0x170d62,_0x5201a8,_0x244f90,_0x2d98a1,_0x5bed17,_0x3229d5){const _0x494568=_0x163623;let _0x591566=_0x3229d5['f'],_0xa3da52=_0x170d62[_0x494568(0x3c2)][_0x591566],_0x5cb743=_0xa3da52&0xf;if(_0x591566!=0x0&&(_0x5cb743==RY||_0x5cb743==UM)){let _0x823481=this[_0x494568(0x2be)](_0x170d62,_0xa3da52),_0x205400=_0x823481['x'],_0x41b043=_0x823481['y'],_0x32e49a=parseInt(_0x205400/0xa),_0x463787=parseInt(_0x41b043/0xa);if(_0x41b043>0x0&&_0x32e49a!=_0x463787){let _0x5761b7=_0x3229d5['t']&0x7f,_0x28077e=_0x5761b7%0xa,_0x2614bb=_0x205400%0xa,_0x5f2561=_0x41b043%0xa;if(_0x2614bb>_0x28077e&&_0x5f2561>_0x28077e||_0x2614bb<_0x28077e&&_0x5f2561<_0x28077e){var _0x184219=parseInt(_0x591566/0xa);if(_0xa3da52&0x80){if(_0x591566==_0x205400){if(_0x184219>_0x463787)return HIDARI;else return MIGI;}else{if(_0x184219>_0x32e49a)return HIDARI;else return MIGI;}}else{if(_0x591566==_0x205400){if(_0x184219>_0x463787)return MIGI;else return HIDARI;}else{if(_0x184219>_0x32e49a)return MIGI;else return HIDARI;}}}}}for(;_0x5bed17<=0xe;_0x5bed17++){if(_0x244f90&&_0x5bed17==SUGU)continue;for(let _0x1c2a31=0x0;_0x1c2a31<0xa;_0x1c2a31++){let _0x542001=kdirs[_0x5bed17][_0x1c2a31];if(_0x542001==0x0)break;if(_0x244f90==0x0&&(_0x5bed17==MIGI||_0x5bed17==HIDARI)&&_0x542001==-0x1)break;if(_0x5201a8==GOTE)_0x542001=-_0x542001;if(_0x542001==_0x2d98a1){if((_0x5cb743==RY||_0x5cb743==UM)&&(_0x5bed17==MIGIHIKI||_0x5bed17==MIGIAGARU||_0x5bed17==HIDARIHIKI||_0x5bed17==HIDARIAGARU)){p=this['get_koma_2posi'](_0x170d62,_0xa3da52),posi1=p['x'],posi2=p['y'],posi1y=posi1%0xa,posi2y=posi2%0xa;if(posi2>0x0&&posi1y==posi2y){if(_0x5bed17==MIGIHIKI||_0x5bed17==MIGIAGARU)return MIGI;return HIDARI;}}return _0x5bed17;}}}return 0x0;}[_0x163623(0x2bf)](_0x26213b,_0x10e620){const _0x31d8a0=_0x163623;let _0x1ae5db=new Array(0x14),_0x4ea362=_0x10e620['f'],_0x3f9af2=_0x26213b[_0x31d8a0(0x3b6)](_0x4ea362),_0x5d384d;if((_0x3f9af2&0x6)==0x6)_0x5d384d=0x1;else _0x5d384d=0x0;let _0x100767=_0x3f9af2&0x80,_0x1e35f2=_0x10e620['t'],_0x2d0ef1=_0x1e35f2&0x7f,_0x291ebb=0x0;if((_0x1e35f2&0x80)==0x0&&_0x26213b[_0x31d8a0(0x225)](_0x4ea362,_0x2d0ef1,_0x3f9af2)!=0x0)_0x291ebb=0x40;let _0x44996c=_0x26213b[_0x31d8a0(0x2e7)](_0x2d0ef1,_0x100767,0xa,_0x1ae5db),_0x169a05;if((_0x1e35f2&0x80)!=0x0)_0x169a05=_0x3f9af2&0x87;else _0x169a05=_0x3f9af2;let _0x3682be=0x0;for(let _0x403294=0x1;_0x403294<=_0x44996c;_0x403294++){let _0x385e68=_0x1ae5db[_0x403294];if(_0x385e68==_0x4ea362)continue;if(_0x26213b[_0x31d8a0(0x3c2)][_0x385e68]==_0x169a05){_0x3682be++;break;}}let _0x34485e;if(_0x3682be==0x0)return _0x34485e=0x1,_0x34485e|_0x291ebb;if(_0x4ea362>0x63)return _0x291ebb;let _0x3d8ba5=_0x26213b[_0x31d8a0(0x37a)](_0x4ea362,_0x2d0ef1);for(let _0xdf10f6=0x3;;_0xdf10f6++){_0xdf10f6=this[_0x31d8a0(0x272)](_0x26213b,_0x100767,_0x5d384d,_0x3d8ba5,_0xdf10f6,_0x10e620);if(_0xdf10f6==0x0)return console['error']('**\x20修飾子が決まらない\x20f='+_0x4ea362),_0x291ebb;let _0x34ae06=this[_0x31d8a0(0x1b5)](_0x26213b,_0x100767,_0x4ea362,_0x2d0ef1,_0x3f9af2,_0xdf10f6,_0x1ae5db,_0x5d384d);if(_0x34ae06!=0x0){_0x34485e=_0x34ae06;break;}}return _0x34485e|_0x291ebb;}[_0x163623(0x1ff)](_0xe10422,_0x464d82,_0x199462){const _0xfd5d83=_0x163623;_0x464d82[_0xfd5d83(0x26f)]=this['set_modify'](_0xe10422,_0x199462);}[_0x163623(0x3a4)](){const _0x29d373=_0x163623;for(let _0x2a8d5f=0x1;_0x2a8d5f<KIFU_MAX;_0x2a8d5f++){if(this[_0x29d373(0x360)][_0x2a8d5f]['f']==0x0)return this[_0x29d373(0x360)][_0x2a8d5f];}return console[_0x29d373(0x353)](_0x29d373(0x3b2)),null;}['store'](_0x90867e,_0x488cfa,_0x3a3fc8,_0x2a4e02){const _0x24fa0d=_0x163623;typeof _0x3a3fc8['k']==='undefined'&&console['error'](_0x24fa0d(0x3a9));if(this[_0x24fa0d(0x264)]==null)return console[_0x24fa0d(0x353)]('**\x20store\x20current_p=null\x0a'),-0x1;let _0x1fabea=this[_0x24fa0d(0x264)][_0x24fa0d(0x232)],_0x21003d;if(_0x1fabea==null){_0x21003d=this['get_new_kp']();if(_0x21003d==null)return-0x1;this[_0x24fa0d(0x264)][_0x24fa0d(0x232)]=_0x21003d;}else{if(_0x1fabea['t']==CHUDAN)_0x21003d=_0x1fabea;else{if(_0x1fabea['t']<0xb&&_0x3a3fc8['t']<0xb)_0x21003d=_0x1fabea;else{if(_0x1fabea['f']==_0x3a3fc8['f']&&_0x1fabea['t']==_0x3a3fc8['t'])_0x21003d=_0x1fabea;else{if(_0x3a3fc8['t']==CHUDAN)return 0x0;let _0x23df7e=_0x1fabea;for(;;){if(_0x23df7e[_0x24fa0d(0x27f)]==null){_0x21003d=this['get_new_kp']();if(_0x21003d==null)return-0x1;_0x23df7e['branch']=_0x21003d;break;}_0x23df7e=_0x23df7e[_0x24fa0d(0x27f)];if(_0x23df7e['f']==_0x3a3fc8['f']&&_0x23df7e['t']==_0x3a3fc8['t']){_0x21003d=_0x23df7e;break;}}}}}}if(_0x21003d==null)return console[_0x24fa0d(0x353)]('***\x20store\x20kp\x20==\x20null\x0a'),-0x1;return _0x21003d['f']=_0x3a3fc8['f'],_0x21003d['k']=_0x3a3fc8['k'],_0x21003d['t']=_0x3a3fc8['t'],_0x3a3fc8['t']>0xa?_0x21003d['c']=_0x90867e[_0x24fa0d(0x3c2)][_0x3a3fc8['t']&0x7f]:(_0x21003d['c']=0x0,_0x21003d['f']=0x1),this[_0x24fa0d(0x264)]=_0x21003d,this[_0x24fa0d(0x1ff)](_0x90867e,_0x21003d,_0x3a3fc8),_0x21003d['time']=_0x2a4e02,0x0;}[_0x163623(0x2cc)](_0x58ca71,_0x54b730,_0x51790a,_0x28729b){const _0x2f13d8=_0x163623;typeof _0x51790a['k']===_0x2f13d8(0x21c)&&console[_0x2f13d8(0x353)]('**\x20store_kifu\x20move.k\x20===\x20\x27undefined\x27\x0a');if(_0x51790a['t']==CHUDAN)return 0x0;if(_0x54b730[_0x2f13d8(0x2c2)]==SENTE){if((this[_0x2f13d8(0x27d)]&0x1)==0x0)_0x51790a['k']|=SENTE;}else{if((this[_0x2f13d8(0x27d)]&0x1)!=0x0)_0x51790a['k']|=SENTE;}if(_0x51790a['t']<0xb){let _0x5f283d=this['store'](_0x58ca71,_0x54b730,_0x51790a,_0x28729b);return this[_0x2f13d8(0x27d)]++,_0x5f283d;}if(_0x51790a['f']==0x0){if(_0x58ca71[_0x2f13d8(0x2c2)])_0x51790a['f']=0x90|_0x51790a['k']&0x7;else _0x51790a['f']=0x80|_0x51790a['k']&0x7;}else _0x51790a['k']=_0x58ca71[_0x2f13d8(0x3b6)](_0x51790a['f']),typeof _0x51790a['k']===_0x2f13d8(0x21c)&&console[_0x2f13d8(0x353)]('**\x20store_kifu\x20move.k\x20===\x20\x27undefined\x27\x0a\x20f='+_0x51790a['f']);let _0x547a31=_0x58ca71[_0x2f13d8(0x3c2)][_0x51790a['t']&0x7f];if(_0x51790a['f']>0x63){if(_0x547a31!=0x0)return console[_0x2f13d8(0x353)]('***\x20駒に打つ'),-0x1;if((_0x51790a['t']&0x80)!=0x0)return console[_0x2f13d8(0x353)]('***\x20打って成る'),-0x1;}else{if(_0x51790a['t']>0xa){if(_0x58ca71[_0x2f13d8(0x3c2)][_0x51790a['f']]==0x0)return console[_0x2f13d8(0x353)](_0x2f13d8(0x2c1)+_0x51790a['f']+_0x2f13d8(0x1b6)+_0x58ca71[_0x2f13d8(0x3c2)][_0x51790a['f']]),-0x1;if(_0x547a31!=0x0){if((_0x58ca71[_0x2f13d8(0x3c2)][_0x51790a['f']]&0x80)==(_0x547a31&0x80))return console[_0x2f13d8(0x353)](_0x2f13d8(0x28d)+_0x547a31+_0x2f13d8(0x1b6)+_0x58ca71[_0x2f13d8(0x3c2)][_0x51790a['f']]),-0x1;}}}let _0x3341e8=this[_0x2f13d8(0x1fe)](_0x58ca71,_0x54b730,_0x51790a,_0x28729b);if(_0x3341e8!=0x0)return-0x2;_0x58ca71[_0x2f13d8(0x296)](_0x51790a),this[_0x2f13d8(0x27d)]++;if(_0x51790a['t']>0xa)_0x58ca71[_0x2f13d8(0x28e)]();return 0x0;}[_0x163623(0x219)](_0x4e302a,_0x42e83a,_0x150a44,_0x249f92,_0x20ae31,_0x4d9e26,_0x164f29,_0x28a5d9){const _0x4e0d3d=_0x163623,_0x5c29a5=['０','１','２','３','４','５','６','７','８','９'],_0x3eba5a=['零','一','二','三','四','五','六','七','八','九'],_0x14b5c2=['\u3000','歩','香','桂','銀','金','角','飛','玉','と','杏','圭','全','金','馬','龍'],_0x3d12c8=['','','行','上','引','直','寄','右','左','右引','右寄','右上','左引','左寄','左上'];let _0x42cdd6;if(_0x164f29==0x0)_0x42cdd6='';else{if((_0x150a44&0x80)!=0x0){if(_0x164f29==0x3)_0x42cdd6='☗';else _0x42cdd6='▲';}else{if(_0x164f29==0x3)_0x42cdd6='☖';else{if(_0x164f29==0x1)_0x42cdd6='△';else _0x42cdd6='▽';}}}_0x150a44&=0xf;let _0x216233=_0x42e83a&0x7f,_0x4f5a59='';if(_0x42e83a==TORYO)_0x4f5a59='投了';else{if(_0x42e83a==CHUDAN)_0x4f5a59='中断';else{if(_0x42e83a==JISHOGI)_0x4f5a59=_0x4e0d3d(0x1d9);else{if(_0x42e83a==TUMI)_0x4f5a59='詰み';else{if(_0x42e83a==SENNITITE)_0x4f5a59=_0x4e0d3d(0x25a);else{if(_0x42e83a==KIREMAKE)_0x4f5a59=_0x4e0d3d(0x214);else{if(_0x42e83a==KACHI)_0x4f5a59=_0x4e0d3d(0x275);else{if(_0x42e83a==HANSOKU_KACHI)_0x4f5a59=_0x4e0d3d(0x312);else{if(_0x42e83a==HANSOKU_MAKE)_0x4f5a59=_0x4e0d3d(0x3b1);else{if(_0x42e83a==SENTE_HANSOKU)_0x4f5a59=_0x4e0d3d(0x2bb);else{if(_0x42e83a==GOTE_HANSOKU)_0x4f5a59='後手反則負け';else{let _0x551ad4=parseInt(_0x216233/0xa);if(_0x4d9e26==0x0&&_0x216233==_0x20ae31)_0x4f5a59='同\u3000';else{if(_0x4d9e26==0x2&&_0x216233==_0x20ae31)_0x4f5a59+=_0x5c29a5[_0x551ad4]+_0x3eba5a[_0x216233%0xa]+'同';else{if(_0x4d9e26==0x3&&_0x216233==_0x20ae31)_0x4f5a59='同';else _0x4f5a59+=_0x5c29a5[_0x551ad4]+_0x3eba5a[_0x216233%0xa];}}if(_0x150a44<FU||_0x150a44>RY){}else{if(_0x150a44==NY)_0x4f5a59+='成香';else{if(_0x150a44==NE)_0x4f5a59+='成桂';else{if(_0x150a44==NG)_0x4f5a59+='成銀';else _0x4f5a59+=_0x14b5c2[_0x150a44];}}}if(_0x4e302a<0x64&&_0x4e302a!=0x0){_0x4f5a59+=_0x3d12c8[_0x249f92&0x3f];if((_0x42e83a&0x80)!=0x0)_0x4f5a59+='成';else{if((_0x249f92&0x40)!=0x0)_0x4f5a59+='不成';}}else{if(_0x4d9e26==0x2||_0x249f92==0x0)_0x4f5a59+='打';}}}}}}}}}}}}let _0x2ee891=_0x4f5a59;if(_0x2ee891['indexOf']('同')==0x0&&_0x2ee891[_0x4e0d3d(0x2d1)]>=0x4){let _0x258fe4=_0x2ee891[_0x4e0d3d(0x2f1)](0x2);_0x4f5a59='同'+_0x258fe4;}_0x4f5a59=_0x42cdd6+_0x4f5a59;let _0x2b11b6=_0x4f5a59[_0x4e0d3d(0x2d1)];for(;_0x2b11b6<_0x28a5d9;_0x2b11b6++){_0x4f5a59+='\u3000';}return _0x4f5a59;}[_0x163623(0x301)](_0x426dd9,_0x541e1d,_0x1d44ea,_0x31f660){const _0x1ba3ee=_0x163623;if(_0x1d44ea==null)return'';let _0x32c6b4,_0x1dc316,_0x43d501,_0x25d21c;_0x32c6b4=_0x1d44ea['f'],_0x1dc316=_0x1d44ea['t'],_0x43d501=_0x1d44ea['k'];((_0x43d501&0xf)<FU||(_0x43d501&0xf)>RY)&&console['error'](_0x1ba3ee(0x1cb)+_0x1d44ea['k']+_0x1ba3ee(0x2da)+_0x1d44ea['f']);let _0x3e9387=_0x1d44ea[_0x1ba3ee(0x26f)],_0x1e6e4a=this['find_oya'](_0x1d44ea);if(_0x1e6e4a==null)_0x25d21c=0x0;else _0x25d21c=_0x1e6e4a['t']&0x7f;return this['mov_strm_sub'](_0x32c6b4,_0x1dc316,_0x43d501,_0x3e9387,_0x25d21c,_0x426dd9,_0x541e1d,_0x31f660);}}typeof KIF_FILE_NAME===_0x163623(0x21c)&&alert(_0x163623(0x309));typeof KJ_DIR===_0x163623(0x21c)&&alert(_0x163623(0x1be));var left_is_sente_flg=![];typeof LEFT_IS_SENTE!==_0x163623(0x21c)&&(left_is_sente_flg=LEFT_IS_SENTE);var muji_flg=![],english_flg=![],bdinv_flg=![];const RATE=devicePixelRatio;console[_0x163623(0x1e6)](_0x163623(0x1b3)+RATE);function getScaleContext(_0x461a49){const _0x251fa7=_0x163623;let _0x1c0179=_0x461a49['getContext']('2d');return _0x1c0179[_0x251fa7(0x321)](RATE,0x0,0x0,RATE,0x0,0x0),_0x1c0179;}var cbd=new Board(),start=new Board(),Kifu=new KifuData(),piece_img,TOP_INFO_H=0x46,BD_ORG_X=0x9a;if(FREE)BD_ORG_X=0x86;var BD_ORG_Y=TOP_INFO_H+0x28;const KOMA_SIZE_X=0x1f,KOMA_SIZE_Y=0x20,SQ_SIZE_X=KOMA_SIZE_X+0x3,SQ_SIZE_Y=KOMA_SIZE_Y+0x3,EDGE_X=0xc,EDGE_Y=0xc,LEFT_GAP=0x4,RIGHT_GAP=0x4,MOTI_EDGE_X=0x5,MOTI_EDGE_Y=0x3,MOTI_SQ_SIZE_X=SQ_SIZE_X*0x3/0x2+0x1,MOTI_SIZE_X=0x3*SQ_SIZE_X+0x2+0x2*MOTI_EDGE_X,MOTI_SIZE_Y=0x4*SQ_SIZE_Y+EDGE_Y,FU_PITCH=KOMA_SIZE_X-0x3,KOMADAI_LEFT_X=BD_ORG_X-EDGE_X-LEFT_GAP-MOTI_SIZE_X;var KOMADAI_LEFT_Y=BD_ORG_Y-EDGE_Y;const KOMADAI_RIGHT_X=BD_ORG_X+0x9*SQ_SIZE_X+EDGE_X+RIGHT_GAP;var KOMADAI_RIGHT_Y=BD_ORG_Y+0x5*SQ_SIZE_Y;const MOTI_OVERLAP=0x3,KSQ_SIZE_Y=SQ_SIZE_Y-0x1,OX=BD_ORG_X+0x9*SQ_SIZE_X+EDGE_X+RIGHT_GAP;var COMMENT_TOP=BD_ORG_Y+0x9*SQ_SIZE_Y+EDGE_Y+0x4,comment_hight=0x6e;!FREE&&(comment_hight=0x88);var board_color=_0x163623(0x270);class Point{}function drawLine(_0x4c7584,_0x1ed535,_0xa3998f,_0x37bef3,_0x1bd3ec){const _0x312f3b=_0x163623;_0x4c7584[_0x312f3b(0x38a)](),_0x4c7584[_0x312f3b(0x358)](_0x1ed535,_0xa3998f),_0x4c7584[_0x312f3b(0x2fa)](_0x37bef3,_0x1bd3ec),_0x4c7584[_0x312f3b(0x3c9)]();}function drawRect(_0x57b68c,_0x3040a4,_0x2bbb23,_0x30fe5f){const _0x595b8c=_0x163623;let _0x2c860a=getScaleContext(canvas);_0x2c860a[_0x595b8c(0x1f5)](_0x57b68c,_0x3040a4,_0x2bbb23,_0x30fe5f);}const teai_name=['平手',_0x163623(0x1d4),_0x163623(0x29c),'角落ち','飛車落ち',_0x163623(0x399),'二枚落ち',_0x163623(0x287),_0x163623(0x26d),'五枚落ち',_0x163623(0x266),_0x163623(0x39c),_0x163623(0x338),'十枚落ち',_0x163623(0x35c)];function get_shohi(_0x4e749d){const _0x13791f=_0x163623;let _0x210492,_0x37e414,_0x5e1693,_0x46949a=Kifu[_0x13791f(0x2c3)]();if(_0x46949a>0x0){let _0x3be125=Kifu[_0x13791f(0x1ad)](Kifu[_0x13791f(0x27d)]);if(_0x3be125==null)return-0x1;let _0x1bf1bd=Kifu['get_total_time_kp'](_0x3be125);console[_0x13791f(0x1e6)]('###\x20total='+_0x1bf1bd);let _0x10f66d;if(Kifu[_0x13791f(0x27d)]<=0x0)_0x10f66d=0x0;else{let _0x477578=Kifu[_0x13791f(0x1ad)](Kifu[_0x13791f(0x27d)]-0x1);if(_0x477578==null)return-0x1;_0x10f66d=Kifu[_0x13791f(0x370)](_0x477578);}_0x1bf1bd=parseInt(_0x1bf1bd/0x3c),_0x10f66d=parseInt(_0x10f66d/0x3c);(Kifu[_0x13791f(0x27d)]&0x1)==0x0?(_0x5e1693=_0x1bf1bd,_0x37e414=_0x10f66d):(_0x37e414=_0x1bf1bd,_0x5e1693=_0x10f66d);_0x210492=Kifu[_0x13791f(0x27d)];if(Kifu[_0x13791f(0x27d)]>0x0&&_0x3be125['t']<0xb)_0x210492=-0x1;}else{console[_0x13791f(0x1e6)]('###\x20get_shohi\x20shohi_jikan='+Kifu['shohi_jikan']);if(Kifu[_0x13791f(0x1fc)]==null)return-0x1;let _0x4575c3=Kifu[_0x13791f(0x1fc)]['indexOf']('▲');if(_0x4575c3<0x0)return-0x1;let _0x42cf64=Kifu[_0x13791f(0x1fc)][_0x13791f(0x2f1)](0x0,_0x4575c3);_0x210492=parseInt(_0x42cf64);if(isNaN(_0x210492))return console['error']('***\x20ERROR\x20201:\x20消費時間の手数:'+_0x42cf64),-0x1;if(Kifu[_0x13791f(0x203)]()!=0x0&&_0x210492>=Kifu['get_kifu_size']()-0x1)_0x210492=-0x1;let _0x59f25f=Kifu[_0x13791f(0x1fc)][_0x13791f(0x2f1)](_0x4575c3),_0x595196=_0x59f25f[_0x13791f(0x211)]('△');if(_0x595196<0x0)return;let _0x1a799c=_0x59f25f[_0x13791f(0x2f1)](0x1,_0x595196),_0x53a58f=_0x59f25f[_0x13791f(0x2f1)](_0x595196+0x1);_0x37e414=parseInt(_0x1a799c),_0x5e1693=parseInt(_0x53a58f);if(isNaN(_0x37e414)||isNaN(_0x5e1693))return console[_0x13791f(0x353)](_0x13791f(0x22e)+Kifu[_0x13791f(0x1fc)]),-0x1;}return _0x4e749d==SENTE?_0x37e414:_0x5e1693;}function get_shohi_tesuu(){const _0x5b6d46=_0x163623;let _0x5ae686,_0x472bf7=Kifu['get_main_all_time']();if(_0x472bf7>0x0){let _0x53e302=Kifu[_0x5b6d46(0x1ad)](Kifu[_0x5b6d46(0x27d)]);if(_0x53e302==null)return-0x1;_0x5ae686=Kifu[_0x5b6d46(0x27d)];if(Kifu['move_no']>0x0&&_0x53e302['t']<0xb)_0x5ae686=-0x2;}else{if(Kifu['shohi_jikan']==null)return-0x1;let _0x9fd8d1=Kifu[_0x5b6d46(0x1fc)]['indexOf']('▲');if(_0x9fd8d1<0x0)return-0x1;let _0x3ae069=Kifu[_0x5b6d46(0x1fc)][_0x5b6d46(0x2f1)](0x0,_0x9fd8d1);_0x5ae686=parseInt(_0x3ae069);if(isNaN(_0x5ae686))return console[_0x5b6d46(0x353)](_0x5b6d46(0x3b0)+_0x3ae069),-0x1;if(Kifu[_0x5b6d46(0x203)]()!=0x0&&_0x5ae686>=Kifu[_0x5b6d46(0x22d)]()-0x1)_0x5ae686=-0x2;}return _0x5ae686;}function Info(_0x5ec426){const _0x156634=_0x163623,_0x380ed0=0x1,_0x11e957=BD_ORG_X+0x9*SQ_SIZE_X+EDGE_X+RIGHT_GAP+_0x380ed0,_0x5aa264=BD_ORG_Y-EDGE_Y,_0x1dfdc4=0x3,_0x433147=MOTI_SIZE_Y+SQ_SIZE_Y-_0x1dfdc4,_0x2c37fd=_0x5aa264,_0xc067b4=MOTI_SIZE_X+0x1-_0x380ed0;let _0x15cbb5=_0x2c37fd+_0x433147,_0x2215dc=getScaleContext(canvas);_0x2215dc[_0x156634(0x1f0)]=_0x156634(0x33f),_0x2215dc['fillRect'](_0x11e957,_0x2c37fd,_0xc067b4,_0x15cbb5-_0x2c37fd),_0x2215dc['strokeStyle']=_0x156634(0x227),_0x2215dc[_0x156634(0x3a3)]=0x1,_0x2215dc[_0x156634(0x1f5)](_0x11e957,_0x2c37fd,_0xc067b4,_0x15cbb5-_0x2c37fd),_0x2215dc[_0x156634(0x1f0)]=_0x156634(0x3c4),_0x2215dc[_0x156634(0x348)]='10px\x20\x27メイリオ\x27';let _0x56ea68=BD_ORG_X+0x9*SQ_SIZE_X+EDGE_X+RIGHT_GAP+0x1e;_0x2215dc[_0x156634(0x1ec)](''+version,_0x56ea68,KOMADAI_LEFT_Y-0x8),_0x2215dc[_0x156634(0x348)]=_0x156634(0x3b3);let _0x4f921e=_0x11e957+0x2;const _0x2de2fe=0x9,_0x4a3308=0x12;let _0x226a2b,_0x305ecf;if(_0x5ec426[_0x156634(0x3b4)]!=null&&_0x5ec426['sakusya'][_0x156634(0x2d1)]>0x0){_0x226a2b=_0x5aa264+0xe,_0x2215dc['fillText'](_0x156634(0x294)+_0x5ec426[_0x156634(0x3b4)],_0x4f921e,_0x226a2b),_0x226a2b=_0x5aa264+_0x4a3308+0xe,_0x2215dc[_0x156634(0x1ec)](_0x5ec426[_0x156634(0x2de)],_0x4f921e,_0x226a2b,_0xc067b4),_0x226a2b=_0x5aa264+0x2*_0x4a3308+0xe,_0x2215dc['fillText'](_0x156634(0x20a)+_0x5ec426[_0x156634(0x2e3)],_0x4f921e,_0x226a2b,_0xc067b4),_0x226a2b=_0x5aa264+0x3*_0x4a3308+0xe,_0x2215dc[_0x156634(0x1ec)]('発表：'+_0x5ec426[_0x156634(0x220)],_0x4f921e,_0x226a2b,_0xc067b4);return;}if(_0x5ec426[_0x156634(0x3c7)]!=null){let _0x405bb4=_0x5ec426['date'],_0x168bd1=_0x405bb4[_0x156634(0x211)]('\x20');if(_0x168bd1>0x0)_0x405bb4=_0x405bb4['substring'](0x0,_0x168bd1);_0x168bd1=_0x405bb4['indexOf']('(');if(_0x168bd1>0x0)_0x405bb4=_0x405bb4['substring'](0x0,_0x168bd1);let _0x1348d8=_0x5ec426[_0x156634(0x3c7)];_0x168bd1=_0x1348d8[_0x156634(0x211)]('\x20');if(_0x168bd1>=0x0){_0x305ecf=_0x1348d8['length'];let _0x207c93=_0x168bd1+0x1;for(;;){if(_0x207c93>=_0x305ecf)break;if(_0x1348d8[_0x156634(0x393)](_0x207c93)=='\x20')_0x207c93++;else break;}_0x207c93<_0x305ecf&&(_0x1348d8=_0x1348d8[_0x156634(0x2f1)](_0x207c93),_0x405bb4+='\x20'+_0x1348d8);}_0x226a2b=_0x5aa264+0xe,_0x2215dc[_0x156634(0x1ec)](_0x405bb4,_0x4f921e,_0x226a2b,_0xc067b4);}if(_0x5ec426['kisen']!=null){let _0x4ded3a=_0x5ec426[_0x156634(0x34a)];_0x305ecf=_0x4ded3a['length'],_0x305ecf>=_0x2de2fe&&(_0x4ded3a=_0x4ded3a['substr'](0x0,_0x2de2fe)),_0x226a2b=_0x5aa264+_0x4a3308+0xe,_0x2215dc[_0x156634(0x1ec)](_0x4ded3a,_0x4f921e,_0x226a2b,_0xc067b4);}if(_0x5ec426['site']!=null){let _0x3af284=_0x5ec426[_0x156634(0x235)];_0x305ecf=_0x3af284['length'],_0x305ecf>=_0x2de2fe&&(_0x3af284=_0x3af284['substr'](0x0,_0x2de2fe)),_0x226a2b=_0x5aa264+0x2*_0x4a3308+0xe,_0x2215dc[_0x156634(0x1ec)](_0x3af284,_0x4f921e,_0x226a2b,_0xc067b4);}_0x5ec426[_0x156634(0x20e)]!=null&&_0x5ec426[_0x156634(0x20e)]['length']>0x0&&(_0x226a2b=_0x5aa264+0x3*_0x4a3308+0xe,_0x2215dc[_0x156634(0x1ec)]('持ち時間：'+_0x5ec426[_0x156634(0x20e)],_0x4f921e,_0x226a2b,_0xc067b4));let _0x43c1c0=Kifu[_0x156634(0x2ee)](),_0x492d9f=Kifu[_0x156634(0x2c3)](),_0x2aa40c=get_shohi(SENTE),_0x482249=get_shohi(GOTE);_0x2aa40c>_0x43c1c0&&(_0x2aa40c=_0x43c1c0);_0x482249>_0x43c1c0&&(_0x482249=_0x43c1c0);console[_0x156634(0x1e6)](_0x156634(0x39f)+_0x2aa40c);{_0x226a2b=_0x5aa264+0x4*_0x4a3308+0xe,_0x2215dc[_0x156634(0x1ec)](_0x156634(0x345),_0x4f921e,_0x226a2b,_0xc067b4);if(_0x2aa40c>=0x0){let _0x20a20a=time_to_str(_0x2aa40c);_0x226a2b=_0x5aa264+0x5*_0x4a3308+0xe,_0x2215dc['fillText'](_0x156634(0x2d3)+_0x20a20a,_0x4f921e,_0x226a2b,_0xc067b4);}if(_0x482249>=0x0){let _0xe87173=time_to_str(_0x482249);_0x226a2b=_0x5aa264+0x6*_0x4a3308+0xe,_0x2215dc['fillText'](_0x156634(0x37c)+_0xe87173,_0x4f921e,_0x226a2b,_0xc067b4);}}if(_0x43c1c0>0x0){let _0x1bf306=get_shohi_tesuu();_0x226a2b=_0x5aa264+0x7*_0x4a3308+0xe;if(_0x1bf306==-0x2)_0x2215dc[_0x156634(0x1ec)](_0x156634(0x397),_0x4f921e,_0x226a2b,_0xc067b4);else{if(_0x1bf306==-0x1)return;else _0x2215dc[_0x156634(0x1ec)](_0x156634(0x25e)+_0x1bf306+_0x156634(0x237),_0x4f921e,_0x226a2b,_0xc067b4);}let _0x1a20ad=_0x43c1c0-_0x2aa40c;if(_0x1a20ad<0x0)_0x1a20ad=0x0;{if(_0x1a20ad<=0x1)_0x2215dc[_0x156634(0x1f0)]=_0x156634(0x3a6);else{if(_0x1a20ad<=0xa)_0x2215dc[_0x156634(0x1f0)]=_0x156634(0x2a8);else _0x2215dc['fillStyle']=_0x156634(0x3c4);}}let _0x58d38e=time_to_str(_0x1a20ad);_0x226a2b=_0x5aa264+0x8*_0x4a3308+0xf,_0x2215dc[_0x156634(0x1ec)]('\u3000\u3000☗'+_0x58d38e,_0x4f921e,_0x226a2b,_0xc067b4);let _0xb22182=_0x43c1c0-_0x482249;if(_0xb22182<0x0)_0xb22182=0x0;if(_0xb22182<=0x1)_0x2215dc[_0x156634(0x1f0)]=_0x156634(0x3a6);else{if(_0xb22182<=0xa)_0x2215dc['fillStyle']='rgb(0,\x200,\x20255)';else _0x2215dc['fillStyle']='rgb(0,\x200,\x200)';}_0x58d38e=time_to_str(_0xb22182),_0x226a2b=_0x5aa264+0x9*_0x4a3308+0xf,_0x2215dc[_0x156634(0x1ec)](_0x156634(0x37c)+_0x58d38e,_0x4f921e,_0x226a2b,_0xc067b4);}_0x2215dc[_0x156634(0x1f0)]='rgb(0,\x200,\x200)',console[_0x156634(0x1e6)](_0x156634(0x288)+cbd[_0x156634(0x2bd)]),cbd[_0x156634(0x2bd)]!=0x0&&(_0x226a2b=_0x5aa264+0xa*_0x4a3308+0xe);}function TopInfo(_0x2458a9){const _0x4e6796=_0x163623;console[_0x4e6796(0x1e6)](_0x4e6796(0x1f7));if(FREE){Info(_0x2458a9);return;}let _0x42ccfc=canvas['getBoundingClientRect'](),_0x1ac203=_0x42ccfc[_0x4e6796(0x2a3)],_0x194ee0=_0x42ccfc[_0x4e6796(0x259)],_0x1cd559=document[_0x4e6796(0x228)][_0x4e6796(0x267)],_0x3f13b8=document[_0x4e6796(0x2ec)][_0x4e6796(0x267)];if(_0x3f13b8>_0x1cd559)_0x194ee0+=_0x3f13b8;else _0x194ee0+=_0x1cd559;console[_0x4e6796(0x1e6)](_0x4e6796(0x2cf)+_0x194ee0);const _0x80347e=0x4;let _0x4a38e4=_0x1ac203+_0x80347e;const _0x460785=0x2,_0x4d4870=COMM_LEFT+COM_WIDTH,_0x40154e=_0x4d4870-_0x4a38e4,_0x4c2f33=_0x460785+TOP_INFO_H-0x2;let _0x20d427=getScaleContext(canvas);_0x20d427[_0x4e6796(0x1f0)]=_0x4e6796(0x33f),_0x20d427[_0x4e6796(0x366)](_0x80347e,_0x460785,_0x40154e,_0x4c2f33-_0x460785),_0x20d427['strokeStyle']=_0x4e6796(0x227),_0x20d427[_0x4e6796(0x3a3)]=0x1,_0x20d427[_0x4e6796(0x1f5)](_0x80347e,_0x460785,_0x40154e,_0x4c2f33-_0x460785);if(!small_header_flg){let _0x4de183='';if(_0x2458a9[_0x4e6796(0x3c7)]!=null){let _0x24f041=_0x2458a9[_0x4e6796(0x3c7)],_0x12f591=_0x24f041[_0x4e6796(0x211)]('\x20');if(_0x12f591>0x0)_0x24f041=_0x24f041['substring'](0x0,_0x12f591);_0x12f591=_0x24f041[_0x4e6796(0x211)]('(');if(_0x12f591>0x0)_0x24f041=_0x24f041[_0x4e6796(0x2f1)](0x0,_0x12f591);_0x4de183+=_0x24f041;}if(_0x2458a9[_0x4e6796(0x34a)]!=null)_0x4de183+='\x20\u3000'+_0x2458a9['kisen'];_0x20d427['fillStyle']=_0x4e6796(0x3c4),_0x20d427[_0x4e6796(0x348)]=_0x4e6796(0x2c8);top_label1==null&&(top_label1=document[_0x4e6796(0x295)](_0x4e6796(0x33e)),document[_0x4e6796(0x228)][_0x4e6796(0x1bc)](top_label1));top_label1[_0x4e6796(0x2d5)][_0x4e6796(0x380)]=_0x4e6796(0x2c0),top_label1['style'][_0x4e6796(0x259)]=String(_0x194ee0+_0x460785)+'px',top_label1[_0x4e6796(0x2d5)]['left']=String(_0x4a38e4)+'px',top_label1['style'][_0x4e6796(0x1ca)]=String(_0x4d4870-_0x4a38e4)+'px',top_label1[_0x4e6796(0x2d5)][_0x4e6796(0x1f4)]=_0x4e6796(0x297),top_label1[_0x4e6796(0x2d5)][_0x4e6796(0x3c5)]=_0x4e6796(0x1df);top_label1[_0x4e6796(0x217)]()&&top_label1[_0x4e6796(0x2a4)](top_label1[_0x4e6796(0x30d)]);top_label1[_0x4e6796(0x1bc)](document[_0x4e6796(0x2b7)](_0x4de183));let _0x598d93='',_0x34ade8=null,_0x332ef3=null;if(_0x2458a9[_0x4e6796(0x3c3)]!=null){let _0x2fb478=_0x2458a9[_0x4e6796(0x3c3)],_0x363c53=_0x2fb478[_0x4e6796(0x211)]('▽');_0x363c53>=0x0?(_0x34ade8=_0x2fb478['substring'](0x1,_0x363c53),_0x332ef3=_0x2fb478[_0x4e6796(0x2f1)](_0x363c53+0x1)):(_0x363c53=_0x2fb478[_0x4e6796(0x211)]('△'),_0x363c53>=0x0&&(_0x34ade8=_0x2fb478[_0x4e6796(0x2f1)](0x1,_0x363c53),_0x332ef3=_0x2fb478[_0x4e6796(0x2f1)](_0x363c53+0x1)));}_0x598d93+=_0x2458a9['sente_name'];if(_0x34ade8!=null)_0x598d93+='（'+_0x34ade8+'）';_0x598d93+='\x20─\x20'+_0x2458a9['gote_name'];if(_0x332ef3!=null)_0x598d93+='（'+_0x332ef3+'）';cbd[_0x4e6796(0x2bd)]!=0x0&&(_0x598d93+='\u3000\u3000'+teai_name[cbd['teai']]),_0x20d427[_0x4e6796(0x348)]='20px\x20\x27メイリオ\x27',top_label2==null&&(top_label2=document[_0x4e6796(0x295)](_0x4e6796(0x33e)),document[_0x4e6796(0x228)][_0x4e6796(0x1bc)](top_label2)),top_label2[_0x4e6796(0x2d5)][_0x4e6796(0x380)]=_0x4e6796(0x2c0),top_label2[_0x4e6796(0x2d5)][_0x4e6796(0x259)]=String(_0x194ee0+_0x460785+0x14)+'px',top_label2[_0x4e6796(0x2d5)][_0x4e6796(0x2a3)]=String(_0x4a38e4)+'px',top_label2[_0x4e6796(0x2d5)][_0x4e6796(0x1ca)]=String(_0x4d4870-_0x4a38e4)+'px',top_label2[_0x4e6796(0x2d5)][_0x4e6796(0x1f4)]=_0x4e6796(0x240),top_label2[_0x4e6796(0x2d5)][_0x4e6796(0x3c5)]=_0x4e6796(0x1df),top_label2['hasChildNodes']()&&top_label2['removeChild'](top_label2[_0x4e6796(0x30d)]),top_label2[_0x4e6796(0x1bc)](document['createTextNode'](_0x598d93));}let _0x31ffd6='';_0x2458a9['site']!=null&&(_0x31ffd6+=_0x2458a9['site']+'\x20\u3000');if(_0x2458a9[_0x4e6796(0x3c7)]!=null){var _0x234914=_0x2458a9[_0x4e6796(0x3c7)];let _0x8e5b0c=_0x234914['indexOf']('\x20');if(_0x8e5b0c>=0x0){let _0x851c96=_0x234914[_0x4e6796(0x2d1)],_0x202ded=_0x8e5b0c+0x1;for(;;){if(_0x202ded>=_0x851c96)break;if(_0x234914[_0x4e6796(0x393)](_0x202ded)=='\x20')_0x202ded++;else break;}if(_0x202ded<_0x851c96){_0x234914=_0x234914['substring'](_0x202ded,_0x851c96);if(english_flg)_0x31ffd6+=_0x4e6796(0x209)+_0x234914+'\x20\u3000';else _0x31ffd6+=_0x4e6796(0x392)+_0x234914+'\x20\u3000';}}}if(_0x2458a9['end_date']!=null){let _0x44d13b=_0x2458a9[_0x4e6796(0x350)],_0x81bfb0=_0x44d13b['indexOf']('\x20');if(_0x81bfb0>=0x0){_0x44d13b=_0x44d13b[_0x4e6796(0x2f1)](_0x81bfb0+0x1);if(english_flg)_0x31ffd6+=_0x4e6796(0x378)+_0x44d13b;else _0x31ffd6+=_0x4e6796(0x2b9)+_0x44d13b;}}let _0x5eb3d3;if(small_header_flg)_0x5eb3d3=_0x460785+0x10;else _0x5eb3d3=_0x460785+0x3c;_0x20d427[_0x4e6796(0x1f0)]='rgb(0,\x200,\x200)',_0x20d427['font']=_0x4e6796(0x2c8);top_label3==null&&(top_label3=document[_0x4e6796(0x295)](_0x4e6796(0x33e)),document[_0x4e6796(0x228)][_0x4e6796(0x1bc)](top_label3));top_label3[_0x4e6796(0x2d5)]['position']=_0x4e6796(0x2c0),top_label3[_0x4e6796(0x2d5)][_0x4e6796(0x259)]=String(_0x194ee0+_0x5eb3d3-0x10)+'px',top_label3['style'][_0x4e6796(0x2a3)]=String(_0x4a38e4)+'px',top_label3[_0x4e6796(0x2d5)][_0x4e6796(0x1ca)]=String(_0x4d4870-_0x4a38e4)+'px',top_label3[_0x4e6796(0x2d5)][_0x4e6796(0x1f4)]=_0x4e6796(0x297),top_label3[_0x4e6796(0x2d5)][_0x4e6796(0x3c5)]='center';top_label3[_0x4e6796(0x217)]()&&top_label3[_0x4e6796(0x2a4)](top_label3[_0x4e6796(0x30d)]);top_label3[_0x4e6796(0x1bc)](document[_0x4e6796(0x2b7)](_0x31ffd6)),_0x20d427[_0x4e6796(0x348)]=_0x4e6796(0x3b9);let _0x4cc991=BD_ORG_X+0x9*SQ_SIZE_X+EDGE_X+RIGHT_GAP+0xc;_0x20d427['clearRect'](_0x4cc991,KOMADAI_LEFT_Y-0x14,0x50,0xf),_0x20d427['fillStyle']=_0x4e6796(0x3c4),_0x20d427[_0x4e6796(0x1ec)](_0x4e6796(0x2f7)+version,_0x4cc991,KOMADAI_LEFT_Y-0xa);}function LoadKoma(){const _0x369150=_0x163623;console[_0x369150(0x1e6)]('#\x20LoadKoma\x20--'),piece_img=new Image(),piece_img['src']=KJ_DIR+'piece_4g.png?'+new Date()[_0x369150(0x271)](),piece_img['onload']=function(){const _0x38f383=_0x369150;console[_0x38f383(0x1e6)]('#\x20piece_img.onload');},piece_img[_0x369150(0x36f)]=function(){const _0x15e099=_0x369150;console[_0x15e099(0x353)](_0x15e099(0x2b6));};}function get_moti_x_rr(){return BD_ORG_X+0x9*SQ_SIZE_X+EDGE_X+RIGHT_GAP+MOTI_EDGE_X+MOTI_SQ_SIZE_X-MOTI_OVERLAP;}function get_moti_x_rl(){return BD_ORG_X+0x9*SQ_SIZE_X+EDGE_X+RIGHT_GAP+MOTI_EDGE_X;}function get_moti_x_lr(){let _0x58ca83=BD_ORG_X-EDGE_X-LEFT_GAP-MOTI_SIZE_X;return _0x58ca83+MOTI_EDGE_X+MOTI_SQ_SIZE_X-MOTI_OVERLAP;}function get_moti_x_ll(){let _0x3af454=BD_ORG_X-EDGE_X-LEFT_GAP-MOTI_SIZE_X;return _0x3af454+MOTI_EDGE_X;}function get_moti_r_yo(){return BD_ORG_Y+0x9*SQ_SIZE_Y+EDGE_Y-0x4*KSQ_SIZE_Y-MOTI_EDGE_Y;}function get_moti_l_yo(){return BD_ORG_Y-EDGE_Y+MOTI_EDGE_Y-0x1;}function no_to_p(_0x25e4fe,_0x170fb1){let _0x32aa75=_0x170fb1-0x1,_0x498e21=_0x32aa75>>0x1,_0x3eb12f,_0x53681a;if(_0x25e4fe!=0x0){if((_0x32aa75&0x1)==0x0)_0x3eb12f=get_moti_x_lr();else _0x3eb12f=get_moti_x_ll();let _0x5bb5f5=0x3-_0x498e21;_0x53681a=get_moti_l_yo()+_0x5bb5f5*KSQ_SIZE_Y;}else{if((_0x32aa75&0x1)==0x0)_0x3eb12f=get_moti_x_rl();else _0x3eb12f=get_moti_x_rr();_0x53681a=get_moti_r_yo()+_0x498e21*KSQ_SIZE_Y;}let _0x363207=new Point();return _0x363207['x']=_0x3eb12f+0x2,_0x363207['y']=_0x53681a+0x2,_0x363207;}function GetMotiXy(_0x324d41,_0x455188,_0x10a206){const _0x4f73b8=_0x163623;let _0x1e8ee5,_0x59e771;if(_0x455188==SENTE)_0x1e8ee5=0x0;else _0x1e8ee5=0x1;if(bdinv_flg!=0x0)_0x1e8ee5=0x1-_0x1e8ee5;let _0x2f4da4=0x0,_0x570760=_0x455188!=0x0?0x1:0x0;for(_0x59e771=HI;_0x59e771>=FU;_0x59e771--){if(_0x324d41[_0x4f73b8(0x2b4)][_0x570760][_0x59e771]>0x0){_0x2f4da4++;if(_0x59e771==(_0x10a206&0xf))break;}if(_0x59e771==(_0x10a206&0xf)){_0x2f4da4++;break;}}if(_0x59e771==FU){if(_0x1e8ee5==0x0){if((_0x2f4da4&0x1)==0x0)_0x2f4da4++;}else{if((_0x2f4da4&0x1)!=0x0)_0x2f4da4++;else _0x2f4da4+=0x2;}}return no_to_p(_0x1e8ee5,_0x2f4da4);}function star(_0x5a4fc3,_0xe0983f){const _0x212185=_0x163623;let _0x2a8d9b=BD_ORG_X+SQ_SIZE_X*_0x5a4fc3,_0x1ffc95=BD_ORG_Y+SQ_SIZE_Y*_0xe0983f,_0x21d8ba=getScaleContext(canvas);_0x21d8ba['beginPath'](),_0x21d8ba[_0x212185(0x341)](_0x2a8d9b,_0x1ffc95,2.5,0x0*Math['PI']/0xb4,0x168*Math['PI']/0xb4,![]),_0x21d8ba[_0x212185(0x1f0)]='rgba(0,\x200,\x200,\x201)',_0x21d8ba[_0x212185(0x248)](),_0x21d8ba[_0x212185(0x323)]=_0x212185(0x227),_0x21d8ba['lineWidth']=0x1,_0x21d8ba[_0x212185(0x3c9)]();}function stars(){star(0x3,0x3),star(0x6,0x3),star(0x3,0x6),star(0x6,0x6);}function DrawPieceXY(_0x468e85,_0x40f8f7,_0x4c5c65){const _0x309c5b=_0x163623;if(bdinv_flg!=0x0){let _0x3663c7=_0x4c5c65&0x80;_0x3663c7=0x80-_0x3663c7,_0x4c5c65=_0x3663c7|_0x4c5c65&0x7f;}let _0x1e9128;if(_0x4c5c65==0x8||_0x4c5c65==0x0||_0x4c5c65==SGY)_0x1e9128=0x0;else _0x1e9128=(0x8-(_0x4c5c65&0x7))*KOMA_SIZE_X;let _0x35469f=0x0;if(_0x4c5c65&0x80){if(_0x4c5c65&0x8)_0x35469f=KOMA_SIZE_Y;}else{if(_0x4c5c65&0x8)_0x35469f=KOMA_SIZE_Y*0x3;else _0x35469f=KOMA_SIZE_Y*0x2;}let _0x49f654=getScaleContext(canvas);_0x49f654[_0x309c5b(0x3a8)](piece_img,_0x1e9128*0x2,_0x35469f*0x2,KOMA_SIZE_X*0x2,KOMA_SIZE_Y*0x2,_0x468e85,_0x40f8f7,KOMA_SIZE_X,KOMA_SIZE_Y);}function DrawPiece(_0x54d71c,_0x557b56){const _0x3ef2b2=_0x163623;if(_0x557b56==0x0)return;let _0x1efd8e=parseInt(_0x54d71c/0xa),_0x5245ef=_0x54d71c%0xa;bdinv_flg!=0x0&&(_0x1efd8e=0xa-_0x1efd8e,_0x5245ef=0xa-_0x5245ef);if(_0x1efd8e<0x1||_0x5245ef<0x1){console[_0x3ef2b2(0x353)](_0x3ef2b2(0x2e0)+_0x54d71c);return;}let _0x1df228=BD_ORG_X+(0x9-_0x1efd8e)*SQ_SIZE_X+0x2,_0xafa6fb=BD_ORG_Y+(_0x5245ef-0x1)*SQ_SIZE_Y+0x2;DrawPieceXY(_0x1df228,_0xafa6fb,_0x557b56);}function clear_sq(_0x13eb49){const _0x34de6e=_0x163623;if(_0x13eb49>0x63||_0x13eb49<0xb){console[_0x34de6e(0x353)](_0x34de6e(0x349)+_0x13eb49);return;}let _0x331fd2=parseInt(_0x13eb49/0xa),_0x207c12=_0x13eb49%0xa;bdinv_flg&&(_0x331fd2=0xa-_0x331fd2,_0x207c12=0xa-_0x207c12);let _0xdfd8e7=BD_ORG_Y+(_0x207c12-0x1)*SQ_SIZE_Y+0x2,_0x507c84=BD_ORG_X+(0x9-_0x331fd2)*SQ_SIZE_X+0x2,_0x3bf973=_0x507c84-0x1,_0x536785=_0xdfd8e7-0x1,_0x99d4f1=getScaleContext(canvas);if(muji_flg)_0x99d4f1[_0x34de6e(0x1f0)]=_0x34de6e(0x247),_0x99d4f1['fillRect'](_0x3bf973,_0x536785,SQ_SIZE_X-0x3,SQ_SIZE_Y-0x2);else{ban_img==null&&(console[_0x34de6e(0x353)]('clear_sq\x20***\x20ban_img\x20==\x20null\x20s='+_0x13eb49),retrurn);console[_0x34de6e(0x1e6)]('clear_sq\x20onload\x20s='+_0x13eb49);let _0x6e427e=SQ_SIZE_X-0x3,_0xdaf699=SQ_SIZE_Y-0x2;_0x99d4f1[_0x34de6e(0x3a8)](ban_img,(0x9-_0x331fd2)*SQ_SIZE_X+0x2,(_0x207c12-0x1)*SQ_SIZE_Y+0x2,_0x6e427e,_0xdaf699,_0x3bf973,_0x536785,_0x6e427e,_0xdaf699);}}function DrawLastPiece(_0x1bb7e8,_0x408c28){const _0x220be2=_0x163623;if(_0x408c28<0xb)return;let _0x2fb76f=parseInt(_0x408c28/0xa),_0x3e4e64=_0x408c28%0xa;bdinv_flg!=0x0&&(_0x2fb76f=0xa-_0x2fb76f,_0x3e4e64=0xa-_0x3e4e64);let _0x2c1327=BD_ORG_X+(0x9-_0x2fb76f)*SQ_SIZE_X+0x2,_0x75a897=BD_ORG_Y+(_0x3e4e64-0x1)*SQ_SIZE_Y+0x2,_0x130a9c=_0x2c1327+SQ_SIZE_X-0x3,_0x422889=_0x75a897+SQ_SIZE_Y-0x3,_0x9cc6d1=getScaleContext(canvas);_0x9cc6d1[_0x220be2(0x1f0)]=_0x220be2(0x256),_0x9cc6d1[_0x220be2(0x366)](_0x2c1327-0x1,_0x75a897-0x1,_0x130a9c-_0x2c1327+0x1,_0x422889-_0x75a897+0x1),stars();let _0x19b3f1=_0x1bb7e8[_0x220be2(0x3c2)][_0x408c28];DrawPiece(_0x408c28,_0x19b3f1);}function get_last_move_from(){const _0x419cd6=_0x163623;if(Kifu[_0x419cd6(0x27d)]<=0x0)return 0x0;let _0x2017d6=Kifu[_0x419cd6(0x32b)](),_0x4f3af3=_0x2017d6['t']&0x7f;if(_0x4f3af3<0xb){if(Kifu[_0x419cd6(0x27d)]>0x1){let _0x123219=Kifu[_0x419cd6(0x1ad)](Kifu[_0x419cd6(0x27d)]-0x1);if(_0x123219==NULL)return 0x0;return _0x123219['f'];}else return 0x0;}else return _0x2017d6['f'];return 0x0;}function DrawLastPieceFrom(){const _0x5dc2bc=_0x163623;if(Kifu[_0x5dc2bc(0x27d)]==0x0)return;let _0x5943e8=get_last_move_from();if(_0x5943e8<0xb||_0x5943e8>0x63)return;let _0x2768d1=parseInt(_0x5943e8/0xa),_0x2c6f61=_0x5943e8%0xa;bdinv_flg!=0x0&&(_0x2768d1=0xa-_0x2768d1,_0x2c6f61=0xa-_0x2c6f61);let _0xc33444=BD_ORG_X+(0x9-_0x2768d1)*SQ_SIZE_X+0x2,_0x58dc94=BD_ORG_Y+(_0x2c6f61-0x1)*SQ_SIZE_Y+0x2,_0x3a71c7=_0xc33444+SQ_SIZE_X-0x3,_0x3c4460=_0x58dc94+SQ_SIZE_Y-0x3,_0x412e0b=getScaleContext(canvas);_0x412e0b['fillStyle']='rgb(224,\x20178,\x20131)',_0x412e0b[_0x5dc2bc(0x366)](_0xc33444-0x1,_0x58dc94-0x1,_0x3a71c7-_0xc33444+0x1,_0x3c4460-_0x58dc94+0x1),stars();}function DrawMotigomaPiece(_0x149a2f,_0x3bb2e1){DrawPieceXY(_0x149a2f['x'],_0x149a2f['y'],_0x3bb2e1);}function DrawMotiN(_0x42bb15,_0x1c6ca9,_0x128e45,_0x11fd3e){let _0x2ec48c=_0x1c6ca9&0x80;if(_0x128e45==0x2)_0x11fd3e--;if(_0x11fd3e<=0x0)return;let _0x50c4d5=GetMotiXy(_0x42bb15,_0x2ec48c,_0x1c6ca9),_0x5be15e=_0x50c4d5['x'],_0x4671eb;if(_0x11fd3e<=0x1)_0x4671eb=0x0;else{if((_0x1c6ca9&0xf)==FU){if(_0x11fd3e<=0x3)_0x4671eb=FU_PITCH;else _0x4671eb=(MOTI_SQ_SIZE_X*0x2-KOMA_SIZE_X-0x4+MOTI_OVERLAP)/(_0x11fd3e-0x1);}else _0x4671eb=(MOTI_SQ_SIZE_X-KOMA_SIZE_X-0x4+MOTI_OVERLAP)/(_0x11fd3e-0x1);}for(var _0x3f1d97=_0x11fd3e-0x1;_0x3f1d97>=0x0;_0x3f1d97--){if(_0x128e45==0x1){if(_0x3f1d97<0x1)continue;if((_0x1c6ca9&0xf)!=FU){if(_0x11fd3e==0x4){if(_0x3f1d97>0x2)continue;}else{if(_0x3f1d97!=0x1)continue;}}else{if(_0x11fd3e>=0xe){if(_0x3f1d97>0x4)continue;}else{if(_0x3f1d97>0x2)continue;}}}_0x50c4d5['x']=_0x5be15e+_0x3f1d97*_0x4671eb,DrawMotigomaPiece(_0x50c4d5,_0x1c6ca9);}}function DrawKomadaiTeban(_0x2ba2b0,_0xf33d8c,_0x37110a){const _0x4d3c08=_0x163623;let _0xa59558;if(_0xf33d8c==_0x2ba2b0[_0x4d3c08(0x2c2)])_0xa59558=0x1;else _0xa59558=0x0;let _0x2870d3,_0x388954,_0x1ab88a;if(bdinv_flg!=0x0)_0x1ab88a=GOTE;else _0x1ab88a=SENTE;_0xf33d8c!=_0x1ab88a?(_0x2870d3=BD_ORG_X-EDGE_X-LEFT_GAP-MOTI_SIZE_X,_0x388954=BD_ORG_Y-EDGE_Y-0x5):(_0x2870d3=BD_ORG_X+0x9*SQ_SIZE_X+EDGE_X+RIGHT_GAP,_0x388954=BD_ORG_Y+0x5*SQ_SIZE_Y);let _0x2e1d3e,_0xb1d69e;_0x2e1d3e=_0x2870d3+0x1;if(_0xf33d8c!=_0x1ab88a)_0xb1d69e=_0x388954+MOTI_SIZE_Y-0xd+0x2;else _0xb1d69e=_0x388954+0x1-0x2;let _0x341c92=0x1,_0x386b65;if(_0xf33d8c!=0x0){if(_0x341c92){if(_0x37110a[_0x4d3c08(0x1af)])_0x386b65='☗未定';else _0x386b65='☗'+_0x37110a[_0x4d3c08(0x1f9)];}else{if(_0x37110a[_0x4d3c08(0x1af)])_0x386b65='▲未定';else _0x386b65='▲'+_0x37110a['sente_name'];}}else{if(_0x341c92){if(_0x37110a[_0x4d3c08(0x1af)])_0x386b65='☖未定';else _0x386b65='☖'+_0x37110a['gote_name'];}else{if(_0x37110a['sengo_mitei_flg'])_0x386b65=_0x4d3c08(0x1f3);else _0x386b65='▽'+_0x37110a[_0x4d3c08(0x300)];}}let _0xec56b7=getScaleContext(canvas);_0xa59558!=0x0?_0xec56b7[_0x4d3c08(0x1f0)]='rgb(255,\x20255,\x20200)':_0xec56b7[_0x4d3c08(0x1f0)]=_0x4d3c08(0x256),_0xec56b7[_0x4d3c08(0x366)](_0x2e1d3e,_0xb1d69e+0x2,MOTI_SIZE_X-0x2,0xd),_0xec56b7[_0x4d3c08(0x1f0)]='rgb(0,\x200,\x200)',_0xec56b7[_0x4d3c08(0x348)]=_0x4d3c08(0x239),_0xec56b7[_0x4d3c08(0x1ec)](_0x386b65,_0x2e1d3e,_0xb1d69e+0xd,MOTI_SIZE_X-0x2);}function DrawKomadai(_0x474587){const _0x1e190c=_0x163623;let _0x211ffd;if(bdinv_flg!=0x0)_0x211ffd=GOTE;else _0x211ffd=SENTE;let _0x1098e2,_0x56453a;_0x474587!=_0x211ffd?(_0x1098e2=KOMADAI_LEFT_X,_0x56453a=KOMADAI_LEFT_Y):(_0x1098e2=KOMADAI_RIGHT_X,_0x56453a=KOMADAI_RIGHT_Y);var _0x405cf8=new Image();_0x405cf8[_0x1e190c(0x2f5)]=KJ_DIR+_0x1e190c(0x1c5)+new Date()[_0x1e190c(0x271)](),_0x405cf8[_0x1e190c(0x1f8)]=function(){const _0x17b9e2=_0x1e190c;let _0x92af1c=getScaleContext(canvas);muji_flg?(_0x92af1c[_0x17b9e2(0x1f0)]=_0x17b9e2(0x256),_0x92af1c[_0x17b9e2(0x366)](_0x1098e2,_0x56453a,MOTI_SIZE_X,MOTI_SIZE_Y),_0x92af1c[_0x17b9e2(0x323)]='rgb(30,\x2030,\x2030)',_0x92af1c[_0x17b9e2(0x3a3)]=0x1,_0x92af1c[_0x17b9e2(0x38a)](),_0x92af1c[_0x17b9e2(0x358)](_0x1098e2+MOTI_SIZE_X+0x1,_0x56453a),_0x92af1c[_0x17b9e2(0x2fa)](_0x1098e2+MOTI_SIZE_X+0x1,_0x56453a+MOTI_SIZE_Y+0x1),_0x92af1c[_0x17b9e2(0x358)](_0x1098e2,_0x56453a+MOTI_SIZE_Y+0x1),_0x92af1c[_0x17b9e2(0x2fa)](_0x1098e2+MOTI_SIZE_X+0x2,_0x56453a+MOTI_SIZE_Y+0x1),_0x92af1c['stroke']()):_0x92af1c['drawImage'](_0x405cf8,_0x1098e2,_0x56453a);DrawKomadaiTeban(cbd,_0x474587,Kifu);let _0x5376f0=_0x474587!=0x0?0x1:0x0;for(var _0x4e8856=HI;_0x4e8856>=FU;_0x4e8856--){let _0x44e632=cbd[_0x17b9e2(0x2b4)][_0x5376f0][_0x4e8856];if(_0x44e632==0x0)continue;DrawMotiN(cbd,_0x4e8856|_0x474587,0x0,_0x44e632);}};}function draw_coord(){const _0x48b8da=_0x163623,_0x42bbf8=['0','1','2','3','4','5','6','7','8','9'],_0x3c95f1=['零','一','二','三','四','五','六','七','八','九'],_0x149550=['','a','b','c','d','e','f','g','h','i'];let _0xc699d5=getScaleContext(canvas);_0xc699d5[_0x48b8da(0x1f0)]='rgb(0,\x200,\x200)';var _0x12fd45,_0x782838,_0x2c0dcf;if(bdinv_flg==0x0){_0xc699d5[_0x48b8da(0x348)]=_0x48b8da(0x239),_0x2c0dcf=BD_ORG_Y-0x1;for(_0x12fd45=0x1;_0x12fd45<=0x9;_0x12fd45++){_0x782838=BD_ORG_X+(0x9-_0x12fd45)*SQ_SIZE_X+SQ_SIZE_X/0x2-0x4,_0xc699d5[_0x48b8da(0x1ec)](_0x42bbf8[_0x12fd45],_0x782838,_0x2c0dcf);}_0xc699d5[_0x48b8da(0x348)]='13px\x20\x27ＭＳ\x20Ｐゴシック\x27',_0x782838=BD_ORG_X+0x9*SQ_SIZE_X;for(_0x12fd45=0x1;_0x12fd45<=0x9;_0x12fd45++){_0x2c0dcf=BD_ORG_Y+(_0x12fd45-0x1)*SQ_SIZE_Y+SQ_SIZE_Y/0x2+0x2,_0xc699d5[_0x48b8da(0x1ec)](_0x3c95f1[_0x12fd45],_0x782838,_0x2c0dcf);}}else{_0xc699d5[_0x48b8da(0x348)]=_0x48b8da(0x1c4),_0x2c0dcf=BD_ORG_Y+SQ_SIZE_Y*0x9+0xc;for(_0x12fd45=0x1;_0x12fd45<=0x9;_0x12fd45++){_0x782838=BD_ORG_X+(_0x12fd45-0x1)*SQ_SIZE_X+SQ_SIZE_X/0x2,_0xc699d5[_0x48b8da(0x1ec)](_0x42bbf8[_0x12fd45],_0x782838,_0x2c0dcf);}_0xc699d5[_0x48b8da(0x348)]=_0x48b8da(0x36e),_0x782838=BD_ORG_X-EDGE_X;for(_0x12fd45=0x1;_0x12fd45<=0x9;_0x12fd45++){_0x2c0dcf=BD_ORG_Y+(_0x12fd45-0x1)*SQ_SIZE_Y+SQ_SIZE_Y/0x2-0x6,_0xc699d5['fillText'](_0x3c95f1[0xa-_0x12fd45],_0x782838,_0x2c0dcf);}}}function DrawAllPiece(_0x4b877e){const _0x3ca5ed=_0x163623;for(var _0x45aae1=0xb;_0x45aae1<=0x63;_0x45aae1++){let _0x43d815=_0x4b877e[_0x3ca5ed(0x3c2)][_0x45aae1];if(_0x43d815==0x0||_0x43d815==0xff)continue;DrawPiece(_0x45aae1,_0x43d815);}}var ban_img;function draw_board_sub(){const _0x531d33=_0x163623;console['log'](_0x531d33(0x31c));let _0x2282da=getScaleContext(canvas);muji_flg?(_0x2282da['fillStyle']='rgb(242,\x20192,\x20119)',_0x2282da[_0x531d33(0x366)](BD_ORG_X-EDGE_X,BD_ORG_Y-EDGE_Y,SQ_SIZE_X*0x9+EDGE_X*0x2,SQ_SIZE_Y*0x9+EDGE_Y*0x2),_0x2282da[_0x531d33(0x323)]='rgb(30,\x2030,\x2030)',_0x2282da[_0x531d33(0x3a3)]=0x1,_0x2282da[_0x531d33(0x38a)](),_0x2282da[_0x531d33(0x358)](BD_ORG_X+SQ_SIZE_X*0x9+EDGE_X+0x1,BD_ORG_Y-EDGE_Y+0x0),_0x2282da[_0x531d33(0x2fa)](BD_ORG_X+SQ_SIZE_X*0x9+EDGE_X+0x1,BD_ORG_Y+SQ_SIZE_Y*0x9+EDGE_Y+0x1),_0x2282da[_0x531d33(0x358)](BD_ORG_X-EDGE_X,BD_ORG_Y+SQ_SIZE_Y*0x9+EDGE_Y+0x1),_0x2282da[_0x531d33(0x2fa)](BD_ORG_X+SQ_SIZE_X*0x9+EDGE_X+0x2,BD_ORG_Y+SQ_SIZE_Y*0x9+EDGE_Y+0x1),_0x2282da[_0x531d33(0x3c9)]()):_0x2282da[_0x531d33(0x3a8)](ban_img,BD_ORG_X-EDGE_X,BD_ORG_Y-EDGE_Y);if(Kifu[_0x531d33(0x27d)]>0x0){var _0x461ec5=Kifu[_0x531d33(0x32b)]();DrawLastPiece(cbd,_0x461ec5['t']&0x7f),DrawLastPieceFrom();}_0x2282da[_0x531d33(0x323)]=_0x531d33(0x3c4),_0x2282da[_0x531d33(0x3a3)]=0x1;for(let _0x13af29=0x0;_0x13af29<0xa;_0x13af29++){let _0x14f44a=_0x13af29*SQ_SIZE_Y;_0x2282da['beginPath'](),_0x2282da[_0x531d33(0x358)](BD_ORG_X,BD_ORG_Y+_0x14f44a),_0x2282da[_0x531d33(0x2fa)](BD_ORG_X+SQ_SIZE_X*0x9,BD_ORG_Y+_0x14f44a),_0x2282da[_0x531d33(0x3c9)]();let _0x502534=_0x13af29*SQ_SIZE_X;_0x2282da[_0x531d33(0x38a)](),_0x2282da['moveTo'](BD_ORG_X+_0x502534,BD_ORG_Y),_0x2282da['lineTo'](BD_ORG_X+_0x502534,BD_ORG_Y+SQ_SIZE_Y*0x9),_0x2282da[_0x531d33(0x3c9)]();}draw_coord(),piece_img==null?(piece_img=new Image(),piece_img[_0x531d33(0x2f5)]=KJ_DIR+'piece_4g.png?'+new Date()[_0x531d33(0x271)](),piece_img[_0x531d33(0x1f8)]=function(){const _0x48be5f=_0x531d33;console[_0x48be5f(0x1e6)](_0x48be5f(0x2ad)),DrawAllPiece(cbd),stars(),DrawKomadai(0x80),DrawKomadai(0x0);}):(DrawAllPiece(cbd),stars(),DrawKomadai(0x80),DrawKomadai(0x0));}function draw_board(){const _0x261e23=_0x163623;ban_img==null?(ban_img=new Image(),ban_img[_0x261e23(0x2f5)]=KJ_DIR+_0x261e23(0x2b2)+new Date()[_0x261e23(0x271)](),ban_img[_0x261e23(0x1f8)]=function(){const _0x57ce92=_0x261e23;console[_0x57ce92(0x1e6)]('draw_board\x20onload'),draw_board_sub();}):draw_board_sub(),ban_img[_0x261e23(0x36f)]=function(){const _0x1ba26f=_0x261e23;console[_0x1ba26f(0x353)](_0x1ba26f(0x230));};}function time_to_str(_0x65260b){const _0x431656=_0x163623;let _0x17d66b='',_0x54c3f4=parseInt(_0x65260b/0x3c);if(_0x65260b<0x258)_0x17d66b+=zen[_0x54c3f4];else _0x17d66b+=_0x54c3f4;if(english_flg)_0x17d66b+=_0x431656(0x1d7);else _0x17d66b+='時間';if(_0x65260b%0x3c<0xa)_0x17d66b+='0';_0x17d66b+=_0x65260b%0x3c;if(english_flg)_0x17d66b+=_0x431656(0x1b7);else _0x17d66b+='分';return _0x17d66b;}function time_to_str2(_0x1ef6ab){const _0x4ab10a=_0x163623;let _0xb2b14d='各',_0x433269=parseInt(_0x1ef6ab/0x3c);if(_0x1ef6ab<0x258)_0xb2b14d+=zen[_0x433269];else _0xb2b14d+=_0x433269;if(english_flg)_0xb2b14d+='hour\x20';else _0xb2b14d+='時間';if(_0x1ef6ab%0x3c>0x0){if(_0x1ef6ab%0x3c<0xa)_0xb2b14d+='0';_0xb2b14d+=_0x1ef6ab%0x3c;if(english_flg)_0xb2b14d+=_0x4ab10a(0x1b7);else _0xb2b14d+='分';}return _0xb2b14d;}function ShohiGraph(_0x36236c,_0xfb77d8){const _0x403f1d=_0x163623;if(FREE)return;console[_0x403f1d(0x1e6)](_0x403f1d(0x21b),COMM_LEFT+_0x403f1d(0x202)+COM_WIDTH);let _0x1f2eeb=getScaleContext(canvas);const _0x12c23c=BD_ORG_X+0x16,_0x525305=_0x12c23c+COM_WIDTH;let _0x538259=COMMENT_TOP+comment_hight+0x5;const _0x28df53=0x14;let _0x31d2e2=_0x538259+_0x28df53*0x3;_0x1f2eeb[_0x403f1d(0x1f0)]=_0x403f1d(0x33f),_0x1f2eeb[_0x403f1d(0x366)](_0x12c23c,_0x538259,_0x525305-_0x12c23c,_0x31d2e2-_0x538259),_0x1f2eeb[_0x403f1d(0x323)]=_0x403f1d(0x281),_0x1f2eeb['strokeRect'](_0x12c23c,_0x538259,_0x525305-_0x12c23c,_0x31d2e2-_0x538259);const _0x27fd76=_0x525305-_0x12c23c;for(var _0x101621=0x1;_0x101621<0x3;_0x101621++){let _0x3f7b64=_0x538259+_0x28df53*_0x101621;drawLine(_0x1f2eeb,_0x12c23c,_0x3f7b64,_0x12c23c+_0x27fd76,_0x3f7b64);}const _0x13101b=0x8c,_0x21b0b0=_0x12c23c+_0x13101b;drawLine(_0x1f2eeb,_0x21b0b0,_0x538259,_0x21b0b0,_0x538259+_0x28df53*0x3),_0x1f2eeb[_0x403f1d(0x1f0)]=_0x403f1d(0x281),_0x1f2eeb[_0x403f1d(0x366)](_0x21b0b0,_0x538259,_0x525305-_0x12c23c-_0x13101b,_0x28df53);let _0x8731e5=0x4;var _0x2cc347=_0x538259+_0x28df53*0x2-_0x8731e5;_0x1f2eeb[_0x403f1d(0x348)]=_0x403f1d(0x303),_0x1f2eeb[_0x403f1d(0x1f0)]=_0x403f1d(0x3c4);let _0x328391;_0x36236c[_0x403f1d(0x1af)]?_0x328391='☗\u3000':_0x328391='☗'+_0x36236c[_0x403f1d(0x1f9)];_0x1f2eeb[_0x403f1d(0x1ec)](_0x328391,_0x12c23c+0x5,_0x2cc347,_0x13101b-0x5);let _0x58ce0b;_0x36236c[_0x403f1d(0x1af)]?_0x58ce0b='☖\u3000':_0x58ce0b='☖'+_0x36236c[_0x403f1d(0x300)];let _0x46e19b=_0x538259+_0x28df53*0x3-_0x8731e5;_0x1f2eeb[_0x403f1d(0x1ec)](_0x58ce0b,_0x12c23c+0x5,_0x46e19b,_0x13101b-0x5),_0x1f2eeb[_0x403f1d(0x1f0)]=_0x403f1d(0x33f);let _0x23f780;if(english_flg)_0x23f780='Spend';else _0x23f780=_0x403f1d(0x26c);let _0x1b8a3e=_0x538259+_0x28df53-_0x8731e5;_0x1f2eeb['fillText'](_0x23f780,_0x12c23c+_0x13101b+0xa,_0x1b8a3e);let _0x523147;if(english_flg)_0x523147='Left';else _0x523147=_0x403f1d(0x2a5);_0x1f2eeb[_0x403f1d(0x1ec)](_0x523147,_0x525305-0x64+0x24,_0x1b8a3e);let _0x53cc6e=Kifu[_0x403f1d(0x2ee)]();if(_0x53cc6e<=0x0)return;let _0x5eac78=time_to_str2(_0x53cc6e);_0x1f2eeb[_0x403f1d(0x1ec)](_0x5eac78,_0x12c23c+_0x13101b+0x78,_0x1b8a3e);let _0x4011d1,_0x392f80,_0x323b4c,_0x5a06c1=_0x36236c[_0x403f1d(0x2c3)]();if(_0x5a06c1>0x0){let _0x407e49=_0x36236c[_0x403f1d(0x1ad)](_0x36236c['move_no']);if(_0x407e49==null)return;let _0xbdd808=_0x36236c['get_total_time_kp'](_0x407e49),_0xc09cb6;if(_0x36236c[_0x403f1d(0x27d)]<=0x0)_0xc09cb6=0x0;else{let _0x3c1437=_0x36236c[_0x403f1d(0x1ad)](_0x36236c['move_no']-0x1);if(_0x3c1437==null)return;_0xc09cb6=_0x36236c[_0x403f1d(0x370)](_0x3c1437);}_0xbdd808=parseInt(_0xbdd808/0x3c),_0xc09cb6=parseInt(_0xc09cb6/0x3c);(Kifu[_0x403f1d(0x27d)]&0x1)==0x0?(_0x323b4c=_0xbdd808,_0x392f80=_0xc09cb6):(_0x392f80=_0xbdd808,_0x323b4c=_0xc09cb6);_0x4011d1=_0x36236c[_0x403f1d(0x27d)];if(_0x36236c[_0x403f1d(0x27d)]>0x0&&_0x407e49['t']<0xb)_0x4011d1=-0x1;}else{if(_0x36236c[_0x403f1d(0x1fc)]==null)return;let _0x37be46=_0x36236c[_0x403f1d(0x1fc)][_0x403f1d(0x211)]('▲');if(_0x37be46<0x0)return;let _0x41c938=_0x36236c[_0x403f1d(0x1fc)]['substring'](0x0,_0x37be46);_0x4011d1=parseInt(_0x41c938);if(isNaN(_0x4011d1)){console[_0x403f1d(0x353)](_0x403f1d(0x3b0)+_0x41c938);return;}if(_0x36236c[_0x403f1d(0x203)]()!=0x0&&_0x4011d1>=_0x36236c[_0x403f1d(0x22d)]()-0x1)_0x4011d1=-0x1;let _0x53bb1b=_0x36236c[_0x403f1d(0x1fc)][_0x403f1d(0x2f1)](_0x37be46),_0x5a74d6=_0x53bb1b[_0x403f1d(0x211)]('△');if(_0x5a74d6<0x0)return;let _0x581478=_0x53bb1b[_0x403f1d(0x2f1)](0x1,_0x5a74d6),_0x519a7a=_0x53bb1b[_0x403f1d(0x2f1)](_0x5a74d6+0x1);_0x392f80=parseInt(_0x581478),_0x323b4c=parseInt(_0x519a7a);if(isNaN(_0x392f80)||isNaN(_0x323b4c)){console[_0x403f1d(0x353)]('***\x20ERROR\x20202:\x20消費時間:'+_0x36236c[_0x403f1d(0x1fc)]);return;}}let _0x3bc277;if(english_flg){if(_0x4011d1==-0x1)_0x3bc277='Final';else _0x3bc277=_0x403f1d(0x2a7)+_0x4011d1;}else{if(_0x4011d1==-0x1)_0x3bc277='終局';else{if(_0x4011d1<=0x0)_0x3bc277=_0x4011d1+_0x403f1d(0x237);else{let _0x52665f=_0x36236c[_0x403f1d(0x1ad)](_0x4011d1);if(_0x52665f==null)_0x3bc277=_0x4011d1+_0x403f1d(0x237);else{let _0x128121=0x3;_0x3bc277=_0x4011d1+'手'+_0x36236c[_0x403f1d(0x301)](0x0,_0x128121,_0x52665f,0x0)+'まで';}}}}_0x1f2eeb['fillStyle']='rgb(0,\x200,\x200)',_0x1f2eeb['fillText'](_0x3bc277,_0x12c23c+0x4,_0x1b8a3e,_0x13101b);if(_0x392f80>_0x53cc6e)_0x392f80=_0x53cc6e;if(_0x323b4c>_0x53cc6e)_0x323b4c=_0x53cc6e;let _0x1cfbc0=time_to_str(_0x392f80);_0x1f2eeb[_0x403f1d(0x1ec)](_0x1cfbc0,_0x12c23c+_0x13101b+0x6,_0x2cc347);let _0x1876a6=_0x53cc6e-_0x392f80;if(_0x1876a6<0x0)_0x1876a6=0x0;if(_0x1876a6<=0x1)_0x1f2eeb[_0x403f1d(0x1f0)]=_0x403f1d(0x3a6);else{if(_0x1876a6<=0xa)_0x1f2eeb[_0x403f1d(0x1f0)]='rgb(0,\x200,\x20255)';else _0x1f2eeb[_0x403f1d(0x1f0)]=_0x403f1d(0x3c4);}let _0x27f73c=time_to_str(_0x1876a6),_0x528364=0x17;_0x1f2eeb[_0x403f1d(0x1ec)](_0x27f73c,_0x525305-0x64+_0x528364,_0x2cc347);let _0x5b57bd=_0x12c23c+_0x13101b+0x52,_0x83d34c=_0x525305-0x50,_0x2984ef=_0x538259+_0x28df53+0x5,_0x4363e4=_0x538259+_0x28df53*0x2-0x5,_0x39be6d=(_0x83d34c-_0x5b57bd)*_0x392f80/_0x53cc6e,_0x4ae4c9=_0x4363e4-_0x2984ef,_0x15f8e1=0x7;var _0x124f29=0xc2,_0x4be17b=0xa1,_0x5b7929=0x76;const _0x4f5334=_0x403f1d(0x1c8),_0x1e1459=_0x403f1d(0x3a5);for(let _0x4bbbd9=_0x2984ef;_0x4bbbd9<=_0x4363e4;_0x4bbbd9++){_0x4bbbd9<_0x2984ef+0x1?_0x1f2eeb[_0x403f1d(0x323)]=_0x1e1459:_0x1f2eeb[_0x403f1d(0x323)]=_0x4f5334,drawLine(_0x1f2eeb,_0x5b57bd,_0x4bbbd9,_0x5b57bd+_0x39be6d,_0x4bbbd9),_0x39be6d>0x1&&_0x4bbbd9>_0x2984ef&&(_0x1f2eeb['strokeStyle']=_0x1e1459,drawLine(_0x1f2eeb,_0x5b57bd,_0x4bbbd9,_0x5b57bd+0x1,_0x4bbbd9));}const _0x5ae191='rgb(50,\x20140,\x20245)';if(_0x1876a6>0x0){_0x39be6d=_0x83d34c-_0x5b57bd-_0x39be6d,_0x124f29=0x45,_0x4be17b=0x96,_0x5b7929=0xf4;for(let _0x2bbef3=_0x2984ef;_0x2bbef3<=_0x4363e4;_0x2bbef3++){_0x2bbef3>_0x2984ef+_0x4ae4c9/0x2?(_0x124f29-=_0x15f8e1,_0x4be17b-=_0x15f8e1,_0x5b7929-=_0x15f8e1,_0x1f2eeb[_0x403f1d(0x323)]=_0x403f1d(0x3bb)+_0x124f29+',\x20'+_0x4be17b+',\x20'+_0x5b7929+')'):_0x1f2eeb[_0x403f1d(0x323)]=_0x5ae191,drawLine(_0x1f2eeb,_0x83d34c-_0x39be6d,_0x2bbef3,_0x83d34c,_0x2bbef3);}}let _0x27573c=time_to_str(_0x323b4c);_0x1f2eeb['fillStyle']=_0x403f1d(0x3c4),_0x1f2eeb[_0x403f1d(0x1ec)](_0x27573c,_0x12c23c+_0x13101b+0x6,_0x46e19b);let _0x1a1f7f=_0x53cc6e-_0x323b4c;if(_0x1a1f7f<0x0)_0x1a1f7f=0x0;if(_0x1a1f7f<=0x1)_0x1f2eeb['fillStyle']=_0x403f1d(0x3a6);else{if(_0x1a1f7f<=0xa)_0x1f2eeb[_0x403f1d(0x1f0)]=_0x403f1d(0x2a8);else _0x1f2eeb[_0x403f1d(0x1f0)]=_0x403f1d(0x3c4);}let _0x20e541=time_to_str(_0x1a1f7f);_0x1f2eeb[_0x403f1d(0x1ec)](_0x20e541,_0x525305-0x64+_0x528364,_0x46e19b),_0x2984ef=_0x538259+_0x28df53*0x2+0x5,_0x4363e4=_0x538259+_0x28df53*0x3-0x5,_0x39be6d=(_0x83d34c-_0x5b57bd)*_0x323b4c/_0x53cc6e,_0x124f29=0xc2,_0x4be17b=0xa1,_0x5b7929=0x76;for(let _0x4b9dce=_0x2984ef;_0x4b9dce<=_0x4363e4;_0x4b9dce++){_0x4b9dce<=_0x2984ef+_0x4ae4c9/0x2?(_0x124f29+=_0x15f8e1,_0x4be17b+=_0x15f8e1,_0x5b7929+=_0x15f8e1):(_0x124f29-=_0x15f8e1,_0x4be17b-=_0x15f8e1,_0x5b7929-=_0x15f8e1),_0x4b9dce<_0x2984ef+0x1?_0x1f2eeb[_0x403f1d(0x323)]=_0x1e1459:_0x1f2eeb['strokeStyle']=_0x4f5334,drawLine(_0x1f2eeb,_0x5b57bd,_0x4b9dce,_0x5b57bd+_0x39be6d,_0x4b9dce),_0x39be6d>0x1&&_0x4b9dce>_0x2984ef&&(_0x1f2eeb['strokeStyle']=_0x1e1459,drawLine(_0x1f2eeb,_0x5b57bd,_0x4b9dce,_0x5b57bd+0x1,_0x4b9dce));}if(_0x1a1f7f>0x0){_0x39be6d=_0x83d34c-_0x5b57bd-_0x39be6d,_0x124f29=0x45,_0x4be17b=0x96,_0x5b7929=0xf4;for(let _0x23b7b7=_0x2984ef;_0x23b7b7<=_0x4363e4;_0x23b7b7++){_0x23b7b7>_0x2984ef+_0x4ae4c9/0x2?(_0x124f29-=_0x15f8e1,_0x4be17b-=_0x15f8e1,_0x5b7929-=_0x15f8e1,_0x1f2eeb[_0x403f1d(0x323)]=_0x403f1d(0x3bb)+_0x124f29+',\x20'+_0x4be17b+',\x20'+_0x5b7929+')'):_0x1f2eeb[_0x403f1d(0x323)]=_0x5ae191,drawLine(_0x1f2eeb,_0x83d34c-_0x39be6d,_0x23b7b7,_0x83d34c,_0x23b7b7);}}}function LoadImages(_0x4ba66e){const _0x30b590=_0x163623;let _0x14b5aa=getScaleContext(canvas);if(typeof LEFT_IMAGE!==_0x30b590(0x21c)){if(LEFT_IMAGE!=null){LeftImageName(_0x4ba66e);let _0x72e281=new Image();_0x72e281['src']=LEFT_IMAGE+'?'+new Date()[_0x30b590(0x271)](),_0x72e281[_0x30b590(0x1f8)]=function(){const _0x553a60=_0x30b590;console[_0x553a60(0x1e6)](_0x553a60(0x356));let _0x26aa1f=BD_ORG_X-EDGE_X-LEFT_GAP-MOTI_SIZE_X;_0x14b5aa[_0x553a60(0x3a8)](_0x72e281,_0x26aa1f,BD_ORG_Y-EDGE_Y+MOTI_SIZE_Y+0x5);};}}if(typeof RIGHT_IMAGE!==_0x30b590(0x21c)){if(RIGHT_IMAGE!=null){RightImageName(_0x4ba66e);let _0x26f4b4=new Image();_0x26f4b4[_0x30b590(0x2f5)]=RIGHT_IMAGE+'?'+new Date()['getTime'](),_0x26f4b4[_0x30b590(0x1f8)]=function(){const _0xbb8826=_0x30b590;console[_0xbb8826(0x1e6)](_0xbb8826(0x21e)),_0x14b5aa[_0xbb8826(0x3a8)](_0x26f4b4,BD_ORG_X+0x9*SQ_SIZE_X+EDGE_X+RIGHT_GAP,BD_ORG_Y-EDGE_Y+0x12);};}}}function RightImageName(_0x1b8f36){const _0x961e43=_0x163623;if(typeof RIGHT_IMAGE===_0x961e43(0x21c))return;if(RIGHT_IMAGE==null)return;let _0x1b036e;if(cbd['teban']==0x80)_0x1b036e=0x1;else _0x1b036e=0x0;if(left_is_sente_flg)_0x1b036e=0x1-_0x1b036e;let _0x44fc65,_0x43ce9c=0x1;if(_0x43ce9c){if(left_is_sente_flg){if(_0x1b8f36[_0x961e43(0x1af)])_0x44fc65='☖\u3000';else _0x44fc65='☖'+_0x1b8f36[_0x961e43(0x300)];}else{if(_0x1b8f36[_0x961e43(0x1af)])_0x44fc65='☗\u3000';else _0x44fc65='☗'+_0x1b8f36['sente_name'];}}else{if(left_is_sente_flg){if(_0x1b8f36['sengo_mitei_flg'])_0x44fc65='▽';else _0x44fc65='▽'+_0x1b8f36[_0x961e43(0x300)];}else{if(_0x1b8f36['sengo_mitei_flg'])_0x44fc65='▲';else _0x44fc65='▲'+_0x1b8f36[_0x961e43(0x1f9)];}}let _0x54652a=BD_ORG_X+0x9*SQ_SIZE_X+EDGE_X+RIGHT_GAP,_0x217b08=BD_ORG_Y-EDGE_Y-0x1,_0x32824f=getScaleContext(canvas);_0x1b036e!=0x0?_0x32824f['fillStyle']='rgb(255,\x20255,\x20200)':_0x32824f[_0x961e43(0x1f0)]=_0x961e43(0x256),_0x32824f[_0x961e43(0x366)](_0x54652a,_0x217b08+0x2,MOTI_SIZE_X-0x2,0xd),_0x32824f['fillStyle']=_0x961e43(0x3c4),_0x32824f[_0x961e43(0x348)]=_0x961e43(0x239),_0x32824f['fillText'](_0x44fc65,_0x54652a,_0x217b08+0xd,MOTI_SIZE_X-0x2);}function LeftImageName(_0x38f990){const _0x2e2c5d=_0x163623;if(typeof LEFT_IMAGE==='undefined')return;if(LEFT_IMAGE==null)return;let _0x5077bc;if(cbd['teban']==0x0)_0x5077bc=0x1;else _0x5077bc=0x0;if(left_is_sente_flg)_0x5077bc=0x1-_0x5077bc;let _0x4cb652,_0xecfefe=0x1;if(_0xecfefe){if(left_is_sente_flg){if(_0x38f990[_0x2e2c5d(0x1af)])_0x4cb652='☗\u3000';else _0x4cb652='☗'+_0x38f990[_0x2e2c5d(0x1f9)];}else{if(_0x38f990[_0x2e2c5d(0x1af)])_0x4cb652='☖\u3000';else _0x4cb652='☖'+_0x38f990['gote_name'];}}else{if(left_is_sente_flg){if(_0x38f990[_0x2e2c5d(0x1af)])_0x4cb652='▲';else _0x4cb652='▲'+_0x38f990['sente_name'];}else{if(_0x38f990[_0x2e2c5d(0x1af)])_0x4cb652='▽';else _0x4cb652='▽'+_0x38f990[_0x2e2c5d(0x300)];}}let _0x4000cd=BD_ORG_X-EDGE_X-LEFT_GAP-MOTI_SIZE_X,_0x588672=BD_ORG_Y+0x9*SQ_SIZE_Y+EDGE_Y-0xf,_0x2c04a9=getScaleContext(canvas);_0x5077bc!=0x0?_0x2c04a9[_0x2e2c5d(0x1f0)]=_0x2e2c5d(0x2dc):_0x2c04a9[_0x2e2c5d(0x1f0)]=_0x2e2c5d(0x256),_0x2c04a9[_0x2e2c5d(0x366)](_0x4000cd,_0x588672+0x2,MOTI_SIZE_X-0x2,0xd),_0x2c04a9[_0x2e2c5d(0x1f0)]='rgb(0,\x200,\x200)',_0x2c04a9[_0x2e2c5d(0x348)]='13px\x20\x27メイリオ\x27',_0x2c04a9[_0x2e2c5d(0x1ec)](_0x4cb652,_0x4000cd,_0x588672+0xd,MOTI_SIZE_X-0x2);}function get_csa_koma(_0xcafa17){const _0xc735e7=_0x163623,_0x3928e2=['\x200','FU','KY','KE','GI','KI','KA','HI','OU','TO','NY','NK','NG','13','UM','RY'];let _0x532fcc;for(_0x532fcc=0x0;_0x532fcc<=0xf;_0x532fcc++){if(_0xcafa17[_0xc735e7(0x211)](_0x3928e2[_0x532fcc])==0x0)break;}if(_0x532fcc>0xf)return console[_0xc735e7(0x353)](_0xc735e7(0x22c)+_0xcafa17),-0x1;return _0x532fcc;}function to_kanji_move(_0x4b7c55,_0x4e7313,_0x53fbc3){const _0x446f49=_0x163623,_0x482144=['\u3000','歩','香','桂','銀','金','角','飛','玉','と','成香','成桂','成銀','金','馬','龍'];let _0x5e6aa3='';if(_0x4b7c55['indexOf']('+')==0x0)_0x5e6aa3+='▲';else _0x4b7c55[_0x446f49(0x211)]('-')==0x0&&(_0x5e6aa3+='△');let _0x3fab58=_0x4b7c55[_0x446f49(0x2f1)](0x1,0x3),_0x2645ba=_0x4b7c55['substring'](0x3,0x5),_0x27911d=_0x4b7c55['substring'](0x5),_0x5d4895=get_csa_koma(_0x27911d);if(_0x2645ba==_0x4e7313)_0x5e6aa3+='同';else _0x5e6aa3+=_0x2645ba;let _0x357402=parseInt(_0x4b7c55[_0x446f49(0x2f1)](0x2,0x3)),_0x4ba98c=parseInt(_0x4b7c55[_0x446f49(0x2f1)](0x4,0x5));if(_0x5d4895==0xb){if(_0x357402==_0x4ba98c+0x2||_0x357402==_0x4ba98c-0x2)_0x5e6aa3+='桂成';else _0x5e6aa3+=_0x482144[_0x5d4895];}else{if(_0x5d4895==0xa){if(_0x357402>=_0x4ba98c+0x2||_0x357402<=_0x4ba98c-0x2)_0x5e6aa3+='香成';else _0x5e6aa3+=_0x482144[_0x5d4895];}else{let _0x311b42=parseInt(_0x3fab58);if(_0x5d4895>0x8&&(_0x53fbc3[_0x446f49(0x3c2)][_0x311b42]&0xf)==(_0x5d4895&0x7))_0x5e6aa3+=_0x482144[_0x5d4895&0x7]+'成';else _0x5e6aa3+=_0x482144[_0x5d4895];}}if(_0x3fab58=='00'){if(_0x5d4895!=0x1)_0x5e6aa3+='打';}else _0x5d4895!=0x1&&_0x5d4895!=0x2&&_0x5d4895!=0x8&&(_0x5e6aa3+='(',_0x5e6aa3+=_0x3fab58,_0x5e6aa3+=')');return _0x5e6aa3;}function csa_load_comment(_0x453a55,_0xd29512,_0x17dc20){const _0x4e2fb3=_0x163623;var _0x458a5f=_0xd29512[_0x4e2fb3(0x2f1)](0x4);let _0x476d5e='',_0x21cdf9=_0x458a5f[_0x4e2fb3(0x335)](/ /),_0x31612='';for(var _0xc3daaf=0x0;_0xc3daaf<_0x21cdf9[_0x4e2fb3(0x2d1)];_0xc3daaf++){let _0x14cbc2=_0x21cdf9[_0xc3daaf];if(_0xc3daaf==0x0)_0x476d5e+=_0x14cbc2,_0x476d5e+='\x20';else(_0x14cbc2[_0x4e2fb3(0x211)]('+')==0x0||_0x14cbc2[_0x4e2fb3(0x211)]('-')==0x0)&&(_0x31612=_0x14cbc2[_0x4e2fb3(0x2f1)](0x3,0x5));}let _0x352564=_0x453a55['add_comment'](_0x453a55[_0x4e2fb3(0x27d)],_0x476d5e);return _0x352564;}function store_move_set(_0x5283ea,_0x3ba9b3,_0x3f6ad5,_0x304ad8,_0x16d342,_0x3ef32a,_0xaa4891,_0x58191a){const _0x456a61=_0x163623;(_0x16d342!=0x0&&_0xaa4891<0x1||(_0xaa4891&0xf)>RY)&&console[_0x456a61(0x353)](_0x456a61(0x1f2)+_0x16d342+_0x456a61(0x3bf)+_0xaa4891);let _0x2782ff=new Kifup();_0x2782ff['t']=_0x3ef32a,_0x2782ff['f']=_0x16d342,_0x2782ff['k']=_0xaa4891;let _0x3b2715=_0x5283ea[_0x456a61(0x2cc)](_0x3ba9b3,_0x3f6ad5,_0x2782ff,_0x58191a);if(_0x3b2715==-0x2)return-0x2;if(_0x3b2715==-0x1)return-0x1;else _0x3b2715>0x0&&console['error'](_0x456a61(0x2d2)+_0x3b2715);if(_0x3ef32a<0xb)return 0x2;return _0x3ef32a;}var bd_set;function csa_load_line(_0x3183b8,_0xe6ddb3,_0x62ec71,_0x746f95){const _0xc60859=_0x163623;if(_0x746f95[_0xc60859(0x2d1)]<=0x0)return 0x0;if(_0x746f95[_0xc60859(0x211)](_0xc60859(0x1ce))==0x0)return csa_load_comment(_0x3183b8,_0x746f95,_0xe6ddb3),0x0;if(_0x746f95[_0xc60859(0x211)]('\x27')==0x0)return 0x0;if(_0x746f95[_0xc60859(0x211)]('V')==0x0)return 0x0;if(_0x746f95[_0xc60859(0x211)]('$')==0x0){if(_0x746f95[_0xc60859(0x211)](_0xc60859(0x365))==0x0)_0x3183b8[_0xc60859(0x3c7)]=_0x746f95['substring'](0xc);return 0x0;}if(_0x746f95[_0xc60859(0x211)]('N+')==0x0)return _0x3183b8[_0xc60859(0x1f9)]=_0x746f95[_0xc60859(0x2f1)](0x2),0x0;if(_0x746f95[_0xc60859(0x211)]('N-')==0x0)return _0x3183b8[_0xc60859(0x300)]=_0x746f95['substring'](0x2),0x0;if(_0x746f95[_0xc60859(0x211)]('P')==0x0)return 0x0;if(_0x746f95[_0xc60859(0x2d1)]==0x1){if(_0x746f95[_0xc60859(0x211)]('+')==0x0)return _0x62ec71[_0xc60859(0x2c2)]=_0xe6ddb3['teban']=SENTE,0x0;if(_0x746f95[_0xc60859(0x211)]('-')==0x0)return _0x62ec71[_0xc60859(0x2c2)]=_0xe6ddb3[_0xc60859(0x2c2)]=GOTE,0x0;}if(bd_set==0x0&&(_0x746f95[_0xc60859(0x211)]('+')==0x0||_0x746f95[_0xc60859(0x211)]('-')==0x0||_0x746f95['indexOf']('%')==0x0)){if(_0x3183b8['abnormal_flg']==0x0){}else{}bd_set=0x1;}let _0x221cf2=0x0,_0x59cc9c=0x0;if(_0x746f95['indexOf']('%')==0x0){if(_0x746f95[_0xc60859(0x211)]('%TORYO')==0x0)_0x59cc9c=TORYO;else{if(_0x746f95[_0xc60859(0x211)]('%CHUDAN')==0x0)_0x59cc9c=CHUDAN;else{if(_0x746f95[_0xc60859(0x211)](_0xc60859(0x20f))==0x0)_0x59cc9c=SENNITITE;else{if(_0x746f95[_0xc60859(0x211)](_0xc60859(0x31a))==0x0)_0x59cc9c=JISHOGI;else{if(_0x746f95[_0xc60859(0x211)](_0xc60859(0x1e0))==0x0)_0x59cc9c=JISHOGI;else{if(_0x746f95[_0xc60859(0x211)](_0xc60859(0x28a))==0x0)_0x59cc9c=KACHI;else{if(_0x746f95[_0xc60859(0x211)](_0xc60859(0x30e))==0x0)_0x59cc9c=KIREMAKE;else{if(_0x746f95[_0xc60859(0x211)](_0xc60859(0x371))==0x0)_0x59cc9c=HANSOKU_MAKE;else{if(_0x746f95[_0xc60859(0x211)](_0xc60859(0x34d))==0x0)_0x59cc9c=SENTE_HANSOKU;else{if(_0x746f95[_0xc60859(0x211)]('%-ILLEGAL_ACTION')==0x0)_0x59cc9c=GOTE_HANSOKU;}}}}}}}}}let _0x1fad98=store_move_set(_0x3183b8,_0xe6ddb3,_0x62ec71,_0x3183b8['move_no']+0x1,_0x221cf2,_0x59cc9c,0x0,0x0);return 0x0;}if(_0x746f95['indexOf']('T')==0x0){let _0x552bdd=_0x746f95['substring'](0x1),_0x23f630=parseInt(_0x552bdd),_0x2e1d96=_0x3183b8[_0xc60859(0x1ad)](_0x3183b8[_0xc60859(0x27d)]);return _0x2e1d96[_0xc60859(0x361)]=_0x23f630,0x0;}if(_0x746f95['indexOf']('+')==0x0||_0x746f95[_0xc60859(0x211)]('-')==0x0){let _0x249b77=_0x746f95[_0xc60859(0x2f1)](0x1,0x3),_0x2398b4=_0x746f95[_0xc60859(0x2f1)](0x3,0x5),_0x1d0692=_0x746f95['substring'](0x5),_0x45a7bb=get_csa_koma(_0x1d0692);if(_0x45a7bb<0x1||_0x45a7bb>0xf)return console['error'](_0xc60859(0x276)),-0x1;if(_0x746f95[_0xc60859(0x211)]('+')==0x0)_0x45a7bb|=SENTE;_0x221cf2=parseInt(_0x249b77),_0x59cc9c=parseInt(_0x2398b4);if(_0x221cf2==0x0){if(_0x45a7bb&0x80)_0x221cf2=0x90|_0x45a7bb;else _0x221cf2=0x80|_0x45a7bb;}else{let _0x20bb60=_0xe6ddb3[_0xc60859(0x3c2)][_0x221cf2];if(_0x20bb60==0x0)return-0x1;else{if(_0x20bb60!=_0x45a7bb){if(_0x45a7bb==(_0x20bb60|0x8))_0x45a7bb=_0x20bb60,_0x59cc9c|=0x80;else return console[_0xc60859(0x353)]('駒の名前と移動元が一致しません。\x0a'),console[_0xc60859(0x353)]('f='+_0x221cf2+_0xc60859(0x1b6)+_0x20bb60),-0x1;}}}let _0xba7ee7=store_move_set(_0x3183b8,_0xe6ddb3,_0x62ec71,_0x3183b8[_0xc60859(0x27d)]+0x1,_0x221cf2,_0x59cc9c,_0x45a7bb,0x0);if(_0xba7ee7<=0x0)return-0x2;}return 0x0;}var csa_last_kifu_s;function csa_load(_0x4f8be3,_0x3fbf5d,_0x3aa01d,_0x3f31e3,_0x145c99){const _0x5bc6da=_0x163623;console[_0x5bc6da(0x1e6)]('csa_load');if(_0x4f8be3==csa_last_kifu_s)return console[_0x5bc6da(0x1e6)](_0x5bc6da(0x32e)),0x2;csa_last_kifu_s=_0x4f8be3;let _0x5ad4d5=_0x3aa01d[_0x5bc6da(0x27d)],_0x1da4a4=_0x3aa01d['get_kifu_size'](),_0x4aa994=_0x4f8be3[_0x5bc6da(0x335)]('\x0a');_0x3aa01d[_0x5bc6da(0x25b)](),_0x3aa01d[_0x5bc6da(0x31e)](),cbd[_0x5bc6da(0x1f6)](),start[_0x5bc6da(0x1f6)](),_0x3aa01d['abnormal_flg']=0x0,bd_set=0x0;for(let _0xada3fe=0x0;_0xada3fe<_0x4aa994[_0x5bc6da(0x2d1)];_0xada3fe++){let _0x5a731f=_0x4aa994[_0xada3fe],_0x28c378=csa_load_line(_0x3aa01d,cbd,start,_0x5a731f);if(_0x28c378<0x0)break;let _0x764dfd=_0x5a731f[_0x5bc6da(0x211)](',');if(_0x764dfd>0x0){_0x5a731f=_0x5a731f['substring'](_0x764dfd+0x1),_0x28c378=csa_load_line(_0x3aa01d,cbd,start,_0x5a731f);if(_0x28c378<0x0)break;}}ReplayTop(),TopInfo(_0x3aa01d),RightImageName(_0x3aa01d),LeftImageName(_0x3aa01d),console['log'](_0x5bc6da(0x372)+_0x145c99);if(_0x145c99==-0x1){let _0x203c96=location['href'];console[_0x5bc6da(0x1e6)]('#\x20url='+_0x203c96);let _0xd4ed08=_0x203c96['lastIndexOf']('?te=');if(_0xd4ed08>=0x0){let _0x4a8cdb=_0x203c96[_0x5bc6da(0x2f1)](_0xd4ed08+0x4);_0xd4ed08=_0x4a8cdb['lastIndexOf']('?');_0xd4ed08>=0x0&&(_0x4a8cdb=_0x4a8cdb['substring'](0x0,_0xd4ed08));let _0x46a5fc=parseInt(_0x4a8cdb,0xa);console['log']('#\x20te='+_0x46a5fc),Jump_sub(_0x46a5fc),ViewUpdate();}else!_0x3aa01d[_0x5bc6da(0x203)]()&&ReplayLast(0x0,0x1);}else _0x145c99==-0x2?(ReplayLast(0x0,0x1),_0x3aa01d['move_no']>_0x5ad4d5&&Komaoto()):(Jump_sub(_0x145c99),ViewUpdate(),_0x3aa01d[_0x5bc6da(0x22d)]()>_0x1da4a4&&Komaoto());return set_kifu_list(),ButtonUpdate(),0x0;}const teai_str=['平手',_0x163623(0x1d4),_0x163623(0x29c),_0x163623(0x1b4),_0x163623(0x1ae),_0x163623(0x399),_0x163623(0x33d),_0x163623(0x287),_0x163623(0x26d),_0x163623(0x32f),_0x163623(0x266),_0x163623(0x39c),_0x163623(0x338),'十枚落ち','その他\u3000'];function get_teai(_0x3a89e0){const _0x1d5ee4=_0x163623;let _0x1610f7;for(_0x1610f7=0x0;_0x1610f7<=SONOTA;_0x1610f7++){if(_0x3a89e0[_0x1d5ee4(0x211)](teai_str[_0x1610f7])==0x0)break;}return _0x1610f7;}function load_teai_sub(_0x3d2b34,_0x778319,_0x45924f){const _0x3a72d8=_0x163623;if(_0x45924f[_0x3a72d8(0x211)](_0x3a72d8(0x351))==0x0){_0x3d2b34[_0x3a72d8(0x2bd)]=get_teai(_0x45924f[_0x3a72d8(0x2f1)](0x4));if(_0x3d2b34[_0x3a72d8(0x2bd)]>0x0)_0x778319['teban']=_0x3d2b34[_0x3a72d8(0x2c2)]=GOTE;return 0x1;}else{if(_0x45924f['indexOf'](_0x3a72d8(0x38b))==0x0||_0x45924f['indexOf'](_0x3a72d8(0x2e2))==0x0||_0x45924f[_0x3a72d8(0x211)](_0x3a72d8(0x314))==0x0||_0x45924f['indexOf'](_0x3a72d8(0x24c))==0x0)_0x778319[_0x3a72d8(0x2c2)]=_0x3d2b34[_0x3a72d8(0x2c2)]=GOTE;else{if(_0x45924f[_0x3a72d8(0x211)]('先手番')==0x0||_0x45924f[_0x3a72d8(0x211)](_0x3a72d8(0x2ff))==0x0||_0x45924f[_0x3a72d8(0x211)]('手番：先手')==0x0||_0x45924f[_0x3a72d8(0x211)](_0x3a72d8(0x32c))==0x0)_0x778319['teban']=_0x3d2b34[_0x3a72d8(0x2c2)]=SENTE;}}return 0x0;}var gote_moti_flg;function load_bod_sub(_0x4feb03,_0x3b062d,_0xbcc8aa){const _0x1bf075=_0x163623;if(_0xbcc8aa>0x9)return 0x0;let _0x4c85f4=0x0,_0x234ad5=_0x3b062d[_0x1bf075(0x393)](_0x4c85f4);_0x4c85f4++;_0x234ad5==':'&&(_0x234ad5=_0x3b062d[_0x1bf075(0x393)](_0x4c85f4),_0x4c85f4++);if(_0x234ad5!='|')return 0x0;for(let _0x3ebe58=0x9;_0x3ebe58>=0x1;_0x3ebe58--){_0x234ad5=_0x3b062d[_0x1bf075(0x393)](_0x4c85f4),_0x4c85f4++;if(_0x234ad5=='|')continue;let _0x10f6e2;if(_0x234ad5=='v'||_0x234ad5=='-'||_0x234ad5=='V')_0x10f6e2=0x0;else{if(_0x234ad5=='\x20'||_0x234ad5=='^'||_0x234ad5=='+')_0x10f6e2=SENTE;else return console[_0x1bf075(0x353)](_0x1bf075(0x364)+_0x3b062d+'c='+_0x234ad5+'p='+_0x4c85f4),-0x1;}let _0x54a15b=get_koma(_0x3b062d[_0x1bf075(0x2f1)](_0x4c85f4));_0x54a15b>0x0&&(_0x4feb03[_0x1bf075(0x3c2)][_0x3ebe58*0xa+_0xbcc8aa]=_0x54a15b|_0x10f6e2),_0x4c85f4++;}return 0x1;}function moti_sub(_0x4b0948,_0x4e92b2,_0x146ce2){const _0x5dfb4c=_0x163623;if(_0x4e92b2[_0x5dfb4c(0x211)]('なし')==0x0)return 0x0;let _0x11c824=_0x146ce2?0x1:0x0,_0x365815=0x0;for(;;){if(_0x365815>=_0x4e92b2[_0x5dfb4c(0x2d1)])break;let _0x4ecd90=_0x4e92b2[_0x5dfb4c(0x393)](_0x365815);if(_0x4ecd90==','||_0x4ecd90=='\x20'){_0x365815++;continue;}if(_0x4ecd90=='\u3000'){_0x365815++;continue;}let _0x4c152c=get_koma(_0x4e92b2[_0x5dfb4c(0x2f1)](_0x365815));if((_0x4c152c&0xf)>=0x8)break;_0x365815++;if(_0x4c152c==0x0)continue;if(_0x365815>=_0x4e92b2[_0x5dfb4c(0x2d1)])break;let _0x2a68ab=0x0,_0x1cb17b=get_kan_num(_0x4e92b2[_0x5dfb4c(0x2f1)](_0x365815));if(_0x1cb17b==0x0){_0x1cb17b=get_zen_num(_0x4e92b2['substring'](_0x365815));if(_0x1cb17b==0x1)_0x2a68ab=0x1;if(_0x1cb17b<=0x0)_0x1cb17b=0x1;else _0x365815++;}else _0x365815++;if(_0x1cb17b==0xa||_0x2a68ab!=0x0){if(_0x365815>=_0x4e92b2[_0x5dfb4c(0x2d1)])break;let _0x3cf408=get_kan_num(_0x4e92b2['substring'](_0x365815));if(_0x3cf408==0x0){_0x3cf408=get_zen_num(_0x4e92b2[_0x5dfb4c(0x2f1)](_0x365815));if(_0x3cf408>=0x0)_0x1cb17b=0xa;else _0x3cf408=0x0;}_0x1cb17b+=_0x3cf408,_0x365815++;}_0x4b0948[_0x5dfb4c(0x2b4)][_0x11c824][_0x4c152c]=_0x1cb17b,_0x4b0948['motigoma'][_0x11c824][0x0]+=_0x1cb17b;}return 0x0;}function load_moti_sub(_0x55d7e1,_0x4ad291){const _0x497209=_0x163623;if(_0x4ad291[_0x497209(0x211)](_0x497209(0x35f))==0x0||_0x4ad291[_0x497209(0x211)](_0x497209(0x28c))==0x0)return moti_sub(_0x55d7e1,_0x4ad291['substring'](0x6),SENTE),0x1;if(_0x4ad291[_0x497209(0x211)](_0x497209(0x234))==0x0||_0x4ad291[_0x497209(0x211)](_0x497209(0x274))==0x0)return moti_sub(_0x55d7e1,_0x4ad291[_0x497209(0x2f1)](0x5),SENTE),0x1;if(_0x4ad291['indexOf'](_0x497209(0x1e4))==0x0)return moti_sub(_0x55d7e1,_0x4ad291[_0x497209(0x2f1)](0x3),SENTE),0x1;if(_0x4ad291[_0x497209(0x211)](_0x497209(0x33c))==0x0||_0x4ad291['indexOf'](_0x497209(0x3c6))==0x0)return moti_sub(_0x55d7e1,_0x4ad291[_0x497209(0x2f1)](0x6),0x0),gote_moti_flg=0x1,0x1;if(_0x4ad291[_0x497209(0x211)](_0x497209(0x3ba))==0x0||_0x4ad291[_0x497209(0x211)](_0x497209(0x384))==0x0)return moti_sub(_0x55d7e1,_0x4ad291[_0x497209(0x2f1)](0x5),0x0),gote_moti_flg=0x1,0x1;return 0x0;}function get_kan_num(_0x42da32){const _0x213e66=_0x163623,_0x41b2d9=['零','一','二','三','四','五','六','七','八','九','十'];for(var _0x10bfb4=0x1;_0x10bfb4<=0xa;_0x10bfb4++){if(_0x42da32[_0x213e66(0x211)](_0x41b2d9[_0x10bfb4])==0x0)return _0x10bfb4;}return 0x0;}const zen=['０','１','２','３','４','５','６','７','８','９'];function get_zen_num(_0x51840d){const _0x4419ad=_0x163623;for(var _0x6cca6d=0x0;_0x6cca6d<=0x9;_0x6cca6d++){if(_0x51840d[_0x4419ad(0x211)](zen[_0x6cca6d])==0x0)return _0x6cca6d;}return-0x1;}function get_koma(_0x2e5261){const _0xd7a1ad=_0x163623;if(_0x2e5261[_0xd7a1ad(0x211)]('王')==0x0)return GY;else{if(_0x2e5261['indexOf']('成香')==0x0)return NY;else{if(_0x2e5261['indexOf']('成桂')==0x0)return NE;else{if(_0x2e5261[_0xd7a1ad(0x211)]('成銀')==0x0)return NG;else{if(_0x2e5261[_0xd7a1ad(0x211)]('竜')==0x0)return RY;}}}}const _0x23a4b4=['\u3000','歩','香','桂','銀','金','角','飛','玉','と','杏','圭','全','金','馬','龍'];for(let _0x25dab8=0x1;_0x25dab8<=0xf;_0x25dab8++){if(_0x2e5261[_0xd7a1ad(0x211)](_0x23a4b4[_0x25dab8])==0x0)return _0x25dab8;}return 0x0;}function load_kifu_info(_0x504e4a,_0x35a301){const _0x34d60a=_0x163623;if(_0x35a301[_0x34d60a(0x211)]('手合割：')==0x0)return 0x0;else{if(_0x35a301[_0x34d60a(0x211)](_0x34d60a(0x38b))==0x0||_0x35a301[_0x34d60a(0x211)](_0x34d60a(0x2e2))==0x0||_0x35a301[_0x34d60a(0x211)]('手番：後手')==0x0||_0x35a301[_0x34d60a(0x211)](_0x34d60a(0x24c))==0x0)return 0x1;else{if(_0x35a301['indexOf']('先手番')==0x0||_0x35a301[_0x34d60a(0x211)](_0x34d60a(0x2ff))==0x0||_0x35a301[_0x34d60a(0x211)](_0x34d60a(0x23d))==0x0||_0x35a301[_0x34d60a(0x211)](_0x34d60a(0x32c))==0x0)return 0x1;}}if(_0x35a301[_0x34d60a(0x211)](_0x34d60a(0x2ef))==0x0||_0x35a301['indexOf'](_0x34d60a(0x2b0))==0x0)return _0x504e4a[_0x34d60a(0x1f9)]=_0x35a301[_0x34d60a(0x2f1)](0x3),0x1;if(_0x35a301[_0x34d60a(0x211)](_0x34d60a(0x3af))==0x0||_0x35a301[_0x34d60a(0x211)](_0x34d60a(0x1b9))==0x0)return _0x504e4a[_0x34d60a(0x300)]=_0x35a301[_0x34d60a(0x2f1)](0x3),0x1;if(_0x35a301[_0x34d60a(0x211)](_0x34d60a(0x24a))==0x0)return _0x504e4a[_0x34d60a(0x3c7)]=_0x35a301[_0x34d60a(0x2f1)](0x5),0x1;if(_0x35a301[_0x34d60a(0x211)](_0x34d60a(0x284))==0x0)return _0x504e4a[_0x34d60a(0x350)]=_0x35a301['substring'](0x5),0x1;if(_0x35a301['indexOf']('棋戦：')==0x0)return _0x504e4a[_0x34d60a(0x34a)]=_0x35a301[_0x34d60a(0x2f1)](0x3),0x1;if(_0x35a301[_0x34d60a(0x211)](_0x34d60a(0x381))==0x0)return _0x504e4a[_0x34d60a(0x20e)]=_0x35a301[_0x34d60a(0x2f1)](0x5),0x1;if(_0x35a301['indexOf'](_0x34d60a(0x251))==0x0)return _0x504e4a[_0x34d60a(0x235)]=_0x35a301[_0x34d60a(0x2f1)](0x3),0x1;if(_0x35a301['indexOf'](_0x34d60a(0x345))==0x0)return _0x504e4a[_0x34d60a(0x1fc)]=_0x35a301[_0x34d60a(0x2f1)](0x5),0x1;if(_0x35a301[_0x34d60a(0x211)](_0x34d60a(0x29e))==0x0)return _0x504e4a['seiseki']=_0x35a301[_0x34d60a(0x2f1)](0x6),0x1;if(_0x35a301[_0x34d60a(0x211)](_0x34d60a(0x21f))==0x0){let _0x27f7e1=parseInt(_0x35a301['substring'](0x5));console[_0x34d60a(0x1e6)](_0x34d60a(0x39b)+_0x27f7e1+'\x20'+_0x35a301);if(isNaN(_0x27f7e1))return console[_0x34d60a(0x353)](_0x34d60a(0x208)+_0x35a301),0x1;return _0x504e4a[_0x34d60a(0x1af)]=_0x27f7e1,0x1;}if(_0x35a301[_0x34d60a(0x211)](_0x34d60a(0x294))==0x0)return _0x504e4a[_0x34d60a(0x3b4)]=_0x35a301[_0x34d60a(0x2f1)](0x3),0x1;if(_0x35a301[_0x34d60a(0x211)](_0x34d60a(0x2f6))==0x0)return _0x504e4a[_0x34d60a(0x2de)]=_0x35a301[_0x34d60a(0x2f1)](0x4),0x1;if(_0x35a301['indexOf'](_0x34d60a(0x20a))==0x0)return _0x504e4a[_0x34d60a(0x2e3)]=_0x35a301[_0x34d60a(0x2f1)](0x3),0x1;if(_0x35a301['indexOf'](_0x34d60a(0x2ae))==0x0)return _0x504e4a[_0x34d60a(0x220)]=_0x35a301[_0x34d60a(0x2f1)](0x5),0x1;if(_0x35a301['indexOf']('持駒：')>=0x0)return 0x0;if(_0x35a301[_0x34d60a(0x211)](_0x34d60a(0x3ac))==0x0)return 0x0;if(_0x35a301[_0x34d60a(0x211)]('*')==0x0)return 0x0;if(_0x35a301[_0x34d60a(0x211)]('：')>=0x0)return 0x1;return 0x0;}function last_move_sub(_0x3185f1){const _0x2a3698=_0x163623;if(_0x3185f1[_0x2a3698(0x211)]('投了')==0x0)return TORYO;else{if(_0x3185f1[_0x2a3698(0x211)]('持将棋')==0x0)return JISHOGI;else{if(_0x3185f1[_0x2a3698(0x211)](_0x2a3698(0x25a))==0x0)return SENNITITE;else{if(_0x3185f1[_0x2a3698(0x211)](_0x2a3698(0x214))==0x0)return KIREMAKE;else{if(_0x3185f1['indexOf'](_0x2a3698(0x312))==0x0)return HANSOKU_KACHI;else{if(_0x3185f1[_0x2a3698(0x211)](_0x2a3698(0x3b1))==0x0)return HANSOKU_MAKE;else{if(_0x3185f1[_0x2a3698(0x211)]('入玉勝ち')==0x0)return KACHI;else{if(_0x3185f1['indexOf']('中断')==0x0)return CHUDAN;else{if(_0x3185f1[_0x2a3698(0x211)]('詰')==0x0)return TUMI;}}}}}}}}return-0x1;}function store_move(_0x90e24e,_0x416aeb){const _0x199eb6=_0x163623;let _0x32735b=_0x90e24e;for(;;){if(_0x32735b[_0x199eb6(0x211)]('\u3000')==0x0||_0x32735b['indexOf']('\x20')==0x0)_0x32735b=_0x32735b[_0x199eb6(0x2f1)](0x1);else break;}if(_0x32735b[_0x199eb6(0x2d1)]<=0x1)return 0x0;let _0x59cab5=new Kifup(),_0x23621d=last_move_sub(_0x32735b),_0x4fcedf;if(_0x23621d>=0x0)return _0x59cab5['t']=_0x23621d,_0x59cab5['f']=0x1,_0x59cab5['k']=0x0,_0x4fcedf=Kifu[_0x199eb6(0x2cc)](cbd,start,_0x59cab5,_0x416aeb),_0x4fcedf;let _0x3f36a7=_0x32735b,_0x3f2c33,_0x480ce8;if(_0x3f36a7[_0x199eb6(0x211)]('同')==0x0){let _0x20a1a2=Kifu[_0x199eb6(0x1ad)](Kifu['move_no']);if(_0x20a1a2==null)_0x480ce8=0x0;else _0x480ce8=_0x20a1a2['t']&0x7f;_0x3f2c33=0x1;}else{_0x3f2c33=0x0;let _0xa3e3be=get_zen_num(_0x3f36a7),_0x1fc7eb=get_kan_num(_0x3f36a7[_0x199eb6(0x2f1)](0x1));if(_0xa3e3be==0x0||_0x1fc7eb==0x0)return console['error'](_0x199eb6(0x389)+_0x3f36a7),console[_0x199eb6(0x353)](_0x199eb6(0x2ba)+_0x90e24e),-0x1;_0x480ce8=_0xa3e3be*0xa+_0x1fc7eb;}let _0x4d90c3=_0x3f36a7[_0x199eb6(0x2f1)](0x1),_0x1d603f='';if(_0x3f2c33!=0x0&&_0x4d90c3[_0x199eb6(0x211)]('\x20\x20')==0x0)_0x1d603f=_0x32735b[_0x199eb6(0x2f1)](0x3);else{if(_0x3f2c33!=0x0&&_0x4d90c3[_0x199eb6(0x211)]('\x20')==0x0)_0x1d603f=_0x32735b['substring'](0x2);else{if(_0x3f2c33!=0x0&&!_0x4d90c3[_0x199eb6(0x211)]('\u3000')==0x0)_0x1d603f=_0x32735b['substring'](0x1);else{let _0x5e5e20=_0x32735b[_0x199eb6(0x2f1)](0x2);if(_0x5e5e20[_0x199eb6(0x211)]('同')==0x0)_0x1d603f=_0x32735b[_0x199eb6(0x2f1)](0x3);else _0x1d603f=_0x32735b[_0x199eb6(0x2f1)](0x2);}}}let _0x154109=get_koma(_0x1d603f);if(_0x154109==0x0)return console['error'](_0x199eb6(0x388)+_0x90e24e),-0x1;let _0x73e18c,_0x16dd78=0x1,_0xe31057=_0x1d603f[_0x199eb6(0x2f1)](0x1);if(_0xe31057[_0x199eb6(0x211)]('打')==0x0)return _0x73e18c=_0x1d603f[_0x199eb6(0x2f1)](0x1),_0x59cab5['t']=_0x480ce8,_0x59cab5['f']=0x0,_0x59cab5['k']=_0x154109,_0x4fcedf=Kifu[_0x199eb6(0x2cc)](cbd,start,_0x59cab5,_0x416aeb),_0x4fcedf;else{if(_0xe31057[_0x199eb6(0x211)]('成')==0x0)_0x480ce8|=0x80,_0x73e18c=_0x1d603f[_0x199eb6(0x2f1)](0x3);else{if(_0x1d603f[_0x199eb6(0x211)]('成')==0x0)_0x73e18c=_0x1d603f['substring'](0x3);else{let _0x25bf18=_0x1d603f[_0x199eb6(0x2f1)](0x1);if(_0x25bf18[_0x199eb6(0x211)]('(')==0x0)_0x73e18c=_0x25bf18[_0x199eb6(0x2f1)](0x1);else _0x73e18c=_0x1d603f[_0x199eb6(0x2f1)](0x1);}}}let _0x19c568=parseInt(_0x73e18c[_0x199eb6(0x393)](0x0)),_0x4618c0=parseInt(_0x73e18c[_0x199eb6(0x393)](0x1));return _0x16dd78=_0x19c568*0xa+_0x4618c0,_0x59cab5['t']=_0x480ce8,_0x59cab5['f']=_0x16dd78,_0x59cab5['k']=_0x154109,_0x4fcedf=Kifu[_0x199eb6(0x2cc)](cbd,start,_0x59cab5,_0x416aeb),_0x4fcedf;}function load_move_sub(_0x3e63fe){const _0x39aacf=_0x163623;let _0x41af20=_0x3e63fe[_0x39aacf(0x2f1)](0x4),_0x2c410b=0x0,_0x5e9122=0x0,_0x5747cd=_0x41af20,_0xfb9a0f=_0x5747cd[_0x39aacf(0x211)]('(');if(_0xfb9a0f>0x0){_0x5747cd=_0x5747cd[_0x39aacf(0x2f1)](_0xfb9a0f+0x1),_0xfb9a0f=_0x5747cd['indexOf']('(');_0xfb9a0f>0x0&&(_0x5747cd=_0x5747cd['substring'](_0xfb9a0f+0x1));let _0x596121=_0x5747cd[_0x39aacf(0x211)](':');if(_0x596121>0x0){let _0x223be6=_0x5747cd[_0x39aacf(0x2f1)](0x0,_0x596121);_0x2c410b=parseInt(_0x223be6);let _0x4d3101=_0x5747cd[_0x39aacf(0x2f1)](_0x596121+0x1),_0x4557c9=_0x4d3101['indexOf']('/');_0x4557c9>0x0&&(_0x4d3101=_0x4d3101[_0x39aacf(0x2f1)](0x0,_0x4557c9),_0x5e9122=parseInt(_0x4d3101));}}let _0x181f03=_0x2c410b*0x3c+_0x5e9122,_0x376eca=store_move(_0x41af20,_0x181f03);if(_0x376eca<=0x0)return _0x376eca;if(_0x376eca<0xb)return 0x2;return 0x1;}function load_comment(_0x40ffee){const _0x4beb19=_0x163623;let _0x3ab21f=_0x40ffee[_0x4beb19(0x2f1)](0x1);return Kifu[_0x4beb19(0x302)](Kifu['move_no'],_0x3ab21f);}function kifu_line(_0x5973c4){if(_0x5973c4['indexOf']('1\x20')>=0x0)return 0x1;return 0x0;}function sort_board(_0x2f0c28,_0x1eb000,_0x43fc50){const _0x2c458b=_0x163623;_0x1eb000['setbd'](),_0x43fc50[_0x2c458b(0x328)](_0x1eb000);}function game_init(_0x42141a,_0x8e56c0,_0x20211e){const _0x50c7fa=_0x163623;_0x8e56c0['init_teai'](_0x8e56c0[_0x50c7fa(0x2bd)]),_0x20211e['init_teai'](_0x8e56c0[_0x50c7fa(0x2bd)]),_0x42141a[_0x50c7fa(0x242)](),_0x42141a[_0x50c7fa(0x1bf)]=0x0;}var last_kifu_s;function load_kifu_sub(_0x4771cc,_0x3bfbef,_0x337b62,_0x3d7d29,_0x532091){const _0x1af454=_0x163623;if(_0x4771cc==last_kifu_s)return console[_0x1af454(0x1e6)](_0x1af454(0x32e)),0x2;last_kifu_s=_0x4771cc;let _0x4cf464=_0x337b62[_0x1af454(0x27d)],_0xb21965=_0x337b62[_0x1af454(0x22d)](),_0x387c68=_0x4771cc[_0x1af454(0x335)]('\x0a');const _0x392ea7=![];_0x337b62['clear_kifu'](),_0x337b62['clear_info'](),cbd[_0x1af454(0x1f6)](),start[_0x1af454(0x1f6)]();!_0x392ea7&&(cbd[_0x1af454(0x2bd)]=0x0,cbd['teban']=SENTE,cbd['clr_bd_data'](),_0x337b62[_0x1af454(0x1bf)]=0x0,gote_moti_flg=0x0);_0x337b62[_0x1af454(0x396)]=0x0;let _0x5e46e3=0x1,_0x140f50=0x0;for(let _0x1f9370=0x0;_0x1f9370<_0x387c68[_0x1af454(0x2d1)];_0x1f9370++){let _0x217aec=_0x387c68[_0x1f9370];if(_0x217aec[_0x1af454(0x211)]('#')==0x0)continue;if(_0x217aec[_0x1af454(0x211)]('&')==0x0)continue;if(_0x217aec[_0x1af454(0x211)]('まで')==0x0)continue;if(load_kifu_info(_0x337b62,_0x217aec))continue;if(load_teai_sub(cbd,start,_0x217aec)!=0x0)continue;if(_0x217aec[_0x1af454(0x211)]('*')==0x0){load_comment(_0x217aec);continue;}if(_0x337b62['move_no']>0x0&&_0x217aec[_0x1af454(0x211)](_0x1af454(0x3ac))==0x0){_0x337b62[_0x1af454(0x396)]=0x1;let _0x2f1f3e=_0x217aec[_0x1af454(0x2f1)](0x3),_0x109f44=parseInt(_0x2f1f3e);console[_0x1af454(0x1e6)]('#\x20分岐'+_0x109f44),cbd[_0x1af454(0x1fa)](_0x337b62,_0x109f44-0x1);continue;}if(_0x140f50==0x0&&kifu_line(_0x217aec)!=0x0||_0x217aec[_0x1af454(0x211)](_0x1af454(0x212))==0x0){console[_0x1af454(0x1e6)](_0x1af454(0x293)+_0x217aec);_0x337b62[_0x1af454(0x1bf)]==0x0?game_init(_0x337b62,cbd,start):sort_board(_0x337b62,cbd,start);_0x140f50=0x1;if(_0x217aec[_0x1af454(0x211)](_0x1af454(0x212))==0x0)continue;}if(!_0x392ea7){if(_0x217aec[_0x1af454(0x211)](_0x1af454(0x1b0))>=0x0)continue;if(_0x217aec[_0x1af454(0x211)]('+--')>=0x0)continue;let _0x3549fb=load_bod_sub(cbd,_0x217aec,_0x5e46e3);if(_0x3549fb==0x1){_0x5e46e3++,_0x337b62[_0x1af454(0x1bf)]=0x1;continue;}else{if(_0x3549fb==-0x1){console[_0x1af454(0x353)](_0x1af454(0x285)+_0x217aec);break;}}if(load_moti_sub(cbd,_0x217aec)!=0x0)continue;}let _0x112c0e=load_move_sub(_0x217aec);if(_0x112c0e==-0x2||_0x112c0e==-0x1)break;_0x112c0e==0x2&&(last=0x1);}if(!_0x392ea7){}adjust_kifu_position(),set_button_positions(!![]),ReplayTop(),TopInfo(_0x337b62),RightImageName(_0x337b62),LeftImageName(_0x337b62),console[_0x1af454(0x1e6)](_0x1af454(0x3c8)+_0x532091);if(_0x532091==-0x1){let _0x4f6d92=location['href'];console[_0x1af454(0x1e6)](_0x1af454(0x334)+_0x4f6d92);let _0x553ee7=_0x4f6d92[_0x1af454(0x1ef)](_0x1af454(0x2c4));if(_0x553ee7>=0x0){let _0x1cc46f=_0x4f6d92[_0x1af454(0x2f1)](_0x553ee7+0x4);_0x553ee7=_0x1cc46f[_0x1af454(0x1ef)]('?');_0x553ee7>=0x0&&(_0x1cc46f=_0x1cc46f[_0x1af454(0x2f1)](0x0,_0x553ee7));let _0x316d33=parseInt(_0x1cc46f,0xa);console[_0x1af454(0x1e6)]('#\x20te='+_0x316d33),Jump_sub(_0x316d33),ViewUpdate();}else{if(typeof START_TESUU!==_0x1af454(0x21c))console[_0x1af454(0x1e6)](_0x1af454(0x2e8)+START_TESUU),typeof START_TESUU=='string'?START_TESUU['indexOf']('LAST')>=0x0&&ReplayLast(0x0,0x1):(Jump_sub(START_TESUU),ViewUpdate());else!_0x337b62[_0x1af454(0x203)]()&&ReplayLast(0x0,0x1);}_0x337b62[_0x1af454(0x203)]()&&StopAutoUpdate();}else{if(_0x532091==-0x2){ReplayLast(0x0,0x1);if(_0x337b62['move_no']>_0x4cf464){_0x337b62[_0x1af454(0x203)]()?(game_end_sound(),console[_0x1af454(0x39a)]('===\x20終局\x20===')):Komaoto();window[_0x1af454(0x3ab)](),console['info'](_0x1af454(0x244)),window['focus']();let _0x28b102=kifu_select[_0x1af454(0x2d5)][_0x1af454(0x261)];console[_0x1af454(0x39a)]('###\x20old_border='+_0x28b102),kifu_select['style'][_0x1af454(0x261)]=_0x1af454(0x24f);var _0x4b7e7e=function(){const _0x400c4a=_0x1af454;console[_0x400c4a(0x1e6)]('to_old_border'),kifu_select[_0x400c4a(0x2d5)][_0x400c4a(0x261)]='';};setTimeout(_0x4b7e7e,0x7530);}}else Jump_sub(_0x532091),ViewUpdate(),_0x337b62[_0x1af454(0x22d)]()>_0xb21965&&(_0x337b62[_0x1af454(0x203)]()?game_end_sound():Komaoto());}return set_kifu_list(),ButtonUpdate(),0x0;}function get_kif_url(){const _0x1eea5b=_0x163623;if(KIF_FILE_NAME[_0x1eea5b(0x211)]('/')==0x0||KIF_FILE_NAME['indexOf'](_0x1eea5b(0x22b))==0x0){let _0x3ca16e=KIF_FILE_NAME;return console[_0x1eea5b(0x1e6)](_0x1eea5b(0x27c)+_0x3ca16e),_0x3ca16e;}else{let _0x1cd159=location[_0x1eea5b(0x23b)],_0x3da17f=_0x1cd159['lastIndexOf']('/');_0x3da17f>=0x0&&(_0x1cd159=_0x1cd159['substring'](0x0,_0x3da17f+0x1));let _0x3e65c1=_0x1cd159+KIF_FILE_NAME;return console[_0x1eea5b(0x1e6)](_0x1eea5b(0x31f)+_0x3e65c1),_0x3e65c1;}}var loading;function load_kifu(_0x471aff,_0x499a3a,_0xa5f00a,_0x3f8ced){const _0x45fca5=_0x163623;console[_0x45fca5(0x1e6)](_0x45fca5(0x369));if(window[_0x45fca5(0x1d2)]&&window[_0x45fca5(0x1b2)]&&window[_0x45fca5(0x253)]&&window[_0x45fca5(0x2e9)]){}else{alert('The\x20File\x20APIs\x20are\x20not\x20fully\x20supported\x20in\x20this\x20browser.');return;}loading=!![];let _0x3fe79a=new Date(),_0xa056b4=_0x3fe79a['getTime'](),_0x32629b=get_kif_url(),_0x3b6492=get_kif_url()+'?'+_0xa056b4,_0x41d869=![],_0x5ddf32=_0x32629b['substr'](_0x32629b[_0x45fca5(0x2d1)]-0x5);_0x5ddf32=_0x5ddf32[_0x45fca5(0x224)]();if(_0x5ddf32==_0x45fca5(0x38e))_0x41d869=!![];var _0x2deda3=new XMLHttpRequest();_0x2deda3['open']('GET',_0x3b6492,!![]);if(_0x41d869)_0x2deda3['overrideMimeType'](_0x45fca5(0x268));else _0x2deda3[_0x45fca5(0x1ed)](_0x45fca5(0x238));_0x2deda3[_0x45fca5(0x36f)]=function(_0x5c1180){const _0x13c32b=_0x45fca5;console[_0x13c32b(0x353)](_0x13c32b(0x2a0)+_0x2deda3[_0x13c32b(0x2f0)]);},_0x2deda3[_0x45fca5(0x1f8)]=function(_0x33600a){const _0x3b7bf5=_0x45fca5;console[_0x3b7bf5(0x1e6)](_0x3b7bf5(0x24b));if(_0x2deda3[_0x3b7bf5(0x374)]===0x4){if(_0x2deda3[_0x3b7bf5(0x373)]===0xc8){let _0x1bc25e=_0x32629b['substr'](_0x32629b['length']-0x4);_0x1bc25e=_0x1bc25e[_0x3b7bf5(0x224)](),_0x1bc25e==_0x3b7bf5(0x1b1)?csa_load(_0x2deda3['responseText'],_0x32629b,_0x499a3a,_0xa5f00a,_0x3f8ced):load_kifu_sub(_0x2deda3[_0x3b7bf5(0x39d)],_0x32629b,_0x499a3a,_0xa5f00a,_0x3f8ced);}else _0x2deda3[_0x3b7bf5(0x373)]===0x194?(console[_0x3b7bf5(0x353)](''+_0x2deda3[_0x3b7bf5(0x373)]+':'+_0x2deda3[_0x3b7bf5(0x2f0)]),ViewUpdate(),!FREE&&TopInfo(_0x499a3a)):console[_0x3b7bf5(0x353)](''+_0x2deda3['status']+':'+_0x2deda3[_0x3b7bf5(0x2f0)]);}},_0x2deda3['onreadystatechange']=function(){const _0x2fa8d6=_0x45fca5;console[_0x2fa8d6(0x1e6)](_0x2fa8d6(0x3a1)+_0x2deda3[_0x2fa8d6(0x374)]);if(_0x2deda3['readyState']===0x4){if(_0x2deda3[_0x2fa8d6(0x373)]===0xc8||_0x2deda3['status']==0x0){}}},_0x2deda3[_0x45fca5(0x2bc)]=function(){const _0x2ecaf5=_0x45fca5;console[_0x2ecaf5(0x1e6)](_0x2ecaf5(0x2aa)+_0x2deda3[_0x2ecaf5(0x374)]),loading=![];},_0x2deda3[_0x45fca5(0x2f2)]();}const version=_0x163623(0x252),MODE_SILENT=0x4;var komaoto_flg=!![],comment_str_size=0xb;const ua=navigator[_0x163623(0x2ea)];console[_0x163623(0x39a)](_0x163623(0x304)+ua);const is_iOS=ua[_0x163623(0x211)](_0x163623(0x2fd))>=0x0||ua[_0x163623(0x211)](_0x163623(0x26a))>=0x0||ua[_0x163623(0x211)]('iPod')>=0x0,isIPad=/iPad|Macintosh/i['test'](navigator[_0x163623(0x2ea)])&&_0x163623(0x23f)in document,isIOS=is_iOS||isIPad,isFirefox=ua[_0x163623(0x211)](_0x163623(0x1d1))>=0x0;console['info'](_0x163623(0x298)+isFirefox),console[_0x163623(0x1e6)](_0x163623(0x3bd));let cookies=document['cookie'],cookiesArray=cookies[_0x163623(0x335)](';');for(let c of cookiesArray){let cArray=c[_0x163623(0x335)]('=');if(cArray[0x0][_0x163623(0x339)]('\x20')==_0x163623(0x3ca)){if(cArray[0x1]==_0x163623(0x38c))komaoto_flg=![];console[_0x163623(0x1e6)](_0x163623(0x34f)+komaoto_flg);}else{if(cArray[0x0]['trim']('\x20')==_0x163623(0x377)){if(cArray[0x1]==_0x163623(0x332))muji_flg=!![];console[_0x163623(0x1e6)]('muji_flg='+muji_flg);}else{if(cArray[0x0][_0x163623(0x339)]('\x20')==_0x163623(0x213)){let parsed=parseInt(cArray[0x1],0xa);isNaN(parsed)&&(parsed=0xb),comment_str_size=parsed,console[_0x163623(0x1e6)](_0x163623(0x23c)+comment_str_size);}}}}var small_header_flg=!![];typeof SMALL_HEADER!==_0x163623(0x21c)&&(small_header_flg=SMALL_HEADER);console[_0x163623(0x1e6)](_0x163623(0x2dd)+document['body'][_0x163623(0x267)]),console['log'](_0x163623(0x1d0)+document[_0x163623(0x228)][_0x163623(0x267)]),console[_0x163623(0x1e6)](_0x163623(0x357)+document[_0x163623(0x2ec)][_0x163623(0x267)]);small_header_flg?TOP_INFO_H=0x19:TOP_INFO_H=0x46;if(FREE)TOP_INFO_H=0x0;BD_ORG_Y=TOP_INFO_H+0x28,KOMADAI_LEFT_Y=BD_ORG_Y-EDGE_Y,KOMADAI_RIGHT_Y=BD_ORG_Y+0x5*SQ_SIZE_Y,COMMENT_TOP=BD_ORG_Y+0x9*SQ_SIZE_Y+EDGE_Y+0x4;let kj_left_flg=![];typeof KJ_LEFT!==_0x163623(0x21c)&&(kj_left_flg=KJ_LEFT);var kj_div=document[_0x163623(0x295)](_0x163623(0x33a));if(!kj_left_flg)kj_div['style'][_0x163623(0x3c5)]='center';var html_kj_div=document[_0x163623(0x316)](_0x163623(0x3ae));html_kj_div!=null?(console[_0x163623(0x1e6)](_0x163623(0x347)),html_kj_div['appendChild'](kj_div)):(console['log'](_0x163623(0x236)),document['body'][_0x163623(0x1bc)](kj_div));var body=document['body'];body[_0x163623(0x2d5)]['minWidth']=_0x163623(0x3a2),body['style'][_0x163623(0x31d)]='0';var canvas=document[_0x163623(0x295)](_0x163623(0x20b));canvas[_0x163623(0x1ca)]=0x266*RATE,canvas[_0x163623(0x233)]=0x28a*RATE;small_header_flg&&(canvas['height']=0x262*RATE);FREE&&(canvas[_0x163623(0x1ca)]=0x244*RATE,canvas[_0x163623(0x233)]=0x1ea*RATE);canvas[_0x163623(0x2d5)][_0x163623(0x1ca)]=String(canvas[_0x163623(0x1ca)]/devicePixelRatio)+'px',canvas['style'][_0x163623(0x233)]=String(canvas[_0x163623(0x233)]/devicePixelRatio)+'px',console[_0x163623(0x1e6)]('myCanvas.style.width='+canvas[_0x163623(0x2d5)][_0x163623(0x1ca)]),canvas[_0x163623(0x2d5)][_0x163623(0x317)]=_0x163623(0x340),kj_div[_0x163623(0x1bc)](canvas);let canvas_rect=canvas[_0x163623(0x3c0)](),canvas_top=canvas_rect[_0x163623(0x259)],canvas_x=canvas_rect['left'];console[_0x163623(0x1e6)](_0x163623(0x25c)+canvas_top),console[_0x163623(0x1e6)]('#\x20canvas_x='+canvas_x+_0x163623(0x2e6)+canvas[_0x163623(0x395)]);var top_label1=null,top_label2,top_label3,BUTTON_WIDTH=0x28;if(FREE)BUTTON_WIDTH=0x24;function set_buttons(_0x605e45){const _0x220e6a=_0x163623;_0x605e45[_0x220e6a(0x299)]=_0x220e6a(0x3c1),_0x605e45[_0x220e6a(0x2d5)][_0x220e6a(0x380)]=_0x220e6a(0x2c0);let _0x351c47=String(canvas_top+TOP_INFO_H+0x4)+'px';_0x605e45[_0x220e6a(0x2d5)][_0x220e6a(0x259)]=_0x351c47,_0x605e45[_0x220e6a(0x2d5)]['height']=_0x220e6a(0x240);_0x605e45!=button_flip&&_0x605e45!=button_env&&(_0x605e45['style'][_0x220e6a(0x1ca)]=String(BUTTON_WIDTH)+'px');_0x605e45['style'][_0x220e6a(0x379)]='1px';if(!FREE&&(_0x605e45==button_backB||_0x605e45==button_nextB))return;document['body']['appendChild'](_0x605e45);}var button_top=document['createElement'](_0x163623(0x3c1));button_top[_0x163623(0x327)]('id',_0x163623(0x394)),button_top[_0x163623(0x2d4)]('click',OnButtonTopClick);var top_img=document['createElement']('img');top_img[_0x163623(0x2f5)]=KJ_DIR+'Top.gif',button_top[_0x163623(0x1bc)](top_img),button_top[_0x163623(0x2d5)][_0x163623(0x2a3)]=String(canvas_x+0xa)+'px';var button_backr=document['createElement'](_0x163623(0x3c1));button_backr[_0x163623(0x327)]('id',_0x163623(0x1f1)),button_backr['addEventListener'](_0x163623(0x216),OnButtonBackRClick);var backr_img=document['createElement'](_0x163623(0x22f));backr_img[_0x163623(0x2f5)]=KJ_DIR+_0x163623(0x2d0),button_backr[_0x163623(0x1bc)](backr_img),button_backr['style']['left']=String(canvas_x+0x3c)+'px';var button_back=document[_0x163623(0x295)](_0x163623(0x3c1));button_back['setAttribute']('id',_0x163623(0x326)),button_back['addEventListener'](_0x163623(0x216),OnButtonBackClick);var back_img=document[_0x163623(0x295)]('img');back_img[_0x163623(0x2f5)]=KJ_DIR+_0x163623(0x2b3),button_back['appendChild'](back_img),button_back[_0x163623(0x2d5)][_0x163623(0x2a3)]=String(canvas_x+0x6e)+'px';var button_stop=document[_0x163623(0x295)](_0x163623(0x3c1));button_stop[_0x163623(0x327)]('id',_0x163623(0x3be)),button_stop['addEventListener'](_0x163623(0x216),OnButtonStopClick);var stop_img=document['createElement']('img');stop_img[_0x163623(0x2f5)]=KJ_DIR+_0x163623(0x25f),button_stop[_0x163623(0x1bc)](stop_img),button_stop[_0x163623(0x2d5)][_0x163623(0x2a3)]=String(canvas_x+0xa0)+'px';var button_next=document['createElement'](_0x163623(0x3c1));button_next['setAttribute']('id',_0x163623(0x1e8)),button_next['addEventListener'](_0x163623(0x216),OnButtonNextClick);var next_img=document[_0x163623(0x295)](_0x163623(0x22f));next_img[_0x163623(0x2f5)]=KJ_DIR+'Next.gif',button_next[_0x163623(0x1bc)](next_img),button_next['style'][_0x163623(0x2a3)]=String(canvas_x+0xd2)+'px';var button_nextr=document[_0x163623(0x295)](_0x163623(0x3c1));button_nextr[_0x163623(0x327)]('id','button_nextr'),button_nextr[_0x163623(0x2d4)](_0x163623(0x216),OnButtonNextRClick);let nextr_img=document[_0x163623(0x295)]('img');nextr_img[_0x163623(0x2f5)]=KJ_DIR+'NextR.gif',button_nextr['appendChild'](nextr_img),button_nextr['style'][_0x163623(0x2a3)]=String(canvas_x+0x104)+'px';var button_last=document[_0x163623(0x295)]('button');button_last[_0x163623(0x327)]('id',_0x163623(0x306)),button_last[_0x163623(0x2d4)](_0x163623(0x216),OnButtonLastClick);let last_img=document[_0x163623(0x295)](_0x163623(0x22f));last_img[_0x163623(0x2f5)]=KJ_DIR+_0x163623(0x35e),button_last['appendChild'](last_img),button_last[_0x163623(0x2d5)]['left']=String(canvas_x+0x136)+'px';var button_backB=document['createElement'](_0x163623(0x3c1));if(FREE){button_backB[_0x163623(0x2d4)](_0x163623(0x216),ReplayBackBranch);let backb_img=document[_0x163623(0x295)](_0x163623(0x22f));backb_img[_0x163623(0x2f5)]=KJ_DIR+'BackB.gif',button_backB[_0x163623(0x1bc)](backb_img);}var button_nextB=document[_0x163623(0x295)]('button');if(FREE){button_nextB['addEventListener'](_0x163623(0x216),ReplayNextBranch);let nextb_img=document[_0x163623(0x295)](_0x163623(0x22f));nextb_img[_0x163623(0x2f5)]=KJ_DIR+_0x163623(0x2af),button_nextB[_0x163623(0x1bc)](nextb_img);}var button_flip=document['createElement']('button');button_flip[_0x163623(0x327)]('id',_0x163623(0x1d5)),button_flip['addEventListener'](_0x163623(0x216),Flip),button_flip[_0x163623(0x2d5)][_0x163623(0x2a3)]=String(canvas_x+0x186)+'px',button_flip[_0x163623(0x2df)]='反転',button_flip[_0x163623(0x2d5)]['fontSize']=_0x163623(0x283);FREE?button_flip['style']['width']=String(0x2a)+'px':button_flip['style'][_0x163623(0x1ca)]=String(BUTTON_WIDTH+0x6)+'px';function Flip(){bdinv_flg=0x1-bdinv_flg,draw_board();}var button_help=document[_0x163623(0x295)](_0x163623(0x3c1));button_help[_0x163623(0x327)]('id','button_help'),button_help[_0x163623(0x2d4)]('click',Help),button_help['style'][_0x163623(0x2a3)]=String(canvas_x+0x1bd)+'px',button_help[_0x163623(0x2df)]='Help',button_help[_0x163623(0x2d5)][_0x163623(0x1f4)]=_0x163623(0x283),button_help['style'][_0x163623(0x1ca)]=String(BUTTON_WIDTH)+'px';function Help(){const _0x3020c3=_0x163623;let _0x1215fb=KJ_DIR+_0x3020c3(0x30a);FREE&&(_0x1215fb=KJ_DIR+_0x3020c3(0x2c6)),console['log'](_0x3020c3(0x1ba)+_0x1215fb),window[_0x3020c3(0x27e)](_0x1215fb,'_blank');}var button_env=document[_0x163623(0x295)](_0x163623(0x3c1));button_env[_0x163623(0x327)]('id','button_env'),button_env[_0x163623(0x2df)]='設定',button_env['style'][_0x163623(0x1f4)]=_0x163623(0x283),button_env[_0x163623(0x2d5)][_0x163623(0x1ca)]=_0x163623(0x2b8),set_buttons(button_top),set_buttons(button_backr),set_buttons(button_back),set_buttons(button_stop),set_buttons(button_next),set_buttons(button_nextr),set_buttons(button_last);FREE&&(set_buttons(button_backB),set_buttons(button_nextB));set_buttons(button_flip),set_buttons(button_help),set_buttons(button_env);function set_button_positions(_0x1cff32){const _0x14d493=_0x163623;if(_0x1cff32){if(isIPad){console[_0x14d493(0x39a)]('iPadからのアクセス');return;}if(isIOS){console[_0x14d493(0x39a)]('###\x20iOS');return;}}let _0x8f1b35=canvas[_0x14d493(0x3c0)](),_0x5d5b7d=_0x8f1b35[_0x14d493(0x2a3)],_0x4000cc=_0x8f1b35[_0x14d493(0x259)],_0x26eef3=document['body'][_0x14d493(0x267)],_0x49562c=document['documentElement']['scrollTop'];if(_0x49562c>_0x26eef3)_0x4000cc+=_0x49562c;else _0x4000cc+=_0x26eef3;console['log'](_0x14d493(0x290)+_0x4000cc);const _0xce071c=0x5;let _0x363986=0xa;FREE&&(_0x363986=0x8);button_top[_0x14d493(0x2d5)][_0x14d493(0x2a3)]=String(_0x5d5b7d+_0xce071c)+'px',button_backr[_0x14d493(0x2d5)][_0x14d493(0x2a3)]=String(_0x5d5b7d+_0xce071c+BUTTON_WIDTH+_0x363986)+'px',button_back[_0x14d493(0x2d5)][_0x14d493(0x2a3)]=String(_0x5d5b7d+_0xce071c+(BUTTON_WIDTH+_0x363986)*0x2)+'px',button_stop[_0x14d493(0x2d5)][_0x14d493(0x2a3)]=String(_0x5d5b7d+_0xce071c+(BUTTON_WIDTH+_0x363986)*0x3)+'px',button_next[_0x14d493(0x2d5)][_0x14d493(0x2a3)]=String(_0x5d5b7d+_0xce071c+(BUTTON_WIDTH+_0x363986)*0x4)+'px',button_nextr[_0x14d493(0x2d5)][_0x14d493(0x2a3)]=String(_0x5d5b7d+_0xce071c+(BUTTON_WIDTH+_0x363986)*0x5)+'px',button_last[_0x14d493(0x2d5)][_0x14d493(0x2a3)]=String(_0x5d5b7d+_0xce071c+(BUTTON_WIDTH+_0x363986)*0x6)+'px';FREE?(button_backB[_0x14d493(0x2d5)][_0x14d493(0x2a3)]=String(_0x5d5b7d+_0xce071c+(BUTTON_WIDTH+_0x363986)*0x7)+'px',button_nextB[_0x14d493(0x2d5)]['left']=String(_0x5d5b7d+_0xce071c+(BUTTON_WIDTH+_0x363986)*0x8)+'px',button_flip[_0x14d493(0x2d5)][_0x14d493(0x2a3)]=String(_0x5d5b7d+_0xce071c+(BUTTON_WIDTH+_0x363986)*0x9)+'px',button_help[_0x14d493(0x2d5)][_0x14d493(0x2a3)]=String(_0x5d5b7d+_0xce071c+(BUTTON_WIDTH+_0x363986)*0xa+0x2)+'px'):(button_flip['style'][_0x14d493(0x2a3)]=String(_0x5d5b7d+_0xce071c+0x17c)+'px',button_help['style'][_0x14d493(0x2a3)]=String(_0x5d5b7d+_0xce071c+0x1b3)+'px');let _0x218b13=String(_0x4000cc+TOP_INFO_H+0x4)+'px';button_top[_0x14d493(0x2d5)]['top']=_0x218b13,button_backr[_0x14d493(0x2d5)]['top']=_0x218b13,button_back['style']['top']=_0x218b13,button_stop[_0x14d493(0x2d5)][_0x14d493(0x259)]=_0x218b13,button_next['style'][_0x14d493(0x259)]=_0x218b13,button_nextr['style'][_0x14d493(0x259)]=_0x218b13,button_last['style'][_0x14d493(0x259)]=_0x218b13;FREE&&(button_backB[_0x14d493(0x2d5)][_0x14d493(0x259)]=_0x218b13,button_nextB[_0x14d493(0x2d5)]['top']=_0x218b13);button_flip['style'][_0x14d493(0x259)]=_0x218b13,button_help['style'][_0x14d493(0x259)]=_0x218b13,button_env[_0x14d493(0x2d5)]['top']=_0x218b13,button_env[_0x14d493(0x2d5)][_0x14d493(0x233)]='22px';let _0x2ace04=String(_0x4000cc+COMMENT_TOP)+'px';comment_textarea[_0x14d493(0x2d5)][_0x14d493(0x259)]=_0x2ace04;HTML_COMMENT&&(comment_div[_0x14d493(0x2d5)][_0x14d493(0x259)]=_0x2ace04);COMM_LEFT=_0x5d5b7d+0xaf;if(FREE){COMM_LEFT=_0x5d5b7d+0x2;const _0x57b07f=0x2,_0x209f99=BD_ORG_X+0x9*SQ_SIZE_X+EDGE_X+RIGHT_GAP+_0x57b07f;let _0x10cbec=_0x5d5b7d+_0x209f99+MOTI_SIZE_X+0x1-_0x57b07f;comment_textarea[_0x14d493(0x2d5)][_0x14d493(0x1ca)]=String(_0x10cbec-COMM_LEFT)+'px',HTML_COMMENT&&(comment_div[_0x14d493(0x2d5)][_0x14d493(0x1ca)]=String(_0x10cbec-COMM_LEFT)+'px');}comment_textarea[_0x14d493(0x2d5)][_0x14d493(0x2a3)]=String(COMM_LEFT)+'px';HTML_COMMENT&&(comment_div[_0x14d493(0x2d5)][_0x14d493(0x2a3)]=String(COMM_LEFT)+'px');if(FREE){let _0xe3ad93=KOMADAI_RIGHT_X+MOTI_SIZE_X;button_env[_0x14d493(0x2d5)][_0x14d493(0x2a3)]=String(_0x5d5b7d+_0xe3ad93-0x2c)+'px';}else{let _0x2fe2fb=COMM_LEFT+COM_WIDTH;button_env[_0x14d493(0x2d5)][_0x14d493(0x2a3)]=String(_0x2fe2fb-0x2c)+'px';}let _0xaa0a81=_0x5d5b7d+0x2;kifu_select[_0x14d493(0x2d5)][_0x14d493(0x2a3)]=String(_0xaa0a81)+'px';FREE?kifu_select['style'][_0x14d493(0x259)]=String(_0x4000cc+0xb9)+'px':kifu_select[_0x14d493(0x2d5)][_0x14d493(0x259)]=String(_0x4000cc+TOP_INFO_H+0x174)+'px';FREE&&(branch_select[_0x14d493(0x2d5)][_0x14d493(0x2a3)]=String(_0xaa0a81)+'px');button_save[_0x14d493(0x2d5)][_0x14d493(0x2a3)]=String(_0xaa0a81)+'px';FREE?adjust_kifu_position():typeof UPDATE_TIME!==_0x14d493(0x21c)?button_save[_0x14d493(0x2d5)][_0x14d493(0x259)]=String(_0x4000cc+TOP_INFO_H+0x20c)+'px':button_save[_0x14d493(0x2d5)]['top']=String(_0x4000cc+TOP_INFO_H+0x20c+0x18)+'px';update_select[_0x14d493(0x2d5)]['left']=String(_0xaa0a81)+'px';if(FREE)update_select['style'][_0x14d493(0x259)]=String(_0x4000cc+0xbd+0x82+0x2+0x18+0x4)+'px';else update_select[_0x14d493(0x2d5)][_0x14d493(0x259)]=String(_0x4000cc+TOP_INFO_H+0x228)+'px';if(!FREE){let _0x1ef822=0x2,_0x4fc8a0=_0x5d5b7d+0x4;!small_header_flg&&(typeof top_label1!==_0x14d493(0x21c)&&top_label1!=null&&(top_label1[_0x14d493(0x2d5)][_0x14d493(0x2a3)]=String(_0x4fc8a0)+'px',top_label1[_0x14d493(0x2d5)]['top']=String(_0x4000cc+_0x1ef822)+'px'),typeof top_label2!=='undefined'&&top_label2!=null&&(top_label2[_0x14d493(0x2d5)][_0x14d493(0x2a3)]=String(_0x4fc8a0)+'px',top_label2[_0x14d493(0x2d5)][_0x14d493(0x259)]=String(_0x4000cc+_0x1ef822+0x14)+'px'));let _0x50c99e;if(small_header_flg)_0x50c99e=_0x1ef822+0x10;else _0x50c99e=_0x1ef822+0x3c;typeof top_label3!=='undefined'?(top_label3[_0x14d493(0x2d5)][_0x14d493(0x259)]=String(_0x4000cc+_0x50c99e-0x10)+'px',top_label3[_0x14d493(0x2d5)][_0x14d493(0x2a3)]=String(_0x4fc8a0)+'px',top_label3[_0x14d493(0x2d5)]['textAlign']=_0x14d493(0x1df)):console['log'](_0x14d493(0x34b));}typeof env_div!==_0x14d493(0x21c)&&env_div!=null?(env_div[_0x14d493(0x2d5)]['top']=String(_0x4000cc+0x78)+'px',FREE?env_div['style'][_0x14d493(0x2a3)]=String(_0x5d5b7d+0x96)+'px':env_div[_0x14d493(0x2d5)][_0x14d493(0x2a3)]=String(_0x5d5b7d+0xaa)+'px'):console[_0x14d493(0x1e6)](_0x14d493(0x368));}function ___COMMENT________(){}var comment_textarea=document[_0x163623(0x295)]('textarea');comment_textarea[_0x163623(0x327)]('id',_0x163623(0x260)),comment_textarea[_0x163623(0x2d5)][_0x163623(0x380)]=_0x163623(0x2c0);let comment_top_str=String(canvas_top+COMMENT_TOP)+'px';comment_textarea['style']['top']=comment_top_str,console[_0x163623(0x1e6)](_0x163623(0x36c)+comment_hight),comment_textarea[_0x163623(0x2d5)][_0x163623(0x233)]=String(comment_hight)+'px';const COM_WIDTH=0x1b2;comment_textarea[_0x163623(0x2d5)]['width']=String(COM_WIDTH)+'px',console['log'](_0x163623(0x221)+COM_WIDTH);var COMM_LEFT=canvas_x+0xaf;if(FREE){COMM_LEFT=canvas_x+0x2;const GAP=0x2,OX=BD_ORG_X+0x9*SQ_SIZE_X+EDGE_X+RIGHT_GAP+GAP;let right=canvas_x+OX+MOTI_SIZE_X+0x1-GAP;comment_textarea[_0x163623(0x2d5)][_0x163623(0x1ca)]=String(right-COMM_LEFT)+'px';}else{}console['log']('#\x20COMM_LEFT='+COMM_LEFT),comment_textarea[_0x163623(0x2d5)][_0x163623(0x2a3)]=String(COMM_LEFT)+'px';!HTML_COMMENT&&document[_0x163623(0x228)][_0x163623(0x1bc)](comment_textarea);comment_textarea[_0x163623(0x2d5)][_0x163623(0x1f4)]=_0x163623(0x322),comment_textarea[_0x163623(0x2d5)][_0x163623(0x2f8)]='140%',comment_textarea[_0x163623(0x382)]=!![],comment_textarea[_0x163623(0x2d5)][_0x163623(0x231)]=_0x163623(0x344);var comment_div=document[_0x163623(0x295)](_0x163623(0x33a));comment_div['style'][_0x163623(0x380)]=_0x163623(0x2c0),comment_div[_0x163623(0x2d5)][_0x163623(0x259)]=String(canvas_top+COMMENT_TOP+0x0)+'px',comment_div['style'][_0x163623(0x233)]=String(comment_hight)+'px';if(FREE){COMM_LEFT=canvas_x+0x2;const GAP=0x2,OX=BD_ORG_X+0x9*SQ_SIZE_X+EDGE_X+RIGHT_GAP+GAP;let right=canvas_x+OX+MOTI_SIZE_X+0x1-GAP;comment_div['style'][_0x163623(0x1ca)]=String(right-COMM_LEFT)+'px';}else comment_div[_0x163623(0x2d5)][_0x163623(0x1ca)]=String(COM_WIDTH)+'px';comment_div[_0x163623(0x2d5)][_0x163623(0x2a3)]=String(COMM_LEFT)+'px',comment_div[_0x163623(0x2d5)][_0x163623(0x317)]='#fefefe',comment_div['style']['border']=_0x163623(0x310),comment_div[_0x163623(0x2d5)]['overflowY']=_0x163623(0x354),comment_div['style'][_0x163623(0x21a)]=_0x163623(0x2fc);let cssText=comment_div[_0x163623(0x2d5)][_0x163623(0x1c7)];comment_div[_0x163623(0x2d5)]['cssText']=cssText+'text-align:\x20left\x20!important;',console['log'](_0x163623(0x32a)+cssText),console[_0x163623(0x1e6)]('###\x20comment_div.style.cssText='+comment_div[_0x163623(0x2d5)][_0x163623(0x1c7)]);HTML_COMMENT&&document['body'][_0x163623(0x1bc)](comment_div);var comment_div_p=document[_0x163623(0x295)]('p');comment_div_p['setAttribute']('id',_0x163623(0x245)),comment_div_p[_0x163623(0x2d5)][_0x163623(0x380)]=_0x163623(0x2c0),comment_div_p[_0x163623(0x2d5)][_0x163623(0x259)]=String(0x0)+'px',comment_div_p[_0x163623(0x2d5)][_0x163623(0x1f4)]=String(comment_str_size)+'pt',comment_div_p['style'][_0x163623(0x2f8)]=_0x163623(0x3b5),comment_div_p[_0x163623(0x2d5)]['margin']=_0x163623(0x33b);HTML_COMMENT&&comment_div[_0x163623(0x1bc)](comment_div_p);function KIFU_SELECT_____________(){}let kifu_sel_width=_0x163623(0x307);if(FREE)kifu_sel_width=_0x163623(0x337);var kifu_select=document[_0x163623(0x295)]('select');kifu_select[_0x163623(0x327)]('id','kifu_list'),kifu_select[_0x163623(0x2d5)]['position']=_0x163623(0x2c0);FREE?kifu_select[_0x163623(0x2d5)][_0x163623(0x259)]=String(canvas_top+0xbb)+'px':kifu_select[_0x163623(0x2d5)][_0x163623(0x259)]=String(canvas_top+TOP_INFO_H+0x174)+'px';let kifu_select_x=canvas_x+0x2;kifu_select[_0x163623(0x2d5)][_0x163623(0x2a3)]=String(kifu_select_x)+'px',kifu_select[_0x163623(0x2d5)][_0x163623(0x1ca)]=kifu_sel_width;typeof UPDATE_TIME!==_0x163623(0x21c)?kifu_select[_0x163623(0x3aa)]=0x7:kifu_select[_0x163623(0x3aa)]=0x8;document['body'][_0x163623(0x1bc)](kifu_select),kifu_select[_0x163623(0x2d4)](_0x163623(0x2f9),OnKifuSelectChange);isFirefox?kifu_select['style']['fontSize']=_0x163623(0x1e3):kifu_select[_0x163623(0x2d5)][_0x163623(0x1f4)]='12px';kifu_select[_0x163623(0x2d5)]['padding']=_0x163623(0x255),console[_0x163623(0x1e6)]('##\x20kifu_select\x20offsetHeight='+kifu_select[_0x163623(0x282)]);let ks_h=kifu_select[_0x163623(0x3c0)]()[_0x163623(0x233)];console[_0x163623(0x1e6)](_0x163623(0x305)+ks_h);var branch_select=document[_0x163623(0x295)](_0x163623(0x390));branch_select[_0x163623(0x2d5)][_0x163623(0x380)]=_0x163623(0x2c0);if(FREE){if(typeof UPDATE_TIME!=='undefined')branch_select[_0x163623(0x2d5)][_0x163623(0x259)]=String(canvas_top+0xbd+0x82+0x2-0x11)+'px';else branch_select['style']['top']=String(canvas_top+0xbd+0x96+0x2-0x11)+'px';}else branch_select['style']['top']=String(canvas_top+TOP_INFO_H+0x228)+'px';branch_select[_0x163623(0x2d5)][_0x163623(0x2a3)]=String(kifu_select_x)+'px',branch_select['style'][_0x163623(0x1ca)]=kifu_sel_width,branch_select[_0x163623(0x2d5)][_0x163623(0x1f4)]=_0x163623(0x1e3);FREE&&(document['body'][_0x163623(0x1bc)](branch_select),branch_select['addEventListener'](_0x163623(0x2f9),OnBranchChange));function KIFU_SAVE________(){}var button_save=document[_0x163623(0x295)](_0x163623(0x3c1));button_save[_0x163623(0x2d4)](_0x163623(0x216),OnButtonSaveClick),button_save[_0x163623(0x2d5)][_0x163623(0x380)]=_0x163623(0x2c0),button_save[_0x163623(0x2d5)][_0x163623(0x2a3)]=String(kifu_select_x)+'px',button_save[_0x163623(0x2d5)]['width']=kifu_sel_width;if(FREE){if(typeof UPDATE_TIME!=='undefined')button_save[_0x163623(0x2d5)][_0x163623(0x259)]=String(canvas_top+0xbd+0x82+0x2)+'px';else button_save[_0x163623(0x2d5)][_0x163623(0x259)]=String(canvas_top+0xbd+0x96+0x2)+'px';}else{if(typeof UPDATE_TIME!==_0x163623(0x21c))button_save[_0x163623(0x2d5)][_0x163623(0x259)]=String(canvas_top+TOP_INFO_H+0x20c)+'px';else{}}button_save[_0x163623(0x2d5)][_0x163623(0x233)]=_0x163623(0x35b),button_save['textContent']=_0x163623(0x320),document[_0x163623(0x228)][_0x163623(0x1bc)](button_save);function OnButtonSaveClick(){const _0x365ac1=_0x163623;console['log'](_0x365ac1(0x38d));let _0x836f98=get_kif_url();window['open'](_0x836f98,_0x365ac1(0x1ab));}var update_select=document[_0x163623(0x295)](_0x163623(0x390));update_select['setAttribute']('id','update_select'),update_select[_0x163623(0x2d5)][_0x163623(0x380)]='absolute';if(FREE)update_select[_0x163623(0x2d5)][_0x163623(0x259)]=String(canvas_top+0xbd+0x82+0x2+0x18+0x4)+'px';else update_select['style'][_0x163623(0x259)]=String(canvas_top+TOP_INFO_H+0x228)+'px';update_select[_0x163623(0x2d5)][_0x163623(0x2a3)]=String(kifu_select_x)+'px',update_select[_0x163623(0x2d5)][_0x163623(0x1ca)]=kifu_sel_width;let op=document['createElement']('option');op[_0x163623(0x3a0)]=0x0,op[_0x163623(0x223)]=_0x163623(0x2a2),update_select['appendChild'](op);let op1=document[_0x163623(0x295)](_0x163623(0x376));op1[_0x163623(0x3a0)]=0x1,op1['text']='自動更新：30秒毎',update_select['appendChild'](op1);let op2=document[_0x163623(0x295)]('option');op2[_0x163623(0x3a0)]=0x2,op2[_0x163623(0x223)]=_0x163623(0x1de),update_select[_0x163623(0x1bc)](op2);let op3=document['createElement'](_0x163623(0x376));op3[_0x163623(0x3a0)]=0x3,op3[_0x163623(0x223)]=_0x163623(0x2e1),update_select[_0x163623(0x1bc)](op3);typeof UPDATE_TIME!==_0x163623(0x21c)&&(document[_0x163623(0x228)][_0x163623(0x1bc)](update_select),update_select[_0x163623(0x2d4)](_0x163623(0x2f9),OnUpdateChange));function adjust_kifu_position(){const _0x1a9b53=_0x163623;console[_0x1a9b53(0x1e6)]('##\x20---\x20adjust_kifu_position');FREE&&(Kifu[_0x1a9b53(0x396)]==0x0?(button_backB[_0x1a9b53(0x2d5)]['display']=_0x1a9b53(0x344),button_nextB[_0x1a9b53(0x2d5)]['display']=_0x1a9b53(0x344),branch_select['style'][_0x1a9b53(0x1b8)]='none'):(button_backB[_0x1a9b53(0x2d5)][_0x1a9b53(0x1b8)]=_0x1a9b53(0x204),button_nextB[_0x1a9b53(0x2d5)]['display']='block',branch_select[_0x1a9b53(0x2d5)][_0x1a9b53(0x1b8)]=_0x1a9b53(0x204)));FREE?typeof UPDATE_TIME!=='undefined'?Kifu[_0x1a9b53(0x396)]==0x1?kifu_select[_0x1a9b53(0x3aa)]=0x6:kifu_select[_0x1a9b53(0x3aa)]=0x7:Kifu[_0x1a9b53(0x396)]==0x1?kifu_select[_0x1a9b53(0x3aa)]=0x7:kifu_select[_0x1a9b53(0x3aa)]=0x8:typeof UPDATE_TIME!==_0x1a9b53(0x21c)?kifu_select[_0x1a9b53(0x3aa)]=0x7:kifu_select['size']=0x8;console[_0x1a9b53(0x1e6)](_0x1a9b53(0x1e2)+kifu_select[_0x1a9b53(0x1cf)]);let _0x4949be=canvas[_0x1a9b53(0x3c0)](),_0x26b93c=_0x4949be[_0x1a9b53(0x2a3)],_0x5e28a8=_0x4949be[_0x1a9b53(0x259)],_0x230d4d=document[_0x1a9b53(0x228)][_0x1a9b53(0x267)],_0x4e6b7a=document[_0x1a9b53(0x2ec)][_0x1a9b53(0x267)];console[_0x1a9b53(0x1e6)](_0x1a9b53(0x30b)+_0x4e6b7a);if(_0x4e6b7a>_0x230d4d)_0x5e28a8+=_0x4e6b7a;else _0x5e28a8+=_0x230d4d;let _0xe706ae=_0x26b93c+0x2;!isIPad&&!isIOS&&(kifu_select['style'][_0x1a9b53(0x2a3)]=String(_0xe706ae)+'px');if(FREE){if(typeof UPDATE_TIME!==_0x1a9b53(0x21c)){branch_select['style']['top']=String(_0x5e28a8+0xbb+0x84+0x2-0x11)+'px';if(Kifu[_0x1a9b53(0x396)]==0x1){}else{}}else{branch_select[_0x1a9b53(0x2d5)][_0x1a9b53(0x259)]=String(_0x5e28a8+0xbd+0x96+0x2-0x11)+'px';if(Kifu['bunki_flg']==0x1){}else{}}branch_select[_0x1a9b53(0x2d5)][_0x1a9b53(0x2a3)]=String(_0xe706ae)+'px';}else branch_select[_0x1a9b53(0x2d5)][_0x1a9b53(0x259)]=String(_0x5e28a8+TOP_INFO_H+0x228)+'px';if(FREE)Kifu['bunki_flg']==0x1?typeof UPDATE_TIME!==_0x1a9b53(0x21c)?(button_save[_0x1a9b53(0x2d5)][_0x1a9b53(0x233)]=_0x1a9b53(0x289),button_save[_0x1a9b53(0x2d5)][_0x1a9b53(0x259)]=String(_0x5e28a8+0xbd+0x82+0x5)+'px'):button_save[_0x1a9b53(0x2d5)][_0x1a9b53(0x259)]=String(_0x5e28a8+0xbd+0x96+0x5)+'px':typeof UPDATE_TIME!==_0x1a9b53(0x21c)?button_save[_0x1a9b53(0x2d5)][_0x1a9b53(0x259)]=String(_0x5e28a8+0xbd+0x82+0x5)+'px':button_save[_0x1a9b53(0x2d5)]['top']=String(_0x5e28a8+0xbd+0x96+0x5)+'px';else{if(typeof UPDATE_TIME!=='undefined'){}else{}}if(isIPad||isIOS)return;button_save[_0x1a9b53(0x2d5)]['left']=String(_0xe706ae)+'px',update_select[_0x1a9b53(0x2d5)]['left']=String(_0xe706ae)+'px';}set_button_positions(![]);function ___ENV_________(){}var env_div=document[_0x163623(0x295)]('div');env_div['style'][_0x163623(0x3c5)]=_0x163623(0x1df),env_div['className']=_0x163623(0x2ed),env_div[_0x163623(0x2d5)][_0x163623(0x1ca)]=_0x163623(0x1e7),env_div[_0x163623(0x2d5)][_0x163623(0x380)]=_0x163623(0x2c0);{let canvas_rect=canvas[_0x163623(0x3c0)](),canvas_x=canvas_rect[_0x163623(0x2a3)],canvas_top=canvas_rect['top'],scroll_top=document['body'][_0x163623(0x267)],scroll_top2=document[_0x163623(0x2ec)]['scrollTop'];if(scroll_top2>scroll_top)canvas_top+=scroll_top2;else canvas_top+=scroll_top;env_div[_0x163623(0x2d5)]['top']=String(canvas_top+0x78)+'px';}FREE?env_div[_0x163623(0x2d5)][_0x163623(0x2a3)]=String(canvas_x+0x96)+'px':env_div['style'][_0x163623(0x2a3)]=String(canvas_x+0xaa)+'px';env_div[_0x163623(0x2d5)][_0x163623(0x233)]=_0x163623(0x278),env_div[_0x163623(0x2d5)][_0x163623(0x317)]=_0x163623(0x346),env_div[_0x163623(0x2d5)][_0x163623(0x261)]=_0x163623(0x310),document[_0x163623(0x228)][_0x163623(0x1bc)](env_div);let modal_content=document[_0x163623(0x295)](_0x163623(0x33a));modal_content[_0x163623(0x279)]=_0x163623(0x2a1),modal_content[_0x163623(0x2d5)][_0x163623(0x379)]=_0x163623(0x240),env_div['style'][_0x163623(0x1b8)]=_0x163623(0x344),env_div[_0x163623(0x1bc)](modal_content);let modal_p=document[_0x163623(0x295)]('p'),ver=version[_0x163623(0x2f1)](0x1);FREE?modal_p[_0x163623(0x375)]=_0x163623(0x39e)+_0x163623(0x1c9)+ver:modal_p[_0x163623(0x2df)]=_0x163623(0x1e9)+ver;modal_p['style']['position']=_0x163623(0x2c0),modal_p[_0x163623(0x2d5)]['top']=String(0x5a)+'px',modal_p[_0x163623(0x2d5)][_0x163623(0x1f4)]=_0x163623(0x283),modal_content[_0x163623(0x1bc)](modal_p);let modal_p2=document[_0x163623(0x295)]('p');modal_p2[_0x163623(0x2df)]=_0x163623(0x359),modal_p2[_0x163623(0x2d5)][_0x163623(0x380)]='absolute',modal_p2[_0x163623(0x2d5)][_0x163623(0x259)]=String(0x6e)+'px',modal_p2[_0x163623(0x2d5)][_0x163623(0x1f4)]=_0x163623(0x283),modal_content[_0x163623(0x1bc)](modal_p2);let komaoto_check2=document['createElement'](_0x163623(0x3ad));komaoto_check2[_0x163623(0x327)](_0x163623(0x299),_0x163623(0x21d)),komaoto_check2['style'][_0x163623(0x380)]=_0x163623(0x2c0);let check_top2=0xa;komaoto_check2[_0x163623(0x2d5)][_0x163623(0x259)]=String(check_top2)+'px',komaoto_check2[_0x163623(0x2d5)][_0x163623(0x2a3)]=String(0x14)+'px';if(komaoto_flg==![])komaoto_check2[_0x163623(0x26e)]=![];else komaoto_check2[_0x163623(0x26e)]=!![];komaoto_check2['addEventListener']('change',komaotoOnChange2),modal_content[_0x163623(0x1bc)](komaoto_check2);function komaotoOnChange2(){const _0x5847a0=_0x163623;komaoto_flg=komaoto_check2[_0x5847a0(0x26e)],console['log'](_0x5847a0(0x35a)+komaoto_flg),document[_0x5847a0(0x23e)]=_0x5847a0(0x329)+komaoto_flg+_0x5847a0(0x29a),komaoto_flg&&Komaoto();}let label_size_str=_0x163623(0x1e3);var komaoto_label2=document[_0x163623(0x295)](_0x163623(0x33e));komaoto_label2[_0x163623(0x1bc)](document[_0x163623(0x2b7)]('駒音')),komaoto_label2[_0x163623(0x2d5)]['position']=_0x163623(0x2c0),komaoto_label2[_0x163623(0x2d5)][_0x163623(0x259)]=String(check_top2)+'px',komaoto_label2['style'][_0x163623(0x2a3)]=String(0x14+0x16)+'px',komaoto_label2[_0x163623(0x2d5)][_0x163623(0x1f4)]=label_size_str,modal_content['appendChild'](komaoto_label2);let mokume_check=document['createElement'](_0x163623(0x3ad));mokume_check[_0x163623(0x327)](_0x163623(0x299),_0x163623(0x21d)),mokume_check[_0x163623(0x2d5)][_0x163623(0x380)]=_0x163623(0x2c0);let mokume_top=check_top2+0x16;mokume_check['style'][_0x163623(0x259)]=String(mokume_top)+'px',mokume_check[_0x163623(0x2d5)][_0x163623(0x2a3)]=String(0x14)+'px';if(muji_flg)mokume_check[_0x163623(0x26e)]=![];else mokume_check[_0x163623(0x26e)]=!![];mokume_check[_0x163623(0x2d4)]('change',mokumeoOnChange),modal_content[_0x163623(0x1bc)](mokume_check);function mokumeoOnChange(){const _0x74ef0a=_0x163623;muji_flg=!mokume_check['checked'],console[_0x74ef0a(0x1e6)](_0x74ef0a(0x27b)+muji_flg),document[_0x74ef0a(0x23e)]=_0x74ef0a(0x36a)+muji_flg+';secure;\x20samesite=None;',draw_board();}let mokume_label=document[_0x163623(0x295)]('label');mokume_label[_0x163623(0x1bc)](document['createTextNode']('木目')),mokume_label[_0x163623(0x2d5)][_0x163623(0x380)]=_0x163623(0x2c0),mokume_label[_0x163623(0x2d5)][_0x163623(0x259)]=String(mokume_top)+'px',mokume_label[_0x163623(0x2d5)][_0x163623(0x2a3)]=String(0x14+0x16)+'px',mokume_label['style'][_0x163623(0x1f4)]=label_size_str,modal_content[_0x163623(0x1bc)](mokume_label);let comm_label=document[_0x163623(0x295)](_0x163623(0x33e));comm_label[_0x163623(0x1bc)](document[_0x163623(0x2b7)]('コメント文字の大きさ')),comm_label['style'][_0x163623(0x380)]='absolute',comm_label[_0x163623(0x2d5)][_0x163623(0x259)]=String(mokume_top+0x1e)+'px',comm_label[_0x163623(0x2d5)][_0x163623(0x2a3)]=String(0x14)+'px',comm_label[_0x163623(0x2d5)]['fontSize']=label_size_str,modal_content[_0x163623(0x1bc)](comm_label);var com_size_select=document['createElement'](_0x163623(0x390));com_size_select[_0x163623(0x2d5)][_0x163623(0x380)]='absolute',com_size_select[_0x163623(0x2d5)][_0x163623(0x259)]=String(mokume_top+0x1e)+'px',com_size_select[_0x163623(0x2d5)][_0x163623(0x2a3)]=String(0xb4)+'px',com_size_select[_0x163623(0x2d5)][_0x163623(0x1ca)]=_0x163623(0x24e);for(let pt=0x9;pt<0xf;pt++){let op=document['createElement'](_0x163623(0x376));op['value']=pt,op[_0x163623(0x223)]=String(pt)+_0x163623(0x386),com_size_select['appendChild'](op);}com_size_select[_0x163623(0x206)]=comment_str_size-0x9,modal_content[_0x163623(0x1bc)](com_size_select),com_size_select[_0x163623(0x2d4)]('change',OnComSizeChange);function OnComSizeChange(){const _0x47ed07=_0x163623;let _0x11d848=com_size_select[_0x47ed07(0x206)],_0x1a28b2=0x9+_0x11d848;console[_0x47ed07(0x1e6)](_0x47ed07(0x1bb)+_0x11d848+_0x47ed07(0x262)+_0x1a28b2),comment_div_p['style'][_0x47ed07(0x1f4)]=String(_0x1a28b2)+'pt',document['cookie']='comment_str_size='+_0x1a28b2+_0x47ed07(0x29a);}var button_close=document['createElement']('button');button_close[_0x163623(0x2d4)](_0x163623(0x216),OnButtonClose),button_close[_0x163623(0x2d5)][_0x163623(0x380)]=_0x163623(0x2c0),button_close[_0x163623(0x2d5)]['left']=String(0xc8)+'px',button_close[_0x163623(0x2d5)][_0x163623(0x1ca)]=_0x163623(0x229),button_close[_0x163623(0x2d5)][_0x163623(0x259)]=String(0x14)+'px',button_close['style'][_0x163623(0x233)]='24px',button_close['textContent']=_0x163623(0x342),modal_content[_0x163623(0x1bc)](button_close);function OnButtonClose(){const _0x12a7ec=_0x163623;env_div[_0x12a7ec(0x2d5)]['display']=_0x12a7ec(0x344);}console[_0x163623(0x39a)](_0x163623(0x1bd)),button_env[_0x163623(0x37e)]=function(){const _0x2dcc3a=_0x163623;console[_0x2dcc3a(0x39a)]('###\x20button_env.onclick'),env_div[_0x2dcc3a(0x2d5)]['display']==_0x2dcc3a(0x204)?env_div[_0x2dcc3a(0x2d5)][_0x2dcc3a(0x1b8)]=_0x2dcc3a(0x344):env_div[_0x2dcc3a(0x2d5)]['display']=_0x2dcc3a(0x204);};function ___SOUND______(){}var komaoto;function Komaoto(){const _0x5343dd=_0x163623;console[_0x5343dd(0x1e6)](_0x5343dd(0x258));if(!komaoto_flg)return;if(komaoto==null)komaoto=new Audio(KJ_DIR+_0x5343dd(0x2c9));try{komaoto['play']();}catch(_0x1e7579){console[_0x5343dd(0x1e6)](_0x1e7579);}}function game_end_sound(){const _0x46f6a2=_0x163623;if(!komaoto_flg)return;if(FREE){Komaoto();return;}new Audio(KJ_DIR+_0x46f6a2(0x1db))[_0x46f6a2(0x1c0)]();}function ___TIMER______(){}var go_rep_flg=0x0,replay_stop_flg=0x0;let replay_timer_count=0x0;var replay_timer=function(){const _0x539fd3=_0x163623;if(go_rep_flg==0x1){if(replay_stop_flg||Kifu['can_susumeru']()==0x0){ReplayStop();return;}let _0x371f6e=Kifu['get_next_move']();ExecMove(Kifu,cbd,0x0,_0x371f6e);}if(go_rep_flg==-0x1){if(replay_stop_flg||Kifu[_0x539fd3(0x27d)]<=0x0){ReplayStop();return;}BackMove(Kifu,cbd,0x0,0x1);}replay_timer_count++,replay_timer_count==0x1&&(FREE&&set_button_positions(!![]));};setInterval(replay_timer,0x320);let updatew_timer_count=0x0;var update_timer=function(){const _0x3dc9e3=_0x163623;console[_0x3dc9e3(0x1e6)]('##\x20update_timer\x20'+updatew_timer_count);if(loading){console[_0x3dc9e3(0x1e6)](_0x3dc9e3(0x1ac));return;}let _0x10d2f8=Kifu[_0x3dc9e3(0x27d)];!Kifu['can_susumeru']()&&(_0x10d2f8=-0x2);load_kifu('',Kifu,0x1,_0x10d2f8),updatew_timer_count++;if(!FREE){if(typeof IMAGE_UPDATE!=='undefined'&&IMAGE_UPDATE){LoadImages(Kifu);return;}updatew_timer_count>=0x14&&(LoadImages(Kifu),updatew_timer_count=0x0);}},update_timer_id;if(typeof UPDATE_TIME!==_0x163623(0x21c)){update_select[_0x163623(0x206)]=UPDATE_TIME;if(UPDATE_TIME==0x0)clearInterval(update_timer_id);else{if(UPDATE_TIME==0x1)update_timer_id=setInterval(update_timer,0x7530);else{if(UPDATE_TIME==0x2)update_timer_id=setInterval(update_timer,0xea60);else UPDATE_TIME==0x3?update_timer_id=setInterval(update_timer,0xea60*0x3):console[_0x163623(0x353)](_0x163623(0x2c5)+UPDATE_TIME);}}}document['addEventListener'](_0x163623(0x38f),_0x198fe9=>{const _0x4d8d3e=_0x163623;if(_0x198fe9[_0x4d8d3e(0x37b)][_0x4d8d3e(0x374)]===_0x4d8d3e(0x31b)){}_0x198fe9[_0x4d8d3e(0x37b)][_0x4d8d3e(0x374)]==='complete'&&console[_0x4d8d3e(0x1e6)](_0x4d8d3e(0x1c6));}),window[_0x163623(0x2d4)](_0x163623(0x231),function(){const _0x278152=_0x163623;console['log'](_0x278152(0x25d)),set_button_positions(!![]);},![]);function onDown(_0x46cb1f){}function onUp(_0x57692c){const _0x1f66d9=_0x163623;console[_0x1f66d9(0x1e6)](_0x1f66d9(0x311));}function onClick(_0x24e5e5){const _0x3ade4f=_0x163623;let _0x16f4f4=document[_0x3ade4f(0x228)][_0x3ade4f(0x267)],_0x39c307=document['documentElement'][_0x3ade4f(0x267)];console[_0x3ade4f(0x1e6)](_0x3ade4f(0x363)+_0x39c307+_0x3ade4f(0x308)+_0x16f4f4);_0x39c307>_0x16f4f4&&(_0x16f4f4=_0x39c307);let _0x42e560=_0x24e5e5['clientX']-canvas[_0x3ade4f(0x395)],_0x276811=_0x24e5e5['clientY']-canvas[_0x3ade4f(0x315)]+_0x16f4f4;console[_0x3ade4f(0x1e6)]('onClick\x20x:',_0x42e560,'y:',_0x276811),_0x276811>=BD_ORG_Y-EDGE_Y&&_0x276811<=BD_ORG_Y+SQ_SIZE_Y*0x9+EDGE_Y&&(console[_0x3ade4f(0x1e6)]('Y\x20盤内'),_0x42e560>=BD_ORG_X-EDGE_X&&_0x42e560<=BD_ORG_X+SQ_SIZE_X*0x3&&ReplayBack(),_0x42e560>=BD_ORG_X+SQ_SIZE_X*0x6&&_0x42e560<=BD_ORG_X+SQ_SIZE_X*0x9+EDGE_X&&ReplayNext());}function touchUp(_0x5bd680){const _0x25f020=_0x163623;console['log'](_0x25f020(0x383));let _0x86d594=_0x5bd680[_0x25f020(0x387)][0x0][_0x25f020(0x218)]-canvas[_0x25f020(0x395)],_0x3745a0=_0x5bd680[_0x25f020(0x387)][0x0][_0x25f020(0x3b8)]-canvas[_0x25f020(0x315)];console[_0x25f020(0x1e6)](_0x25f020(0x1d6),_0x86d594,_0x25f020(0x207),_0x3745a0);}function touchDown(_0x5c27c6){const _0x3c4401=_0x163623;console[_0x3c4401(0x1e6)](_0x3c4401(0x250));let _0x599c59=_0x5c27c6['targetTouches'][0x0][_0x3c4401(0x218)]-canvas['offsetLeft'],_0x3f89c7=_0x5c27c6[_0x3c4401(0x387)][0x0][_0x3c4401(0x3b8)]-canvas['offsetTop'];_0x3f89c7>=BD_ORG_Y-EDGE_Y&&_0x3f89c7<=BD_ORG_Y+SQ_SIZE_Y*0x9+EDGE_Y&&(console[_0x3c4401(0x1e6)](_0x3c4401(0x2ab)),_0x599c59>=BD_ORG_X-EDGE_X&&_0x599c59<=BD_ORG_X+SQ_SIZE_X*0x3&&ReplayBack(),_0x599c59>=BD_ORG_X+SQ_SIZE_X*0x6&&_0x599c59<=BD_ORG_X+SQ_SIZE_X*0x9+EDGE_X&&ReplayNext());}function kifu_select_add_option(_0x129922,_0x2cd23b,_0x9ace0d){const _0x3a5124=_0x163623;var _0x133dd5=document['createElement'](_0x3a5124(0x376));_0x133dd5[_0x3a5124(0x223)]=_0x129922,_0x133dd5['value']=_0x2cd23b,_0x133dd5['title']=_0x129922,FREE?_0x133dd5[_0x3a5124(0x2d5)][_0x3a5124(0x379)]=_0x3a5124(0x255):_0x133dd5[_0x3a5124(0x2d5)][_0x3a5124(0x379)]=_0x3a5124(0x1cd),kifu_select[_0x3a5124(0x367)](_0x133dd5);}function set_kifu_list(){const _0x5a1bdf=_0x163623;let _0x5e5efc=Kifu[_0x5a1bdf(0x2c3)](),_0x166f93=kifu_select[_0x5a1bdf(0x2fe)];for(let _0x2789a4=_0x166f93['length']-0x1;_0x2789a4>=0x0;_0x2789a4--){kifu_select[_0x5a1bdf(0x2a4)](_0x166f93[_0x2789a4]);}let _0x12be46=Kifu[_0x5a1bdf(0x22d)]();console['log']('#\x20---\x20set_kifu_list\x20size='+_0x12be46);if(Kifu[_0x5a1bdf(0x222)](0x0)==null){if(_0x5e5efc==0x0)kifu_select_add_option(_0x5a1bdf(0x362),'0',_0x5a1bdf(0x362));else kifu_select_add_option('開始局面\x20消費時間（１手/累積）','0',_0x5a1bdf(0x1ee));}else{if(_0x5e5efc==0x0)kifu_select_add_option(_0x5a1bdf(0x2cd),'0',_0x5a1bdf(0x2cd));else kifu_select_add_option('＊開始局面\x20消費時間（１手/累積）','0',_0x5a1bdf(0x1c1));}for(let _0x1e7856=0x1;_0x1e7856<=_0x12be46;_0x1e7856++){let _0x4181eb=Kifu[_0x5a1bdf(0x1ad)](_0x1e7856);typeof _0x4181eb['k']===_0x5a1bdf(0x21c)&&console['error'](_0x5a1bdf(0x37d)+_0x1e7856+'\x20k='+_0x4181eb['k']+_0x5a1bdf(0x2da)+_0x4181eb['f']);if(_0x4181eb==null)break;let _0x205c03;if(_0x4181eb['comment']==null)_0x205c03='\u3000';else{if(_0x4181eb[_0x5a1bdf(0x1dc)][_0x5a1bdf(0x211)]('※')>=0x0)_0x205c03='＃';else _0x205c03='＊';}let _0x4585b7,_0x173983=0x0;if(_0x4181eb['t']>=0xb){let _0x5e0994=Kifu[_0x5a1bdf(0x301)](0x0,0x3,_0x4181eb,0x4);_0x173983=_0x5e0994[_0x5a1bdf(0x2d1)],_0x4585b7=_0x205c03+_0x1e7856+'\x20'+_0x5e0994;}else{let _0xe9a2cb='';if(english_flg==0x0){if(cbd[_0x5a1bdf(0x2bd)]==HIRATE){if((_0x1e7856&0x1)==0x0)_0xe9a2cb='後';else _0xe9a2cb='先';}else{if((_0x1e7856&0x1)==0x0)_0xe9a2cb='上';else _0xe9a2cb='下';}}if(_0x4181eb['t']==CHUDAN)_0x4585b7='';else _0x4585b7='まで';if(_0x4181eb['t']==TORYO){if(cbd[_0x5a1bdf(0x2bd)]==HIRATE){if((_0x1e7856&0x1)==0x0)_0x4585b7+='先';else _0x4585b7+='後';}else{if((_0x1e7856&0x1)==0x0)_0x4585b7+='上';else _0x4585b7+='下';}_0x4585b7+=_0x5a1bdf(0x336);}else{if(_0x4181eb['t']==SENNITITE){if(english_flg)_0x4585b7+=_0x5a1bdf(0x1c2);else _0x4585b7+=_0x5a1bdf(0x25a);}else{if(_0x4181eb['t']==JISHOGI){if(english_flg)_0x4585b7+=_0x5a1bdf(0x241);else _0x4585b7+=_0x5a1bdf(0x1d9);}else{if(_0x4181eb['t']==KIREMAKE){if(english_flg)_0x4585b7+=_0x5a1bdf(0x1e1);else _0x4585b7+=_0xe9a2cb+'手時間切れ負け';}else{if(_0x4181eb['t']==HANSOKU_MAKE){if(english_flg)_0x4585b7+=_0xe9a2cb+_0x5a1bdf(0x3bc);else _0x4585b7+=_0xe9a2cb+_0x5a1bdf(0x2ca);}else{if(_0x4181eb['t']==HANSOKU_KACHI){if(english_flg)_0x4585b7+='Illegal\x20Lose';else{if(cbd[_0x5a1bdf(0x2bd)]==HIRATE){if((_0x1e7856&0x1)==0x0)_0x4585b7+='先';else _0x4585b7+='後';}else{if((_0x1e7856&0x1)==0x0)_0x4585b7+='上';else _0x4585b7+='下';}_0x4585b7+='手反則負け';}}else{if(_0x4181eb['t']==KACHI){if(english_flg)_0x4585b7+=_0x5a1bdf(0x36b);else _0x4585b7+=_0x5a1bdf(0x275);}else{if(_0x4181eb['t']==TUMI){if(english_flg)_0x4585b7+='Mate';else _0x4585b7+='詰み';}}}}}}}}}if(_0x5e5efc>0x0){let _0x36e7d1=parseInt(_0x4181eb[_0x5a1bdf(0x361)]/0x3c);if(_0x36e7d1>0x0){if(_0x173983==0x4)_0x4585b7+='\u3000\u3000'+_0x36e7d1;else _0x4585b7+='\u3000'+_0x36e7d1;_0x4585b7+=_0x5a1bdf(0x2c7);let _0x295c1d=parseInt(Kifu['get_total_time_kp'](_0x4181eb)/0x3c);_0x4585b7+=_0x295c1d;}}kifu_select_add_option(_0x4585b7,_0x1e7856,_0x4585b7);}select_kifu_list();}function select_kifu_list(){const _0x117ab0=_0x163623;let _0x4fbfd7=kifu_select['clientHeight'],_0x8d64c7=kifu_select['size'],_0x497ccc=0x12;_0x8d64c7!=0x0&&(_0x497ccc=_0x4fbfd7/_0x8d64c7);kifu_select[_0x117ab0(0x206)]=Kifu[_0x117ab0(0x27d)];if(Kifu[_0x117ab0(0x2b5)]()==0x0)kifu_select['scrollTop']=Kifu[_0x117ab0(0x27d)]*_0x497ccc;else{if(Kifu[_0x117ab0(0x27d)]<=0x3)kifu_select[_0x117ab0(0x267)]=0x0;else kifu_select[_0x117ab0(0x267)]=(Kifu['move_no']-0x3)*_0x497ccc;}}function set_bunki_combo(){const _0x364fb0=_0x163623;console[_0x364fb0(0x1e6)]('---\x20set_bunki_combo');let _0xe95da=branch_select[_0x364fb0(0x2fe)];for(let _0x3331ad=_0xe95da[_0x364fb0(0x2d1)]-0x1;_0x3331ad>=0x0;_0x3331ad--){branch_select[_0x364fb0(0x2a4)](_0xe95da[_0x3331ad]);}if(Kifu['current_bunki']()==0x0){let _0x3dce6=new Option(_0x364fb0(0x1eb),0x0);branch_select[_0x364fb0(0x367)](_0x3dce6);return;}let _0x29d30e=Kifu[_0x364fb0(0x264)][_0x364fb0(0x232)];if(_0x29d30e==null)return;let _0x1d8064='1\x20'+Kifu[_0x364fb0(0x301)](0x0,0x3,_0x29d30e,0x5),_0x6393c2=new Option(_0x1d8064,0x0);branch_select[_0x364fb0(0x367)](_0x6393c2),_0x29d30e=_0x29d30e[_0x364fb0(0x27f)];for(let _0x2d4655=0x1;_0x29d30e!=null;_0x2d4655++){_0x1d8064=_0x2d4655+0x1+'\x20'+Kifu[_0x364fb0(0x301)](0x0,0x3,_0x29d30e,0x5);let _0xe0d19e=new Option(_0x1d8064,_0x2d4655);branch_select[_0x364fb0(0x367)](_0xe0d19e),_0x29d30e=_0x29d30e['branch'];}}function comment_link(_0x192b74){const _0x99ac8d=_0x163623;let _0xca327f=_0x192b74[_0x99ac8d(0x243)](_0x99ac8d(0x24d)),_0x5ba1f4=_0x192b74[_0x99ac8d(0x243)](_0x99ac8d(0x37f));if(_0xca327f<0x0)_0xca327f=_0x5ba1f4;else{if(_0x5ba1f4>=0x0&&_0x5ba1f4<_0xca327f)_0xca327f=_0x5ba1f4;}if(_0xca327f>=0x0){let _0x19d0ac=_0x192b74[_0x99ac8d(0x2f1)](0x0,_0xca327f),_0x1b3ee3=_0x192b74[_0x99ac8d(0x201)](_0xca327f),_0x42c42a=_0x1b3ee3[_0x99ac8d(0x243)]('\x20');if(_0x42c42a>=0x0){let _0x5162c0=_0x1b3ee3['substring'](_0x42c42a);_0x5162c0=comment_link(_0x5162c0);let _0x1f4746=_0x1b3ee3[_0x99ac8d(0x2f1)](0x0,_0x42c42a),_0x14424a=_0x99ac8d(0x26b)+_0x1f4746+_0x99ac8d(0x286)+_0x1f4746+_0x99ac8d(0x22a);_0x192b74=_0x19d0ac+_0x14424a+_0x5162c0;}else console[_0x99ac8d(0x353)](_0x99ac8d(0x32d)+url+'\x27');}return _0x192b74;}function AutoLink(_0x31ab62){const _0xfea6cf=_0x163623;let _0x3ce66b=/((h?)(ttps?:\/\/[a-zA-Z0-9.\-_@:/~?%&;=+#',()*!]+))/g,_0x228c5b=function(_0x3d30e8,_0x396f47,_0x5d3dc1,_0x476863){const _0x102457=_0x51cc;return _0x102457(0x200)+_0x476863+_0x102457(0x20c)+'>'+_0x396f47+'</a>';};return _0x31ab62[_0xfea6cf(0x1da)](_0x3ce66b,_0x228c5b);}function make_html_comment(_0x195519){const _0x4855de=_0x163623;return _0x195519=_0x195519['replace'](/\r?\n/g,_0x4855de(0x1fb)),_0x195519=AutoLink(_0x195519),_0x195519;}function disp_comment(){const _0x3b247a=_0x163623;let _0x417ab8=Kifu[_0x3b247a(0x1ad)](Kifu[_0x3b247a(0x27d)]),_0x4dc6c9=Kifu['get_comment'](Kifu[_0x3b247a(0x27d)]),_0x235334='';if(_0x4dc6c9==null){if(Kifu['move_no']>0x0&&_0x417ab8['t']<0xb){let _0x4db084=Kifu[_0x3b247a(0x222)](Kifu['move_no']-0x1);if(_0x4db084==null)_0x235334='';else _0x235334=_0x4db084;}else _0x235334='';}else _0x235334=_0x4dc6c9;_0x235334=_0x235334[_0x3b247a(0x1da)](/▲/g,'☗'),_0x235334=_0x235334[_0x3b247a(0x1da)](/△/g,'☖'),comment_textarea[_0x3b247a(0x3a0)]=_0x235334,HTML_COMMENT&&(comment_div[_0x3b247a(0x267)]=0x0,_0x235334=make_html_comment(_0x235334),comment_div_p[_0x3b247a(0x375)]=_0x235334);}function ViewUpdate(){const _0x3863c3=_0x163623;draw_board(),ShohiGraph(Kifu,cbd),disp_comment(),select_kifu_list(),FREE&&Info(Kifu),FREE&&Kifu[_0x3863c3(0x396)]&&set_bunki_combo();}function ExecMove(_0x5d31eb,_0x5082f7,_0x56fde5,_0x3ab27d){const _0x564f2d=_0x163623;if(_0x56fde5!=MODE_SILENT&&_0x3ab27d['t']>0xa){}let _0x1553a0=_0x5d31eb[_0x564f2d(0x352)](_0x3ab27d);if(_0x1553a0!=0x0)return console[_0x564f2d(0x353)](_0x564f2d(0x246)),_0x1553a0;_0x3ab27d['k']=_0x5082f7[_0x564f2d(0x3b6)](_0x3ab27d['f']);if(_0x3ab27d['t']<0xb)_0x3ab27d['c']=0x0;else _0x3ab27d['c']=_0x5082f7['board'][_0x3ab27d['t']&0x7f];_0x5082f7[_0x564f2d(0x296)](_0x3ab27d),_0x5d31eb['move_no']++;_0x3ab27d['t']>0xa&&(_0x5082f7['teban']=0x80-_0x5082f7['teban'],_0x56fde5<MODE_SILENT&&(draw_board(),select_kifu_list()));if(_0x56fde5!=MODE_SILENT)Komaoto();return _0x56fde5!=MODE_SILENT&&_0x3ab27d['t']>0xa&&(DrawKomadaiTeban(_0x5082f7,0x0,_0x5d31eb),DrawKomadaiTeban(_0x5082f7,0x80,_0x5d31eb),RightImageName(_0x5d31eb),LeftImageName(_0x5d31eb),disp_comment()),_0x56fde5!=MODE_SILENT&&ShohiGraph(_0x5d31eb,_0x5082f7),0x0;}function BackMove(_0x679235,_0x581061,_0x15c77d,_0x4235b2){const _0x17726c=_0x163623;if(_0x679235[_0x17726c(0x27d)]<=0x0)return 0x1;let _0xc81185=_0x679235[_0x17726c(0x1ad)](_0x679235[_0x17726c(0x27d)]);if(_0xc81185['t']>=0xb)_0x581061[_0x17726c(0x2c2)]=0x80-_0x581061[_0x17726c(0x2c2)];let _0xf735a=_0xc81185['f'],_0x336b5e=_0xc81185['t'],_0x35c97a=_0xc81185['c'];_0x581061['BackMove'](_0xc81185);_0x15c77d!=MODE_SILENT&&_0xf735a<=0x63&&_0xf735a>=0xb&&(clear_sq(_0xf735a),DrawPiece(_0xf735a,_0x581061[_0x17726c(0x3b6)](_0xf735a)));_0x679235['back']();if(_0x15c77d!=MODE_SILENT&&_0x336b5e>=0xb){if(_0x679235['move_no']>0x0){var _0x59ab18=_0x679235[_0x17726c(0x32b)]();DrawLastPiece(_0x581061,_0x59ab18['t']&0x7f),DrawPiece(_0x59ab18['t']&0x7f,_0x581061[_0x17726c(0x3b6)](_0x59ab18['t']&0x7f)),DrawLastPieceFrom();}_0x336b5e&=0x7f,clear_sq(_0x336b5e);_0x35c97a!=0x0&&(DrawKomadai(_0x581061[_0x17726c(0x2c2)]),DrawPiece(_0x336b5e,_0xc81185['c']));if(_0xf735a<=0x63)console[_0x17726c(0x1e6)](_0x17726c(0x391)+_0xf735a),DrawPiece(_0xf735a,_0xc81185['k']);else DrawKomadai(_0x581061[_0x17726c(0x2c2)]);DrawKomadaiTeban(_0x581061,0x0,_0x679235),DrawKomadaiTeban(_0x581061,0x80,_0x679235),RightImageName(_0x679235),LeftImageName(_0x679235);}if(_0x15c77d!=MODE_SILENT&&_0x4235b2!=0x0)Komaoto();return _0x15c77d!=MODE_SILENT&&_0x336b5e>=0xb&&disp_comment(),_0x15c77d!=MODE_SILENT&&(ShohiGraph(_0x679235,_0x581061),select_kifu_list()),0x0;}function ReplayTop(){const _0x4fe963=_0x163623;console[_0x4fe963(0x1e6)]('---\x20ReplayTop'),cbd['copy_from_board'](start),Kifu['start'](),draw_board(),ShohiGraph(Kifu,cbd),disp_comment();if(Kifu[_0x4fe963(0x396)])set_kifu_list();select_kifu_list(),ButtonUpdate(),set_bunki_combo();}function ReplayNext(){const _0x4e821a=_0x163623;let _0x3c719d=Kifu[_0x4e821a(0x1d8)]();if(_0x3c719d['t']==CHUDAN||_0x3c719d['f']==0x0&&_0x3c719d['t']==0x0)return;ExecMove(Kifu,cbd,0x0,_0x3c719d),ButtonUpdate(),set_bunki_combo();}function ReplayBack(){const _0xbbee6e=_0x163623;BackMove(Kifu,cbd,0x0,0x1),ButtonUpdate();if(Kifu[_0xbbee6e(0x396)])set_kifu_list();set_bunki_combo();}function ReplayLast(_0x39f476,_0x4e51ed){const _0x4e7928=_0x163623;for(;;){let _0x37cd27=Kifu[_0x4e7928(0x1d8)](cbd);if(_0x37cd27['f']==0x0&&_0x37cd27['t']==0x0)break;if(_0x4e51ed==0x0&&_0x37cd27['t']<0xb)break;ExecMove(Kifu,cbd,MODE_SILENT,_0x37cd27);if(_0x37cd27['t']<0xb)break;}_0x39f476==0x0&&(ViewUpdate(),ButtonUpdate(),set_bunki_combo());}function ReplayStop(){replay_stop_flg=0x0,go_rep_flg=0x0;}function Jump_sub(_0x12ae75){const _0x5aa209=_0x163623;if(_0x12ae75==Kifu[_0x5aa209(0x27d)])return;if(_0x12ae75>Kifu[_0x5aa209(0x27d)])for(;;){let _0x432fd9=Kifu[_0x5aa209(0x1d8)](cbd);if(_0x432fd9['f']==0x0&&_0x432fd9['t']==0x0)break;ExecMove(Kifu,cbd,MODE_SILENT,_0x432fd9);if(_0x432fd9['t']<0xb)break;if(Kifu[_0x5aa209(0x27d)]>=_0x12ae75)break;}else for(;;){BackMove(Kifu,cbd,MODE_SILENT,0x0);if(Kifu[_0x5aa209(0x27d)]<=_0x12ae75)break;}}function Jump_henka(_0x42c966,_0x16cd62){const _0x310460=_0x163623;console[_0x310460(0x1e6)](_0x310460(0x2f3)+_0x42c966+_0x310460(0x3a7)+_0x16cd62);let _0x50a1e3;if(_0x16cd62==0x0||Kifu[_0x310460(0x210)](_0x42c966)==0x0){_0x50a1e3=Kifu[_0x310460(0x1ad)](Kifu['move_no']);let _0x74dbeb=Kifu['is_henka_kp'](_0x50a1e3),_0x22606a=_0x42c966-Kifu[_0x310460(0x27d)];Jump_sub(_0x42c966);_0x74dbeb!=0x0&&_0x22606a<0x0&&set_kifu_list();ViewUpdate(),ButtonUpdate();return;}Jump_sub(_0x42c966-0x1),_0x50a1e3=Kifu[_0x310460(0x1ad)](_0x42c966);let _0x558433=_0x50a1e3[_0x310460(0x27f)],_0x54b82a=new Kifup();if(_0x16cd62==0x1){_0x54b82a['f']=_0x558433['f'],_0x54b82a['t']=_0x558433['t'],ExecMove(Kifu,cbd,MODE_SILENT,_0x54b82a),set_kifu_list(),ViewUpdate(),ButtonUpdate();return;}for(let _0x44880e=0x1;_0x558433!=null;_0x44880e++){if(_0x44880e==_0x16cd62){_0x54b82a['f']=_0x558433['f'],_0x54b82a['t']=_0x558433['t'],ExecMove(Kifu,cbd,MODE_SILENT,_0x54b82a),set_kifu_list(),ViewUpdate(),ButtonUpdate();return;}_0x558433=_0x558433[_0x310460(0x27f)];}}function ReplayNextBranch(){const _0x3299b9=_0x163623;while(!![]){let _0x29b2bc=Kifu['get_next_move']();if(_0x29b2bc['f']==0x0&&_0x29b2bc['t']==0x0)break;if(_0x29b2bc['t']<0xb)break;ExecMove(Kifu,cbd,MODE_SILENT,_0x29b2bc);if(Kifu[_0x3299b9(0x2b5)]()==0x0)break;if(Kifu[_0x3299b9(0x210)](Kifu[_0x3299b9(0x27d)]+0x1)!=0x0)break;}ViewUpdate(),ButtonUpdate(),Komaoto();}function ReplayBackBranch(){const _0x4592f8=_0x163623;let _0x22c960=Kifu[_0x4592f8(0x1ad)](Kifu['move_no']),_0x11667f=Kifu[_0x4592f8(0x249)](_0x22c960);for(;;){if(Kifu[_0x4592f8(0x27d)]<=0x0)break;BackMove(Kifu,cbd,MODE_SILENT,0x0);if(Kifu[_0x4592f8(0x210)](Kifu[_0x4592f8(0x27d)]+0x1)!=0x0)break;}if(_0x11667f!=0x0)set_kifu_list();ViewUpdate(),ButtonUpdate(),Komaoto();}function ___TOUCH_EVENT______(){}canvas[_0x163623(0x2d4)](_0x163623(0x2a6),onDown,![]),canvas[_0x163623(0x2d4)](_0x163623(0x1c3),onUp,![]);isIOS?canvas['addEventListener']('touchstart',touchDown,![]):canvas['addEventListener'](_0x163623(0x216),onClick,![]);Kifu['start'](),load_kifu('',Kifu,0x1,-0x1),draw_board(),LoadImages(Kifu);function ButtonUpdate(){const _0x53b694=_0x163623;Kifu[_0x53b694(0x27d)]<=0x0?(button_top[_0x53b694(0x29f)]=_0x53b694(0x332),document[_0x53b694(0x316)](_0x53b694(0x326))['disabled']='true',document[_0x53b694(0x316)]('button_backr')[_0x53b694(0x29f)]=_0x53b694(0x332),button_backB[_0x53b694(0x29f)]='true'):(button_top[_0x53b694(0x29f)]='',document['getElementById'](_0x53b694(0x326))['disabled']='',document[_0x53b694(0x316)]('button_backr')[_0x53b694(0x29f)]='',Kifu[_0x53b694(0x396)]==0x1&&(button_backB[_0x53b694(0x29f)]='')),Kifu['can_susumeru']()!=0x0?(document[_0x53b694(0x316)](_0x53b694(0x1e8))[_0x53b694(0x29f)]='',document[_0x53b694(0x316)](_0x53b694(0x1fd))[_0x53b694(0x29f)]='',button_last[_0x53b694(0x29f)]='',Kifu[_0x53b694(0x396)]==0x1&&(button_nextB['disabled']='')):(document['getElementById'](_0x53b694(0x1e8))[_0x53b694(0x29f)]='true',document['getElementById'](_0x53b694(0x1fd))[_0x53b694(0x29f)]=_0x53b694(0x332),button_last[_0x53b694(0x29f)]=_0x53b694(0x332),Kifu['bunki_flg']==0x1&&(button_nextB['disabled']=_0x53b694(0x332)));}function __OnChange_____(){}function OnKifuSelectChange(){const _0x1f999b=_0x163623;let _0x498783=kifu_select[_0x1f999b(0x206)];console[_0x1f999b(0x1e6)](_0x1f999b(0x2e5)+_0x498783),Jump_sub(_0x498783),draw_board(),ShohiGraph(Kifu,cbd),disp_comment(),FREE&&Info(Kifu),set_bunki_combo(),ButtonUpdate(),Komaoto();}function OnBranchChange(){const _0x1ba89b=_0x163623;let _0x3ef388=branch_select['selectedIndex'];console['log']('##\x20OnBranchChange\x20index='+_0x3ef388),_0x3ef388!=0x0&&(Jump_henka(Kifu[_0x1ba89b(0x27d)]+0x1,_0x3ef388),Komaoto());}function StopAutoUpdate(){const _0x1a22a2=_0x163623;console['log'](_0x1a22a2(0x1e5)),clearInterval(update_timer_id),update_select[_0x1a22a2(0x206)]=0x0;}function OnUpdateChange(){const _0x5c9df7=_0x163623;let _0x4293cc=update_select['selectedIndex'];console[_0x5c9df7(0x1e6)](_0x5c9df7(0x292)+_0x4293cc);if(_0x4293cc==0x0)clearInterval(update_timer_id);else{if(_0x4293cc==0x1)update_timer_id=setInterval(update_timer,0x7530);else{if(_0x4293cc==0x2)update_timer_id=setInterval(update_timer,0xea60);else{if(_0x4293cc==0x3)update_timer_id=setInterval(update_timer,0xea60*0x3);}}}}function komaotoOnChange(){const _0x371640=_0x163623;komaoto_flg=komaoto_check[_0x371640(0x26e)],console['log'](_0x371640(0x265)+komaoto_flg),document['cookie']=_0x371640(0x329)+komaoto_flg;}function OnButtonTopClick(){ReplayTop(),Komaoto();}function OnButtonBackRClick(){replay_stop_flg=0x0,go_rep_flg=-0x1;}function OnButtonBackClick(){ReplayBack();}function OnButtonNextClick(){ReplayNext();}function OnButtonNextRClick(){replay_stop_flg=0x0,go_rep_flg=0x1;}function OnButtonLastClick(){ReplayLast(0x0,0x1),Komaoto();}function OnButtonStopClick(){replay_stop_flg=0x1,go_rep_flg=0x0;}document['onkeydown']=function(_0x4dc4f7){const _0x57e92d=_0x163623;if(!_0x4dc4f7)_0x4dc4f7=window[_0x57e92d(0x2e4)];let _0xef0b9f=_0x4dc4f7['keyCode'];if(_0xef0b9f==0x27)ReplayNext();else{if(_0xef0b9f==0x25)ReplayBack();else{if(_0xef0b9f==0x24)ReplayTop(),Komaoto();else _0xef0b9f==0x23&&OnButtonLastClick();}}console[_0x57e92d(0x1e6)](_0x4dc4f7);};